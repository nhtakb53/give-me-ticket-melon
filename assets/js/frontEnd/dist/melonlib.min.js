function setCookie(e,t,a,n,r){var i;null==a||""==a?document.cookie=e+"="+escape(t)+";path="+n+";domain="+r:((i=new Date).setDate(i.getDate()+a),document.cookie=e+"="+escape(t)+";path="+n+";domain="+r+";expires="+i.toGMTString())}function setFkCookie(e,t,a,n,r){var i;null==a||""==a?document.cookie=e+"="+escape(t)+";path="+n+";domain="+r:((i=new Date).setHours(i.getHours()+a),document.cookie=e+"="+escape(t)+";path="+n+";domain="+r+";expires="+i.toGMTString())}function setRealCookie(e,t){document.cookie=e+"="+escape(t)+";path=/;domain=.melon.com"}function getCookie(e){for(var t,a,n=document.cookie.split(";"),r=0;r<n.length;r++)if(t=n[r].substr(0,n[r].indexOf("=")),a=n[r].substr(n[r].indexOf("=")+1),(t=t.replace(/^\s+|\s+$/g,""))==e)return unescape(a);return""}function isMelonLogin(){var e=getMemberKey("memberKey");return!("undefined"==e||null==e||e.length<=0)}function getMemberKey(){return getMLCPHeaderCookie("memberKey")}function getMemberId(){return getMLCPHeaderCookie("memberId")}function getMemberNickName(){var e=getDisplayId();return e||"닉네임 없음"}function getDisplayId(){return getMLCPHeaderCookie("displayId")}function getDisplayLoginId(){return getMLCPHeaderCookie("displayLoginId")}function getMemberAge(){return getApiMemberProperties("getMemberAge")}function getMemberSex(){return getApiMemberProperties("getMemberSex")}function getMemberBirthDay(){var e=getMemberAge();return(new Date).getYear()-e+1+"0101"}function isMemberAdult(){var e=getMemberAge(),t=isRealNameFlag();return e<19?"0":19<=e&&"Y"==t?"1":19<=e&&"N"==t?"2":e<19&&"Y"==t?"3":void 0}function isAdultPwdOption(){return"0"}function isRealNameFlag(e){return getApiMemberProperties("getRealNameYn")}function getMemberAuthFlg(){try{document.location.href.split(":")[0]}catch(e){0}var n,e=getMemberAge(),t=isRealNameFlag();getAdultAuthentication();return"Y"==t?19<=e?isMelonLogin()?(n="2",$.ajax({url:"/common/ajax/realname_isAuthCk.json",type:"POST",data:{memberKey:getMemberKey(),cpId:melon.getPocId(),viewType:"juvenileProtection"},dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0},async:!1,error:function(e,t,a){alert("오류코드 : ["+e.status+"]\n오류내용 : "+a),n="-1"},success:function(e){n="000000"==e.resultCode?"1":"AUR003"==e.errorCode?"0"==e.adultPwdOption?"5":"6":(e.errorCode,"2")}}),n):"2":"3":19<=e?"0":"4"}function getGradeImageUrl(){return getApiMemberProperties("getGradeImageUrl")}function getGrade(){return getApiMemberProperties("getGrade")}function getAdultAuthentication(){return getApiMemberProperties("getAdultAuth")}function getAndroidCkMdn(){return getMUADHeaderCookie("androidCkMdn")}function getAndroidCkDcf(){return getMUADHeaderCookie("androidCkDcf")}function chkMACAuth(){var e=getCookie("MAC");return null!=e&&""!=e}function getMemberDjYn(){return getMLCPHeaderCookie("memberDjYn")}function getMemberArtistId(){return getMLCPHeaderCookie("memberArtistId")}function getMemberToken(){return getMLCPHeaderCookie("token")}function getFacebookConnectYn(){return getMLCPHeaderCookie("facebookConnect")}function getDisplayId(){return getMLCPHeaderCookie("displayId")}function getMemberType(){return getMLCPHeaderCookie("memberType")}var singletonCookieMUAD;function getCookieMUAD(){var e;return singletonCookieMUAD=null==singletonCookieMUAD&&null!=(e=getCookie("MUAD"))?Base64.decode(e):singletonCookieMUAD}function getMUADHeaderCookie(e){var t=new Array,a=getCookieMUAD();return null==a?null:(a=a.split(";"),t.androidCkMdn=a[0],t.androidCkDcf=a[1],t[e])}function setMuidWindowName(e){window.name=e}function getMLCPHeaderCookie(e){var t=new Array,a=unescape(decodeURIComponent(Base64.decode(getCookie("MLCP"))));return null==a?null:(a=a.split(";"),t.memberKey=a[0],t.memberId=a[1],t.memberDjYn=a[2],t.memberArtistId=a[3],t.token=a[4],t.facebookConnect=a[5],t.displayId=a[7],t.memberType=a[8],t.displayLoginId=a[9],t.cookieLoginType=a[10],t[e])}function domainInfo(){var e=[];return e[0]=DeployPhaseUtils.convertUrl("http://member.melon.com"),e[1]=DeployPhaseUtils.convertUrl("https://member.melon.com"),e}function getApiMemberProperties(e){var t=null;return $.ajax({url:"/member/"+e+".json",async:!1,success:function(e){t=e.data}}),t}var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,a,n,r,i,o,l="",s=0;for(e=Base64._utf8_encode(e);s<e.length;)n=(t=e.charCodeAt(s++))>>2,r=(3&t)<<4|(t=e.charCodeAt(s++))>>4,i=(15&t)<<2|(a=e.charCodeAt(s++))>>6,o=63&a,isNaN(t)?i=o=64:isNaN(a)&&(o=64),l=l+this._keyStr.charAt(n)+this._keyStr.charAt(r)+this._keyStr.charAt(i)+this._keyStr.charAt(o);return l},decode:function(e){var t,a,n,r,i,o,l="",s=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");s<e.length;)n=this._keyStr.indexOf(e.charAt(s++)),t=(15&(r=this._keyStr.indexOf(e.charAt(s++))))<<4|(i=this._keyStr.indexOf(e.charAt(s++)))>>2,a=(3&i)<<6|(o=this._keyStr.indexOf(e.charAt(s++))),l+=String.fromCharCode(n<<2|r>>4),64!=i&&(l+=String.fromCharCode(t)),64!=o&&(l+=String.fromCharCode(a));return l=Base64._utf8_decode(l)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var n=e.charCodeAt(a);n<128?t+=String.fromCharCode(n):t=127<n&&n<2048?(t+=String.fromCharCode(n>>6|192))+String.fromCharCode(63&n|128):(t=(t+=String.fromCharCode(n>>12|224))+String.fromCharCode(n>>6&63|128))+String.fromCharCode(63&n|128)}return t},_utf8_decode:function(e){var t,a="",n=0;for(c1=c2=0;n<e.length;)(t=e.charCodeAt(n))<128?(a+=String.fromCharCode(t),n++):191<t&&t<224?(c2=e.charCodeAt(n+1),a+=String.fromCharCode((31&t)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),a+=String.fromCharCode((15&t)<<12|(63&c2)<<6|63&c3),n+=3);return a}};function niceAuthPopTicket(e,t,a,n,r,i,o,l,s){DeployPhaseUtils.convertUrl("http://member.melon.com");null==domainInfo()[1]&&DeployPhaseUtils.convertUrl("https://member.melon.com");var c=600,d=464;if("changeName"!=e&&"panConn"!=e&&"loginAuth"!=e&&"serviceAuth"!=e&&"infoAuth"!=e&&"downloadCharge"!=e&&"charge"!=e&&"board"!=e&&"nineteen"!=e&&"mma"!=e&&"adultPwdSetPop"!=e&&"adultPwdValidPop"!=e&&"juvenileProtection"!=e&&"poll"!=e)alert("잘못된 파라미터입니다.");else{"adultPwdSetPop"==e?d=643:"adultPwdValidPop"==e?d=520:"charge"==e||"downloadCharge"==e?d=450:"nineteen"==e||"juvenileProtection"==e?d=570:"mma"==e?(c=500,d=640):"poll"==e&&(c=500,d=680);a&&("adultPwdSetPop"!=e&&"adultPwdValidPop"!=e||"01"==o)&&(-1<t.indexOf("?")?t+="&isReload=Y":t+="?isReload=Y"),null!=n&&""!=n&&(t=-1<t.indexOf("?")?t+"&callback="+n:t+"?callback="+n),null!=r&&""!=r&&(t=-1<t.indexOf("?")?t+"&removeCallback="+r:t+"?removeCallback="+r),null!=o&&""!=o&&(t=-1<t.indexOf("?")?t+"&contentType="+o:t+"?contentType="+o),null!=l&&""!=l&&(t=-1<t.indexOf("?")?t+"&encMemberId="+l:t+"?encMemberId="+l),null!=s&&""!=s&&(t=-1<t.indexOf("?")?t+"&cpId="+s:t+"?cpId="+s);try{null!=e&&""!=e&&(t=-1<t.indexOf("?")?t+"&viewType="+e:t+"?viewType="+e)}catch(e){}try{var m=MELON.WEBSVC.POC.getPocId();null!=m&&""!=m&&(t=-1<t.indexOf("?")?t+"&cpId="+m:t+"?cpId="+m)}catch(e){-1<t.indexOf("?")?t+="&cpId=WP15":t+="?cpId=WP15"}try{var _=getMemberKey();null!=_&&""!=_&&(t=-1<t.indexOf("?")?t+"&memberKey="+_:t+"?memberKEy="+_)}catch(e){return void alert("로그인 후 사용해주세요.")}a="scrollbars=auto, resizable=yes,location=no, width="+c+",height="+d+", left=20, top=20",window.open(t,"_REALNAME_AUTHENTICATION_POP","app_,"+a)}}var MemberCommFunc={memberAuthPop:function(e,t){DeployPhaseUtils.convertUrl("http://member.melon.com");var a=domainInfo()[1],a=(a=null==a?DeployPhaseUtils.convertUrl("https://member.melon.com"):a)+"/muid/web/popup/memberauth_inform.htm";null!=e&&""!=e&&(a=-1<a.indexOf("?")?a+"&encMemberId="+e:a+"?encMemberId="+e),null!=t&&""!=t&&(a=-1<a.indexOf("?")?a+"&cpId="+t:a+"?cpId="+t);window.open(a,"_MEMBERINFO_AUTHENTICATION_POP","app_,scrollbars=auto, resizable=yes,location=no, width=600,height=464, left=20, top=20")}};function logout(e,t){var a=$('<form method="post" name="menuLoginFrm"></form>'),n=(a.appendTo("body"),$("<input />")),e=(n.attr("name","locationType"),n.attr("value",void 0!==e?e:""),n.appendTo(a),(n=$("<input />")).attr("name","returnPage"),n.attr("value",void 0!==t?t:""),n.appendTo(a),"/muid/family/ticket/logout/web/logout_inform.htm");document.location.href.indexOf("member.melon.com")<0&&(e=DeployPhaseUtils.convertUrl("https://member.melon.com")+e),a.attr("action",e),a.submit()}function Nethru_getCookieVal(e){var t=document.cookie.indexOf(";",e);return-1==t&&(t=document.cookie.length),unescape(document.cookie.substring(e,t))}function Nethru_SetCookie(e,t){var a=Nethru_SetCookie.arguments,n=Nethru_SetCookie.arguments.length,r=2<n?a[2]:null,i=3<n?a[3]:null,o=4<n?a[4]:null,n=5<n&&a[5];document.cookie=e+"="+escape(t)+(null==r?"":"; expires="+r.toGMTString())+(null==i?"":"; path="+i)+(null==o?"":"; domain="+o)+(1==n?"; secure":"")}function Nethru_GetCookie(e){for(var t=e+"=",a=t.length,n=document.cookie.length,r=0;r<n;){var i=r+a;if(document.cookie.substring(r,i)==t)return Nethru_getCookieVal(i);if(0==(r=document.cookie.indexOf(" ",r)+1))break}return null}function Nethru_makePersistentCookie(e,t,a,n){var r=new Date,i=new Date(2100,1,1);if(Nethru_GetCookie(e))return 1;for(var o=new Array,l=0;l<t;l++)o[l]=""+Math.random();for(var s=r.getTime(),l=0;l<t;l++)s+=o[l].charAt(2);Nethru_SetCookie(e,s,i,a,n)}function Nethru_makePersistentCookie1(e,t,a,n){if(null==n)return 1;var r=new Date(2100,1,1),i=(screen.width,e+"_RESOLUTION"),e=e+"_COLOR",o=screen.width+"*"+screen.height,l=screen.colorDepth,s=Nethru_GetCookie(i),c=Nethru_GetCookie(e);s&&s==o||Nethru_SetCookie(i,o,r,a,n),c&&c==l||Nethru_SetCookie(e,l,r,a,n)}function Nethru_getDomain(){var e=document.domain.split("."),t=e[e.length-2]+"."+e[e.length-1];return 2==e[e.length-1].length?e[e.length-3]+"."+t:t}var Nethru_domain=Nethru_getDomain();function memberMyinfoGnb(e,t,a){var n,r,i;null!=a&&""!=a?null==(a=document.getElementById("header"))&&((a=document.createElement("div")).id="header",a.innerHTML+="<div id='gnb'>","LOGIN"==e||"EMAILRECEIVECANCEL"==e?(a.innerHTML+="<div class='gnb_mem'>",a.innerHTML+="<div>",a.innerHTML+="<h1><a href=\"javascript:MemberEtc.goPage('MAIN');\" title='Melon 메인 - 페이지 이동'><img src='"+DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/member/img_logo.png")+"' width='85' height='32' alt='Melon' /></a></h1>"):(r=n="","MYINFO01"!=e&&("PRODUCTCENTER"!=e&&"ENTEREVENT"!=e||(n="mp_header",r="mp_menu")),a.innerHTML+="<div class='gnb_mem02'>",a.innerHTML+="<div class='wrap_header "+n+"'>",a.innerHTML+="<h1><a href=\"javascript:MemberEtc.goPage('MAIN');\" title='Melon 메인 - 페이지 이동'><img src='"+DeployPhaseUtils.convertUrl("//cdnimg.melon.co.kr/resource/image/web/member/img_logo.png")+"' width='85' height='32' alt='Melon' /></a></h1>",a.innerHTML+="\t\t<div id='gnb_menu'>",a.innerHTML+="\t\t\t<ul>",a.innerHTML+="\t\t\t\t<li class='first_child'><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/chart/index.htm")+"' class='main_menu menu01' title='멜론차트'><span>멜론차트</span></a></li>",a.innerHTML+="\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/new/index.htm")+"' class='main_menu menu02' title='최신음악'><span>최신음악</span></a></li>",a.innerHTML+="\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/genre/song_list.htm?classicMenuId=DP0100")+"' class='main_menu menu03' title='장르음악'><span>장르음악</span></a></li>",a.innerHTML+="\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/dj/today/djtoday_list.htm")+"' class='main_menu menu04' title='멜론DJ'><span>멜론DJ</span></a></li>",a.innerHTML+="\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/tv/index.htm")+"' class='main_menu menu05' title='멜론TV'><span>멜론TV</span></a></li>",a.innerHTML+="\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/artistplus/todayupdate/index.htm")+"' class='main_menu menu06' title='아티스트+'><span>아티스트+</span></a></li>",a.innerHTML+="\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/musicstory/today/index.htm")+"' class='main_menu menu07' title='뮤직스토리'><span>뮤직스토리</span></a></li>",a.innerHTML+="\t\t\t\t<li class=''><a href='#' class='main_menu menu08' title='더보기'><span>더보기</span></a>",a.innerHTML+="\t\t\t\t\t<div class='more_wrap' style='display:none'>\x3c!-- more_lay일때 display:block --\x3e",a.innerHTML+="\t\t\t\t\t\t<ul>",a.innerHTML+="\t\t\t\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/smartradio/index.htm")+"' title='스마트라디오'><span class='menu_more m1'>스마트라디오</span></a></li>",a.innerHTML+="\t\t\t\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/flac/index.htm")+"' title='원음전용관'><span class='menu_more m2'>원음전용관</span></a></li>",a.innerHTML+="\t\t\t\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/edu/index.htm")+"' title='어학'><span class='menu_more m3'>어학</span></a></li>",a.innerHTML+="\t\t\t\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/customer/announce/index.htm")+"' title='공지사항'><span class='menu_more m4'>공지사항</span></a></li>",a.innerHTML+="\t\t\t\t\t\t</ul>",a.innerHTML+="\t\t\t\t\t\t<ul>",a.innerHTML+="\t\t\t\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/commerce/pamphlet/web/sale_listMainView.htm")+"' title='이용권구매'><span class='menu_more m9'>이용권구매</span></a></li>",a.innerHTML+="\t\t\t\t\t\t\t<li class=''><a href='javascript:goMyPageAddCash();' title='멜론캐쉬충전'><span class='menu_more m6'>멜론캐쉬충전</span></a></li>",a.innerHTML+="\t\t\t\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/event/index.htm")+"' title='이벤트'><span class='menu_more m7'>이벤트</span></a></li>",a.innerHTML+="\t\t\t\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://faqs2.melon.com/customer/index.htm")+"' title='고객센터'><span class='menu_more m8'>고객센터</span></a></li>",a.innerHTML+="\t\t\t\t\t\t</ul>",a.innerHTML+="\t\t\t\t\t</div>",a.innerHTML+="\t\t\t\t</li>",a.innerHTML+="\t\t\t</ul>",a.innerHTML+="\t\t</div>",isMelonLogin()?(i=getCookie("MPS"),a.innerHTML+="<div class='header_login'>",a.innerHTML+="<span class='wrap_id'><span class='user_id'>",""!=getGrade()&&"일반"!=getGrade()&&(a.innerHTML+="<span class='icon_grade'><img src='"+getGradeImageUrl()+"' width='18' height='18' alt="+getGrade()+"></span>"),a.innerHTML+="<a href='"+DeployPhaseUtils.convertUrl("https://member.melon.com/muid/web/help/myinfointro_inform.htm")+"'>"+getMemberId()+"</a></span> 님</span>",(null==i||i.indexOf("MELONPLAYER")<0)&&(a.innerHTML+="<button type='button' onclick=\"MemberEtc.goPage('LOGOUT');\" title='로그아웃 - 페이지 이동' class='btn_big short'><span class='odd_span'><span class='even_span'>로그아웃</span></span></button>")):(a.innerHTML+="<div class='header_login'>",a.innerHTML+="<button type='button' onclick=\"MemberEtc.goPage('LOGIN');\" title='로그인 - 페이지 이동' class='btn_big short'><span class='odd_span'><span class='even_span'>로그인</span></span></button>"),a.innerHTML+="</div>",a.innerHTML+="</div>",a.innerHTML+="<div class='wrap_menu "+r+"'>",a.innerHTML+="<ul>",a.innerHTML+="<li class='"+("MYINFO1"==e?"on":"")+"'><a href=\"javascript:MemberEtc.goPage('BASIC_INFO_CHANGE');\" title='회원정보 - 페이지 이동'><span class='m_menu m1'>회원정보</span></a></li>",a.innerHTML+="<li class='"+("MYINFO2"==e?"on":"")+"'><a href=\"javascript:MemberEtc.goPage('LOGIN_HISTORY');\" title='내 정보 보호 - 페이지 이동'><span class='m_menu m2'>내 정보 보호</span></a></li>",a.innerHTML+="<li class='"+("MYINFO3"==e?"on":"")+"'><a href=\"javascript:MemberEtc.goPage('PRIVATE_INFO');\" title='개인정보 이용내역 - 페이지 이동'><span class='m_menu m3'>개인정보 이용내역</span></a></li>",a.innerHTML+="<li class='"+("MYINFO4"==e?"on":"")+"'><a href=\"javascript:MemberEtc.goPage('GRADE_INFO');\" title='내 등급 - 페이지 이동'><span class='m_menu m9'>내 등급</span></a></li>",a.innerHTML+="<li class='"+("PRODUCTCENTER"==e?"on":"")+"'><a href=\"javascript:MemberEtc.goPage('PRODUCTCENTER');\" title='내 이용권/결제정보 - 페이지 이동'><span class='m_menu m8'>내 이용권/결제정보</span></a></li>",a.innerHTML+="<li class='"+("ENTEREVENT"==e?"on":"")+"'><a href=\"javascript:MemberEtc.goPage('ENTEREVENT');\" title='이벤트 응모내역 - 페이지 이동'><span class='m_menu m5'>이벤트 응모내역</span></a></li>",a.innerHTML+="</ul>"),a.innerHTML+="</div>",a.innerHTML+="</div>",a.innerHTML+="</div>",a.innerHTML+="</div>",document.getElementById("wrap").appendChild(a)):(document.write("<div id='header'>"),document.write("<div id='gnb'>"),"LOGIN"==e||"EMAILRECEIVECANCEL"==e?(document.write("<div class='gnb_mem'>"),document.write("<div>"),document.write("<h1><a href=\"javascript:MemberEtc.goPage('MAIN');\" title='Melon 메인 - 페이지 이동'><img src='"+DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/member/img_logo.png")+"' width='85' height='32' alt='Melon' /></a></h1>")):(r=n="","MYINFO01"==e||("PRODUCTCENTER"!=e&&"ENTEREVENT"!=e||(n="mp_header",r="mp_menu")),document.write("<div class='gnb_mem02'>"),document.write("<div class='wrap_header "+n+"'>"),document.write("<h1><a href=\"javascript:MemberEtc.goPage('MAIN');\" title='Melon 메인 - 페이지 이동'><img src='"+DeployPhaseUtils.convertUrl("//cdnimg.melon.co.kr/resource/image/web/member/img_logo.png")+"' width='85' height='32' alt='Melon' /></a></h1>"),document.write("\t\t<div id='gnb_menu'>"),document.write("\t\t\t<ul>"),document.write("\t\t\t\t<li class='first_child'><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/chart/index.htm")+"' class='main_menu menu01' title='멜론차트'><span>멜론차트</span></a></li>"),document.write("\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/new/index.htm' class='main_menu menu02")+"' title='최신음악'><span>최신음악</span></a></li>"),document.write("\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/genre/song_list.htm?classicMenuId=DP0100")+"' class='main_menu menu03' title='장르음악'><span>장르음악</span></a></li>"),document.write("\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/dj/today/djtoday_list.htm")+"' class='main_menu menu04' title='멜론DJ'><span>멜론DJ</span></a></li>"),document.write("\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/tv/index.htm' class='main_menu menu05")+"' title='멜론TV'><span>멜론TV</span></a></li>"),document.write("\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/artistplus/todayupdate/index.htm")+"' class='main_menu menu06' title='아티스트+'><span>아티스트+</span></a></li>"),document.write("\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/musicstory/today/index.htm")+"' class='main_menu menu07' title='뮤직스토리'><span>뮤직스토리</span></a></li>"),document.write("\t\t\t\t<li class=''><a href='#' class='main_menu menu08' title='더보기'><span>더보기</span></a>"),document.write("\t\t\t\t\t<div class='more_wrap' style='display:none'>\x3c!-- more_lay일때 display:block --\x3e"),document.write("\t\t\t\t\t\t<ul>"),document.write("\t\t\t\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/smartradio/index.htm")+"' title='스마트라디오'><span class='menu_more m1'>스마트라디오</span></a></li>"),document.write("\t\t\t\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/flac/index.htm")+"' title='원음전용관'><span class='menu_more m2'>원음전용관</span></a></li>"),document.write("\t\t\t\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/edu/index.htm")+"' title='어학'><span class='menu_more m3'>어학</span></a></li>"),document.write("\t\t\t\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/customer/announce/index.htm")+"' title='공지사항'><span class='menu_more m4'>공지사항</span></a></li>"),document.write("\t\t\t\t\t\t</ul>"),document.write("\t\t\t\t\t\t<ul>"),document.write("\t\t\t\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/commerce/pamphlet/web/sale_listMainView.htm")+"' title='이용권구매'><span class='menu_more m9'>이용권구매</span></a></li>"),document.write("\t\t\t\t\t\t\t<li class=''><a href='javascript:goMyPageAddCash();' title='멜론캐쉬충전'><span class='menu_more m6'>멜론캐쉬충전</span></a></li>"),document.write("\t\t\t\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://www.melon.com/event/index.htm")+"' title='이벤트'><span class='menu_more m7'>이벤트</span></a></li>"),document.write("\t\t\t\t\t\t\t<li class=''><a href='"+DeployPhaseUtils.convertUrl("https://faqs2.melon.com/customer/index.htm")+"' title='고객센터'><span class='menu_more m8'>고객센터</span></a></li>"),document.write("\t\t\t\t\t\t</ul>"),document.write("\t\t\t\t\t</div>"),document.write("\t\t\t\t</li>"),document.write("\t\t\t</ul>"),document.write("\t\t</div>"),isMelonLogin()?(i=getCookie("MPS"),document.write("<div class='header_login'>"),document.write("<span class='wrap_id'><span class='user_id'>"),""!=getGrade()&&"일반"!=getGrade()&&document.write("<span class='icon_grade'><img src='"+getGradeImageUrl()+"' width='18' height='18' alt="+getGrade()+"></span>"),document.write("<a href='"+DeployPhaseUtils.convertUrl("https://member.melon.com/muid/web/help/myinfointro_inform.htm")+"'>"+getMemberId()+"</a></span> 님</span>"),(null==i||i.indexOf("MELONPLAYER")<0)&&document.write("<button type='button' onclick=\"MemberEtc.goPage('LOGOUT');\" title='로그아웃 - 페이지 이동' class='btn_big short'><span class='odd_span'><span class='even_span'>로그아웃</span></span></button>")):(document.write("<div class='header_login'>"),document.write("<button type='button' onclick=\"MemberEtc.goPage('LOGIN');\" title='로그인 - 페이지 이동' class='btn_big short'><span class='odd_span'><span class='even_span'>로그인</span></span></button>")),document.write("</div>"),document.write("</div>"),document.write("<div class='wrap_menu "+r+"'>"),document.write("<ul>"),document.write("<li class='"+("MYINFO1"==e?"on":"")+"'><a href=\"javascript:MemberEtc.goPage('BASIC_INFO_CHANGE');\" title='회원정보 - 페이지 이동'><span class='m_menu m1'>회원정보</span></a></li>"),document.write("<li class='"+("MYINFO2"==e?"on":"")+"'><a href=\"javascript:MemberEtc.goPage('LOGIN_HISTORY');\" title='내 정보 보호 - 페이지 이동'><span class='m_menu m2'>내 정보 보호</span></a></li>"),document.write("<li class='"+("MYINFO3"==e?"on":"")+"'><a href=\"javascript:MemberEtc.goPage('PRIVATE_INFO');\" title='개인정보 이용내역 - 페이지 이동'><span class='m_menu m3'>개인정보 이용내역</span></a></li>"),document.write("<li class='"+("MYINFO4"==e?"on":"")+"'><a href=\"javascript:MemberEtc.goPage('GRADE_INFO');\" title='내 등급 - 페이지 이동'><span class='m_menu m9'>내 등급</span></a></li>"),document.write("<li class='"+("PRODUCTCENTER"==e?"on":"")+"'><a href=\"javascript:MemberEtc.goPage('PRODUCTCENTER');\" title='내 이용권/결제정보 - 페이지 이동'><span class='m_menu m8'>내 이용권/결제정보</span></a></li>"),document.write("<li class='"+("ENTEREVENT"==e?"on":"")+"'><a href=\"javascript:MemberEtc.goPage('ENTEREVENT');\" title='이벤트 응모내역 - 페이지 이동'><span class='m_menu m5'>이벤트 응모내역</span></a></li>"),document.write("</ul>")),document.write("</div>"),document.write("</div>"),document.write("</div>"),document.write("</div>"))}function memberFooter(e,t){e="PRODUCTCENTER"!=e&&"ENTEREVENT"!=e?"":"mp_footer";"ERL069"!=t&&(document.write("<div id='footer' class='"+e+"'>"),document.write("<ul class='clfix'>"),document.write("\t\t<li class='first_child'><a href='https://www.kakao-m.com/' title='회사소개 - 새 창' target='_blank'>회사소개</a></li>"),document.write("\t\t<li><a href='"+DeployPhaseUtils.convertUrl("https://info.melon.com/terms/web/terms1_4.html")+"' title='이용약관 - 페이지 이동'>이용약관</a></li>"),document.write("\t\t<li><a href='"+DeployPhaseUtils.convertUrl("https://info.melon.com/terms/web/terms3.html")+"' title='개인정보취급방침 - 페이지 이동'><strong>개인정보취급방침</strong></a></li>"),document.write("\t\t<li><a href='"+DeployPhaseUtils.convertUrl("https://info.melon.com/terms/web/terms5_1.html")+"' title='청소년보호정책 - 페이지 이동'>청소년보호정책</a></li>"),document.write("\t\t<li><a href='"+DeployPhaseUtils.convertUrl("https://faqs2.melon.com/customer/faq/informFaq.htm?no=1&amp;faqId=QUES20140616000001&amp;SEARCH_KEY=&amp;SEARCH_PAR_CATEGORY=CATE20130909000006&amp;SEARCH_CATEGORY=CATE20130909000021")+"' title='제휴/프로모션문의 - 새 창' target='_blank'>제휴/프로모션문의</a></li>"),document.write("\t\t<li><a href=\"javascript:MemberEtc.goPage('EMAIL_COL_REJECT',1,384,331);\" title='이메일주소무단수집거부  - 새 창'>이메일주소무단수집거부 </a></li>"),document.write("\t\t<li><a href='"+DeployPhaseUtils.convertUrl("https://faqs2.melon.com/customer/index.htm")+"' title='고객센터 - 새 창' target='_blank'>고객센터</a></li>"),document.write("\t\t<li><a href='"+DeployPhaseUtils.convertUrl("https://partner.melon.com")+"' title='파트너센터 - 새 창' target='_blank'>파트너센터</a></li>"),document.write("</ul>"),document.write("<p>"),document.write("\t\t<span class='first'>제주특별자치도 제주시 첨단로 242(영평동)</span><span>공동대표이사 : 여민수, 조수용</span><span>사업자등록번호 : 120-81-47521</span><span>통신판매업 신고번호 : 제2015-제주아라-0032호 <a href='http://www.ftc.go.kr/bizCommPop.do?wrkr_no=1208147521&apv_perm_no=2012651005630200009' class='btn-info' title='사업자정보확인'>사업자정보확인</a></span>"),document.write("\t\t<span class='first'>문의전화(평일 09:00~18:00) : 1566-7727 (유료)</span><span>호스팅제공자 : (주) 카카오© Kakao </span><span>Corp. All rights reserved.</span>"),document.write("</p>"),document.write("</div>"))}function accountAction(e){e=e.data;"account"===e.messageFrom&&("refresh"===e.action&&location.reload(!0),"move"===e.action)&&void 0!==e.url&&location.replace(decodeURIComponent(e.url))}function MelOnAPIHelper(){this.LIST=Array()}Nethru_makePersistentCookie("PCID",10,"/",Nethru_domain),((o,p,a)=>{var e,t,n,r=p(document.documentElement),u=(r.one("touchstart MSGestureStart",function(){r.addClass("touch")}),o.MELON||(o.MELON={})),d=u.WEBSVC||(u.WEBSVC={}),i=(u.WEBSVC.CM||(u.WEBSVC.CM={}),Object.prototype.toString),l=Object.prototype.hasOwnProperty,s=o.document,c=(void 0===Function.prototype.bind&&(Function.prototype.bind=function(){var t=this,a=Array.prototype.slice.call(arguments),n=a.shift();return function(){var e=a.concat(Array.prototype.slice.call(arguments));return this!==window&&e.push(this),t.apply(n,e)}}),p.fn.encodeURI=function(e){return 0===arguments.length?encodeURIComponent(p.trim(this.val())):this.val(encodeURIComponent(e))},p.fn.trimVal="placeholder"in document.createElement("input")?function(e){return 0===arguments.length?p.trim(this.val()):this.val(p.trim(e))}:function(e){return 0===arguments.length?this.val()===this.attr("placeholder")?"":p.trim(this.val()):(e=p.trim(e)||this.attr("placeholder"),this.val(e))},p.fn.checked=function(e){return this.each(function(){"checkbox"!==this.type&&"radio"!==this.type||p(this).prop("checked",e).trigger("changed",[e])})},p.fn.replaceClass=function(e,t){return this.each(function(){p(this).removeClass(e).addClass(t)})},p.fn.showLayer=function(a){return a=p.extend({onShow:u.WEBSVC.emptyFn,opener:null},a),this.each(function(){var e,t=p(this);a.opener&&(t.data("opener",a.opener),p(a.opener).attr({"aria-pressed":"true","aria-expand":"true"})),t.trigger(e=p.Event("beforeshow")),e.isDefaultPrevented()||(t.addClass("d_open").show().trigger("show"),a.onShow.call(t[0]))})},p.fn.hideLayer=function(t){return t=p.extend({onHide:u.WEBSVC.emptyFn,focusOpener:!1},t),this.each(function(){var e=p(this);e.removeClass("d_open").hide().trigger("hide"),t.onHide.call(e[0]),e.data("opener")&&((e=p(e.data("opener"))).attr({"aria-pressed":"false","aria-expand":"false"}),!0===t.focusOpener)&&e.focus()})},p.fn.noop=function(){return this},p.fn.checkedValues=function(){var e=[];return this.each(function(){"checkbox"!==this.type&&"radio"!==this.type||!0!==this.checked||(e[e.length]=this.value)}),e},p.fn.activeRow=function(e){return this.addClass(e=e||"on").siblings().removeClass(e).end()},p.fn.mouseHover=function(e){var t=["mouseenter mouseleave"];return e&&t.push(e),this.on.apply(this,t.concat(function(e){e.stopPropagation(),p(this).toggleClass("mhover","mouseenter"===e.type)}))},d.timeStart=function(e,t){var a;e&&(a=(new Date).getTime(),e="KEY"+e.toString(),this.timeCounters||(this.timeCounters={}),!t&&this.timeCounters[e]||(this.timeCounters[e]=a))},d.timeEnd=function(e){var t,a,n,r;if(this.timeCounters)return t=(new Date).getTime(),a="KEY"+e.toString(),(n=this.timeCounters[a])&&(c.info(e+": "+(r=t-n)+"ms"),delete this.timeCounters[a]),r},d.namespace=function(e,t){if("string"!=typeof e)return e=t?t:e;var a=o,n=e.split(".");if(2===arguments.length)for(var r=-1;i=n[++r];)a=a[i]||(a[i]=r===n.length-1?t:{});else for(var i,r=-1;i=n[++r];){if(!(i in a))throw Error(e+"은(는) 정의되지 않은 네임스페이스입니다.");a=a[i]}return a},d.define=function(e,t,a){"string"!=typeof e&&(t=e,e="");var n=u,r=e?e.replace(/^melon\.?/,"").split("."):[],i=r.length-1,e=r[i];!1===a||"function"!=typeof t||l.call(t,"classType")||(t=t.call(n));for(var o=0;o<i;o++)n=n[r[o]]||(n[r[o]]={});e&&(n[e]?p.extend(n[e],t):n[e]=t)||p.extend(n,t)},d._prefix="MELON.",d.use=function(e){e=d.namespace(d._prefix+e);return e=d.isFunction(e)&&!l.call(e,"classType")?e():e},d.define("WEBSVC",{$doc:p(document),$win:p(window),emptyFn:function(){},tmpNode:s.createElement("div"),tmpInput:s.createElement("input"),isTouch:!!("ontouchstart"in window),hasOwn:function(e,t){return l.call(e,t)},browser:(s={},n=o.navigator.userAgent,s.isOpera=o.opera&&o.opera.buildNumber,s.isWebKit=/WebKit/.test(n),t=/(msie) ([\w.]+)/.exec(n.toLowerCase())||/(trident)(?:.*rv.?([\w.]+))?/.exec(n.toLowerCase())||["",null,-1],s.isIE=!s.isWebKit&&!s.isOpera&&null!==t[1],s.isIE6=s.isIE&&/MSIE [56]/i.test(n),s.isIE7=s.isIE&&/MSIE [567]/i.test(n),s.isOldIE=s.isIE&&/MSIE [5678]/i.test(n),s.version=parseInt(t[2],10),s.isChrome=-1!==n.indexOf("Chrome"),s.isGecko=-1!==n.indexOf("Firefox"),s.isMac=-1!==n.indexOf("Mac"),s.isAir=/adobeair/i.test(n),s.isIDevice=/(iPad|iPhone)/.test(n),s.isSafari=/Safari/.test(n),s.isIETri4=s.isIE&&-1!==n.indexOf("Trident/4.0"),s),isEmpty:function(e,t){return null===e||e===a||!t&&""===e||this.isArray(e)&&0===e.length},isArray:function(e){return e&&(e.constructor===Array||!!e.push)},isDate:function(e){return"[object Date]"===i.call(e)},isObject:"[object Object]"===i.call(null)?function(e){return null!==e&&e!==a&&"[object Object]"===i.call(e)&&e.ownerDocument===a}:function(e){return"[object Object]"===i.call(e)},isFunction:"undefined"!=typeof document&&"function"==typeof document.getElementsByTagName("body")?function(e){return"[object Function]"===i.call(e)}:function(e){return"function"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isString:function(e){return"string"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isElement:function(e){return!!e&&1===e.nodeType},isTextNode:function(e){return!!e&&"#text"===e.nodeName},isDefined:function(e){return void 0!==e},toArray:function(e){return Array.prototype.slice.apply(e,Array.prototype.slice.call(arguments,1))},getUniqId:function(){return Number(String(10*Math.random()).replace(/\D/g,""))},getUniqKey:(e=1,function(){return e+=1})}),d.define("WEBSVC.Logger",function(){function e(e,t){return function(){return t.apply(e,arguments)}}function a(){for(var e,t=arguments,a=t[0],n=1;n<t.length;n++)for(e in t[n])e in a||!t[n].hasOwnProperty(e)||(a[e]=t[n][e]);return a}function t(e,t){return{value:e,name:t}}function n(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info}var r,i,o={VERSION:"0.9.2"},l={},s=(o.DEBUG=t(1,"DEBUG"),o.INFO=t(2,"INFO"),o.WARN=t(4,"WARN"),o.ERROR=t(8,"ERROR"),o.OFF=t(99,"OFF"),n.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(o.DEBUG,arguments)},info:function(){this.invoke(o.INFO,arguments)},warn:function(){this.invoke(o.WARN,arguments)},error:function(){this.invoke(o.ERROR,arguments)},invoke:function(e,t){r&&this.enabledFor(e)&&r(t,a({level:e},this.context))}},new n({filterLevel:o.OFF}));return(i=o).enabledFor=e(s,s.enabledFor),i.debug=e(s,s.debug),i.info=e(s,s.info),i.warn=e(s,s.warn),i.error=e(s,s.error),i.log=i.info,o.setHandler=function(e){r=e},o.setLevel=function(e){for(var t in s.setLevel(e),l)l.hasOwnProperty(t)&&l[t].setLevel(e)},o.get=function(e){return l[e]||(l[e]=new n(a({name:e},s.context)))},o.useDefaults=function(e){"console"in window&&(o.setLevel(e||o.DEBUG),o.setHandler(function(e,t){var a=window.console,n=a.log;t.name&&(e[0]="["+t.name+"] "+e[0]),t.level===o.WARN&&a.warn?n=a.warn:t.level===o.ERROR&&a.error?n=a.error:t.level===o.INFO&&a.info&&(n=a.info),(n="function"!=typeof n?Function.prototype.call.bind(n,a):n).apply(a,e)}))},o}),window.Logger=u.WEBSVC.Logger);c.useDefaults(),(window.logger=c.get("Melon Core")).setLevel(location.host.indexOf("melon.local.com")<0?c.OFF:c.DEBUG),d.define("WEBSVC.string",function(){var a,t={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"},n=(a={},p.each(t,function(e,t){a[t]=e}),a),r=/[&><'"]/g,i=/(&amp;|&gt;|&lt;|&quot;|&#39;|&#[0-9]{1,5};)/g,o=/<\/?[^>]+>/gi,l=/<script[^>]*>([\\S\\s]*?)<\/script>/gim;return{replaceAll:function(e,t,a){return t.constructor===RegExp?e.replace(new RegExp(t.toString().replace(/^\/|\/$/gi,""),"gi"),a):e.split(t).join(a)},byteLength:function(e){for(var t=0,a=0,n=e.length;a<n;a++)t+=255<e.charCodeAt(a)?2:1;return t},cutByByte:function(e,t,a){var n=e,e=this.charsByByte(e,t);return a=a||"",n.length>e?n.substring(0,e)+a:n},charsByByte:function(e,t){for(var a=e,n=0,r=0,r=0,i=a.length;r<i;r++)if(t<(n+=255<a.charCodeAt(r)?2:1))return r;return r},capitalize:function(e){return e&&e.charAt(0).toUpperCase()+e.substring(1)},camelize:function(e){return e&&e.replace(/(\-|_|\s)+(.)?/g,function(e,t,a){return a?a.toUpperCase():""})},dasherize:function(e){return e&&e.replace(/[_\s]+/g,"-").replace(/([A-Z])/g,"-$1").replace(/-+/g,"-").toLowerCase()},repeat:function(e,t,a){a=a||"";for(var n=[],r=0;r<t;r++)n.push(e);return n.join(a)},escapeHTML:function(e){return e&&(e+"").replace(r,function(e){return t[e]})},unescapeHTML:function(e){return e&&(e+"").replace(i,function(e){return n[e]})},toggle:function(e,t,a){return t===e?a:e},format:function(e){var a=u.WEBSVC.toArray(arguments).slice(1);return e.replace(/{([0-9]+)}/g,function(e,t){return a[t]})},stripTags:function(e){return e.replace(o,"")},stripScripts:function(e){return e.replace(l,"")}}}),d.define("WEBSVC.uri",{addToQueryString:function(e,t){return u.WEBSVC.isObject(t)&&(t=u.WEBSVC.object.toQueryString(t)),u.WEBSVC.isEmpty(t)?e:e+(-1===e.indexOf("?")?"?":"&")+t},parseQuery:function(e){if(!e)return{};for(var t,a=((e=0<e.length&&"?"===e.charAt(0)?e.substr(1):e)+"").split("&"),n={},r=0,i=a.length,r=0;r<i;r++)t=a[r].split("="),n[unescape(t[0])]=unescape(t[1]).replace(/[+]/g," ");return n},parseUrl:(m={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},function(e){2<e.length&&"/"===e[0]&&"/"===e[1]&&(e=window.location.protocol+e);for(var t=m.parser[m.strictMode?"strict":"loose"].exec(e),a={},n=14;n--;)a[m.key[n]]=t[n]||"";e={};return""!==a.protocol&&(e.scheme=a.protocol),""!==a.host&&(e.host=a.host),""!==a.port&&(e.port=a.port),""!==a.user&&(e.user=a.user),""!==a.password&&(e.pass=a.password),""!==a.path&&(e.path=a.path),""!==a.query&&(e.query=a.query),""!==a.anchor&&(e.fragment=a.anchor),e}),removeHash:function(e){return e&&e.replace(/.*(?=#[^\s]+$)/,"")}}),d.define("WEBSVC.number",{zeroPad:function(e,t,a){var n=String(e);for(a=a||"0",t=t||2;n.length<t;)n=a+n;return n},addComma:function(e){for(var e=(e+="").split("."),t=e[0],e=1<e.length?"."+e[1]:"",a=/(\d+)(\d{3})/;a.test(t);)t=t.replace(a,"$1,$2");return t+e},random:function(e,t){return null===t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},limit:function(e,t,a){return e<t?t:a<e?a:e}}),d.define("WEBSVC.array",{map:function(e,t){var a=[];if(d.isArray(e)&&d.isFunction(t))for(var n=0,r=e.length;n<r;n++)a[a.length]=t(e[n],n,e);return a},shuffle:function(e){var a,n=0,r=[],i=d.number;return p.each(e,function(e,t){a=i.random(n++),r[n-1]=r[a],r[a]=t}),r},filter:function(e,t){var a=[];if(d.isArray(e)&&d.isFunction(t))for(var n=0,r=e.length;n<r;n++)t(e[n],n,e)&&(a[a.length]=e[n]);return a},include:function(e,t,a){return-1<u.WEBSVC.array.indexOf(e,t,a)},indexOf:function(e,t,a){for(var n=0,r=e.length;n<r;n++)if(!1!==a&&e[n]===t||!1===a&&e[n]==t)return n;return-1},remove:function(e,t){return u.WEBSVC.isArray(e)?e.slice(t,1):e},max:function(e){return Math.max.apply(Math,e)},min:function(e){return Math.min.apply(Math,e)}}),d.define("WEBSVC.object",{keys:function(e){var t=[];return p.each(e,function(e){t[t.length]=e}),t},values:function(e){var a=[];return p.each(e,function(e,t){a[a.length]=t}),a},map:function(e,t){if(!d.isObject(e)||!d.isFunction(t))return e;var a,n={};for(a in e)e.hasOwnProperty(a)&&(n[a]=t(e[a],a,e));return n},hasItems:function(e){if(u.WEBSVC.isObject(e))for(var t in e)if(e.hasOwnProperty(t))return!0;return!1},toQueryString:function(e,t){var n,r;return"string"==typeof e?e:(n="",r=!1===t?function(e){return e}:encodeURIComponent,p.each(e,function(a,e){"object"==typeof e?p.each(e,function(e,t){""!==n&&(n+="&"),n+=r(a)+"["+r(e)+"]="+r(t)}):void 0!==e&&(""!==n&&(n+="&"),n+=r(a)+"="+r(e))}),n)},traverse:function(e){var a={};return p.each(e,function(e,t){a[t]=e}),a},remove:function(e,t){return d.isObject(e)&&(e[t]=null,delete e[t]),e}}),d.define("WEBSVC.date",function(){var r,n,f="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),T="January,Febrary,March,April,May,June,July,Augst,September,October,November,December".split(",");function a(e,t){return e.getTime()>t.getTime()?-1:e.getTime()===t.getTime()?0:1}return{format:function(e,t){var a,n,r,i,o,l,s,c,d,m,_,p,u,g,h;return t=t||"yyyy-MM-dd",e instanceof Date?(n=(a=e.getFullYear()).toString().substring(2),i=(r=e.getMonth()+1)<10?"0"+r:r,o=f[r-1],l=T[r-1],c=(s=e.getDate())<10?"0"+s:s,m=(d=e.getHours())<10?"0"+d:d,p=(_=e.getMinutes())<10?"0"+_:_,u=(e=e.getSeconds())<10?"0"+e:e,g=11<d?"PM":"AM",0===(h=d%12)&&(h=12),t.replace(/yyyy/g,a).replace(/yy/g,n).replace(/MMMM/g,l).replace(/MMM/g,o).replace(/MM/g,i).replace(/M/g,r).replace(/dd/g,c).replace(/d/g,s).replace(/hh/g,m).replace(/h/g,d).replace(/mm/g,p).replace(/m/g,_).replace(/ss/g,u).replace(/s/g,e).replace(/!!!!/g,l).replace(/!!!/g,o).replace(/H/g,h).replace(/x/g,g)):""},between:function(e,t,a){return e.getTime()>=t.getTime()&&e.getTime()<=a.getTime()},compare:a,equalsYMH:function(a,n){var r=!0;return!!(a&&a.getDate&&n&&n.getDate)&&(p.each(["getFullYear","getMonth","getDate"],function(e,t){if(!(r=r&&a[t]()===n[t]()))return!1}),r)},isAfter:function(e,t){return 1===a(e,t||new Date)},isBefore:function(e,t){return-1===a(e,t||new Date)},parseDate:(n=/^\s*(\d{4})(\d{2})(\d{2})(\d{2})?(\d{2})?(\d{2})?\s*$/,function(e){var t,a;return e instanceof Date?e:(e=e.replace(/[^\d]+/g,""),t=new Date(e),isNaN(t)&&(t=new Date(NaN),e=n.exec(e))&&(a=+e[2],t.setFullYear(0|e[1],a-1,0|e[3]),t.setHours(0|e[4]),t.setMinutes(0|e[5]),t.setSeconds(0|e[6]),a!=t.getMonth()+1)&&t.setTime(NaN),t)}),daysInMonth:function(e,t){return new Date(0|e,0|t,0).getDate()},prettyTimeDiff:(r={"초":1,"분":60,"시":3600,"일":86400,"주":604800,"월":2592e3,"년":31536e3},function(e){e=+new Date(e);var t,a,n=(+new Date-e)/1e3;for(a in r)r[a]<n&&(t=a);return e=n/r[t],e=r.day<n?Math.round(100*e)/100:Math.round(e),e+=t+" 이전"}),timeDiff:function(e,t){var a,n=d.number.zeroPad,e=(e.getTime()-t.getTime())/1e3;Math.floor(e/86400);return e%=86400,t=Math.floor(e/3600),e%=3600,a=Math.floor(e/60),e%=60,e=Math.floor(e),n(t)+":"+n(a)+":"+n(e)}}}),d.define("WEBSVC.Class",function(){var s=u.WEBSVC.isFunction,c=u.WEBSVC.emptyFn,d=u.WEBSVC.array.include,m=["superclass","members","statics"];function _(e,t,a){for(var n in t)t.hasOwnProperty(n)&&(e[n]=s(t[n])&&s(a.prototype[n])?((a,n,r)=>function(){var e,t=this.supr;this.supr=r.prototype[a],e={}.fabricatedUndefined;try{e=n.apply(this,arguments)}finally{this.supr=t}return e})(n,t[n],a):t[n])}return function(e){var a,t,n,r,i,o;function l(){!function(){if(r){if(o)return o;o=this}this.constructor.onClassCreate&&(this.constructor.onClassCreate(),delete this.constructor.onClassCreate),this.initialize?this.initialize.apply(this,arguments):a.prototype.initialize&&a.prototype.initialize.apply(this,arguments)}.apply(this,arguments)}return s(e)&&(e=e()),a=e.$extend||c,r=e.$singleton||!1,t=e.$statics||!1,n=e.$mixins||!1,(i=c).prototype=a.prototype,((l.prototype=new i).constructor=l).superclass=a.prototype,l.classType=l,r&&(l.getInstance=function(){return o=o||new l}),l.prototype.suprMethod=function(e){var t=[].slice.call(arguments,1);return a.prototype[e].apply(this,t)},l.prototype.proxy=function(e){var t=this;return function(){e.apply(t,[].slice.call(arguments))}},l.mixins=function(e){e.push||(e=[e]),p.each(e,function(e,t){p.each(t,function(e,t){l.prototype[e]=t})})},n&&l.mixins.call(l,n),l.members=function(e){_(l.prototype,e,a)},e&&l.members.call(l,e),(l.statics=function(e){for(var t in e=e||{})d(m,t)||(l[t]=e[t]);return l}).call(l,a),t&&l.statics.call(l,t),l}}),d.define("WEBSVC",{configs:{},getConfig:function(e,t){for(var a=u.WEBSVC.configs,n=e.split("."),r=a,i=0,o=n.length;i<o;i++)if(!(r=r[n[i]]))return t;return r},setConfig:function(e,t){for(var a=u.WEBSVC.configs,n=e.split("."),r=n.length-1,i=a,o=0;o<r;o++)i=i[n[o]]||(i[n[o]]={});return i[n[r]]=t}}),d.define("WEBSVC.Base64",function(){var c={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,a,n,r,i,o,l="",s=0;for(e=c._utf8_encode(e);s<e.length;)n=(t=e.charCodeAt(s++))>>2,r=(3&t)<<4|(t=e.charCodeAt(s++))>>4,i=(15&t)<<2|(a=e.charCodeAt(s++))>>6,o=63&a,isNaN(t)?i=o=64:isNaN(a)&&(o=64),l=l+this._keyStr.charAt(n)+this._keyStr.charAt(r)+this._keyStr.charAt(i)+this._keyStr.charAt(o);return l},decode:function(e){var t,a,n,r,i,o,l="",s=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");s<e.length;)n=this._keyStr.indexOf(e.charAt(s++)),t=(15&(r=this._keyStr.indexOf(e.charAt(s++))))<<4|(i=this._keyStr.indexOf(e.charAt(s++)))>>2,a=(3&i)<<6|(o=this._keyStr.indexOf(e.charAt(s++))),l+=String.fromCharCode(n<<2|r>>4),64!=i&&(l+=String.fromCharCode(t)),64!=o&&(l+=String.fromCharCode(a));return l=c._utf8_decode(l)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var n=e.charCodeAt(a);n<128?t+=String.fromCharCode(n):t=127<n&&n<2048?(t+=String.fromCharCode(n>>6|192))+String.fromCharCode(63&n|128):(t=(t+=String.fromCharCode(n>>12|224))+String.fromCharCode(n>>6&63|128))+String.fromCharCode(63&n|128)}return t},_utf8_decode:function(e){for(var t,a,n="",r=0,i=0;r<e.length;)(t=e.charCodeAt(r))<128?(n+=String.fromCharCode(t),r++):191<t&&t<224?(i=e.charCodeAt(r+1),n+=String.fromCharCode((31&t)<<6|63&i),r+=2):(i=e.charCodeAt(r+1),a=e.charCodeAt(r+2),n+=String.fromCharCode((15&t)<<12|(63&i)<<6|63&a),r+=3);return n}};return c});var m,_,g=d.Base64;d.define("WEBSVC.Cookie",{set:function(e,t,a){a=a||{};e=e+"="+escape(t)+(a.expires?"; expires="+a.expires.toGMTString():"")+(a.path?"; path="+a.path:";path=/")+(a.domain?"; domain="+a.domain:"")+(a.secure?"; secure":"");document.cookie=e},get:function(e){var t=";"+document.cookie.replace(/ /g,"")+";",e=";"+e+"=",a=t.indexOf(e);return-1!==a?(e=t.indexOf(";",a+=e.length),unescape(t.substr(a,e-a))):""},remove:function(e){document.cookie=e+"=;expires=Fri, 31 Dec 1987 23:59:59 GMT;"},setReal:function(e,t){this.set(e,t,{path:"/",domain:"MELON.WEBSVC.com"})},getAndroidCkDcf:function(){return this.getMUADHeader("androidCkDcf")},chkMACAuth:function(){var e=this.get("MAC");return null!==e&&""!==e},getMUADHeader:function(e){var t={},a=this.getMUAD();return null===a?null:(a=a.split(";"),t.androidCkMdn=a[0],t.androidCkDcf=a[1],t[e])},getMLCPHeader:(_="memberKey,memberId,memberDjYn,memberArtistId,token,facebookConnect,?,displayId,memberType,displayLoginId,cookieLoginType".split(","),function(e){var t=unescape(decodeURI(g.decode(u.WEBSVC.Cookie.get("MLCP"))));return null===t?null:t.split(";")[u.WEBSVC.array.indexOf(_,e)]})}),d.define("WEBSVC.MemberAPI",{getApiMemberProperties:function(e){var t=null;return p.ajax({url:"/member/"+e+".json",async:!1,success:function(e){t=e.data}}),t}}),d.define("WEBSVC",{template:function(e,t){var a='var __src = [], escapeHTML=MELON.WEBSVC.string.escapeHTML; with(value||{}){ __src.push("',e=(a=a+(e=p.trim(e)).replace(/\r|\n|\t/g," ").replace(/<%(.*?)%>/g,function(e,t){return"<%"+t.replace(/"/g,"\t")+"%>"}).replace(/"/g,'\\"').replace(/<%(.*?)%>/g,function(e,t){return"<%"+t.replace(/\t/g,'"')+"%>"}).replace(/<%=(.+?)%>/g,'", $1, "').replace(/<%-(.+?)%>/g,'", escapeHTML($1), "').replace(/(<%|%>)/g,function(e,t){return"<%"===t?'");':'__src.push("'})+'"); }; return __src.join("")',new Function("value","data",a));return t?e(t):e}}),d.define("WEBSVC.valid",function(){var t=p.trim,a=u.WEBSVC.isString,n=u.WEBSVC.isNumber,r=u.WEBSVC.isElement;return{empty:u.WEBSVC.isEmpty,require:function(e){return a(e)||r(e)&&(e=e.value),!!e},email:function(e){return a(e)||r(e)&&(e=e.value),!!(e=t(e))&&/\w+([-+.]\w+)*@\w+([-.]\w+)*\.[a-zA-Z]{2,4}$/.test(e)},kor:function(e){return a(e)||r(e)&&(e=e.value),!!(e=t(e))&&/^[가-힝]+$/.test(e)},eng:function(e){return a(e)||r(e)&&(e=e.value),!!(e=t(e))&&/^[a-zA-Z]+$/.test(e)},num:function(e){return a(e)||r(e)&&(e=e.value),!!(e=t(e))&&n(e)},url:function(e){return a(e)||r(e)&&(e=e.value),!!(e=t(e))&&/^https?:\/\/([\w\-]+\.)+/.test(e)},special:function(e){return a(e)||r(e)&&(e=e.value),!!(e=t(e))&&/^[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]+$/.test(e)},phone:function(e){return a(e)||r(e)&&(e=e.value),!!(e=t(e))&&/^\d{1,3}-\d{3,4}-\d{4}$/.test(e)},dateYMD:function(e){return a(e)||r(e)&&(e=e.value),!!(e=t(e))&&/^\d{4}-\d{2}-\d{2}$/.test(e)},dateYMDHMS:function(e){return a(e)||r(e)&&(e=e.value),!!(e=t(e))&&/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}$/.test(e)},SSN:function(e,t){var a=e+(t||""),n=0;if(!/^(\d{6})-?(\d{7})$/.test(a))return!1;for(var e=(a=RegExp.$1+RegExp.$2).charCodeAt(12)-48,r=0;r<12;r++){if(isNaN(a.substring(r,r+1)))return!1;n+=(a.charCodeAt(r)-48)*("234567892345".charCodeAt(r)-48)}return(11-n%11)%10==e},FgnSSN:function(e,t){var a,e=e+(t||""),n=0,r="234567892345".split("");if(!/^(\d{6})-?(\d{7})$/.test(e))return!1;if(e=RegExp.$1+RegExp.$2,(10*(a=u.WEBSVC.toArray(e))[7]+a[8])%2!=0)return!1;if(6!==a[11]&&7!==a[11]&&9!==a[11])return!1;for(var i=0;i<12;i++)n+=a[i]*=r[i];return 10<=(n=11-n%11)&&(n-=10),10<=(n+=2)&&(n-=10),n===a[12]}}}),d.define("WEBSVC.css",function(){var e=d.tmpNode,a=["Webkit","Moz","O","ms","Khtml"],n=e.style,t=(()=>{for(var e=["t","webkitT","MozT","msT","OT"],t=0,a=e.length;t<a;t++)if(e[t]+"ransform"in n)return e[t].substr(0,e[t].length-1);return!1})(),r=d.string;return{supportTransition:!1!==t,vendor:t,hasCSS3:function(e){var t=a.length;if(e in n)return!0;for(e=r.capitalize(e);t--;)if(a[t]+e in n)return!0;return!1},prefixStyle:function(e){return!1!==t&&(""===t?e:t+r.capitalize(e))}}}),d.define("WEBSVC.util",function(){return{pngFix:function(){var t;p('img[@src*=".png"]',document.body).each(function(){this.css("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+this.src+"', sizingMethod='')"),this.src=u.WEBSVC.getSite()+u.WEBSVC.Urls.getBlankImage()||"/resource/images/common/blank.gif"}),p(".pngfix",document.body).each(function(){var e=p(this);(t=e.css("background-image"))&&/\.(png)/i.test(t)&&(t=/url\("(.*)"\)/.exec(t)[1],e.css("background-image","none"),e.css("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"',sizingMethod='scale')"))})},wmode:function(){p("object").each(function(){var e;"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"!==this.classid.toLowerCase()&&"application/x-shockwave-flash"!==this.type.toLowerCase()||this.wmode&&"window"!==this.wmode.toLowerCase()||(this.wmode="opaque",e=p(this),void 0===this.outerHTML?e.replaceWith(e.clone(!0)):this.outerHTML=this.outerHTML)}),p('embed[type="application/x-shockwave-flash"]').each(function(){var e=p(this),t=e.attr("wmode");t&&"window"!==t.toLowerCase()||(e.attr("wmode","opaque"),void 0===this.outerHTML?e.replaceWith(e.clone(!0)):this.outerHTML=this.outerHTML)})},openPopup:function(e,t,a,n,r,i){n=p.extend({},n);var o,l=d.util.popupCoords(t=t||600,a=a||400),i=i||"",s="app_, ",c=[];for(o in delete n.name,n)c.push(o+"="+n[o]);d.browser.isSafari&&c.push("location=yes"),c.push("height="+a),c.push("width="+t),r&&(c.push("top="+l.top),c.push("left="+l.left)),s+=c.join(", ");a=window.open(e,i,s);return a.focus(),a},resizePopup:function(e){e instanceof jQuery||(e=p(e)),window.resizeTo(e.width(),e.height())},popupCoords:function(e,t){var a=window.screenLeft||window.screenX,n=window.screenTop||window.screenY;return{left:(a=a||0)+(window.outerWidth||document.documentElement.clientWidth)/2-e/2,top:(n=n||0)+(window.outerHeight||document.documentElement.clientHeight)/2-t/2-25}},lazyLoadImage:function(e,a,n,t){return e.filter("img[data-src]").each(function(e){var t=p(this);a=a||t.parent().width(),n=n||t.parent().height(),t.one("load",function(){t.removeAttr("width height").css({width:"auto",height:"auto"}),"true"===t.attr("data-no-height")&&this.width>a?t.css("width",a):"true"===t.attr("data-no-width")&&this.height>n?t.css("height",a):this.width>this.height?t.css("width",Math.min(this.width,a)):t.css("height",Math.min(this.height,n))}).attr("src",t.attr("data-src")).removeAttr("data-src")}),!1},getDocHeight:function(){var e=document,t=e.body,e=e.documentElement;return Math.max(Math.max(t.scrollHeight,e.scrollHeight),Math.max(t.offsetHeight,e.offsetHeight),Math.max(t.clientHeight,e.clientHeight))},getDocWidth:function(){var e=document,t=e.body,e=e.documentElement;return Math.max(Math.max(t.scrollWidth,e.scrollWidth),Math.max(t.offsetWidth,e.offsetWidth),Math.max(t.clientWidth,e.clientWidth))},getWinWidth:function(){var e=0;return self.innerWidth?e=self.innerWidth:document.documentElement&&document.documentElement.clientHeight?e=document.documentElement.clientWidth:document.body&&(e=document.body.clientWidth),e},getWinHeight:function(){var e=0;return self.innerHeight?e=self.innerHeight:document.documentElement&&document.documentElement.clientHeight?e=document.documentElement.clientHeight:document.body&&(e=document.body.clientHeight),e}}}),d.openPopup=d.util.openPopup})(window,jQuery),((A,M)=>{var t,l=M.$win,s=M.$doc,c=M.Class,d=window.logger,m=M.number;M.define("WEBSVC.EVENTS",{ON_BEFORE_SHOW:"beforeshow",ON_SHOW:"show",ON_BEFORE_HIDE:"beforehide",ON_HIDE:"hide"}),M.define("WEBSVC",{bindjQuery:function(s,c){var e=A.fn[c];A.fn[c]=function(n){var r=arguments,i=[].slice.call(r,1),o=this,l=this;return this.each(function(){var e,t,a=A(this);if((t=a.data(c))&&(1!==r.length||"string"==typeof n)||(t&&(t.destroy(),t=null),a.data(c,t=new s(this,A.extend({},a.data(),n),o))),"string"==typeof n&&M.isFunction(t[n])){try{e=t[n].apply(t,i)}catch(e){d.debug(e)}if(void 0!==e)return l=e,!1}}),l},A.fn[c].noConflict=function(){return A.fn[c]=e,this}}}),M.define("WEBSVC.Listener",function(){return c({initialize:function(){this._listeners=A({})},on:function(){var e=this._listeners;return e.on.apply(e,arguments),this},once:function(){var e=this._listeners;return e.once.apply(e,arguments),this},off:function(){var e=this._listeners;return e.off.apply(e,arguments),this},trigger:function(){var e=this._listeners;return e.trigger.apply(e,arguments),this}})}),M.define("WEBSVC.PubSub",function(){var e=new M.Listener;return e.attach=e.on,e.unattach=e.off,e}),t=M.define("PBPGN.View",function(){function n(e,t){return o(e)?e.call(t):e}var o=MELON.WEBSVC.isFunction,l=c({$statics:{_instances:[]},initialize:function(e,t){t=t||{};var a,r=this,i=/^([a-z]+) ?([^$]*)$/i;if(!r.name)throw new Error("클래스의 이름이 없습니다");if(a=r.moduleName=r.name.replace(/^[A-Z]/,function(e){return e.toLowerCase()}),r.$el=e instanceof jQuery?e:A(e),!0===t.rebuild){try{r.$el.data(a).destroy()}catch(e){}r.$el.removeData(a)}else if(r.$el.data(a))return!1;if(r.$el.hasClass("disabled")||"true"===r.$el.attr("data-readony")||"true"===r.$el.attr("data-disabled"))return!1;l._instances.push(r);e=r.constructor.superclass;r.el=r.$el[0],r.options=A.extend({},e.defaults,r.defaults,t),r._uid=MELON.WEBSVC.getUniqKey(),r._eventNamespace="."+r.name+"_"+r._uid,r.subviews={},r.options.selectors=A.extend({},n(e.selectors,r),n(r.selectors,r),n(r.options.selectors,r)),A.each(r.options.selectors,function(e,t){"string"==typeof t?r["$"+e]=r.$el.find(t):t instanceof jQuery?r["$"+e]=t:r["$"+e]=A(t)}),r.options.events=A.extend({},n(r.events,r),n(r.options.events,r)),A.each(r.options.events,function(e,t){if(!i.test(e))return!1;var e=RegExp.$1,a=RegExp.$2,e=[e],n=o(t)?t:o(r[t])?r[t]:MELON.WEBSVC.emptyFn;a&&(e[e.length]=A.trim(a)),e[e.length]=function(){n.apply(r,arguments)},r.on.apply(r,e)}),A.each(r.options.on||{},function(e,t){r.on(e,t)}),A.each(r.options,function(e,t){o(t)&&(e=e.match(/^on([a-z]+)$/i))&&r.on((e[1]+"").toLowerCase(),t)})},destroy:function(){this.$el.removeData(this.moduleName),this.$el.off(),A.each(this.subviews,function(e,t){t.destroy&&t.destroy()})},setOption:function(e,t){this.options[e]=t},getOption:function(e,t){return e in this.options&&this.options[e]||t},option:function(e,t){if(void 0===t)return this.getOption(e);this.setOption(e,t),this.on("optionchange",[e,t])},_generateEventNamespace:function(e){if(e instanceof A.Event)return e;var t=(e||"").match(/^(\w+)\s*$/);if(!t)return e;for(var a,n=[],r=1,i=t.length;r<i;r++)(a=t[r])&&(-1===a.indexOf(".")?n[n.length]=a+this._eventNamespace:n[n.length]=a);return n.join(" ")},getEventNamespace:function(){return this._eventNamespace},offEvents:function(){this.$el.off(this.getEventNamespace())},on:function(){var e=[].slice.call(arguments);return e[0]=this._generateEventNamespace(e[0]),this.$el.on.apply(this.$el,e),this},off:function(){var e=[].slice.call(arguments);return this.$el.off.apply(this.$el,e),this},one:function(){var e=[].slice.call(arguments);return e[0]=this._generateEventNamespace(e[0]),this.$el.one.apply(this.$el,e),this},trigger:function(){var e=[].slice.call(arguments);return this.$el.trigger.apply(this.$el,e),this},triggerHandler:function(){var e=[].slice.call(arguments);return this.$el.triggerHandler.apply(this.$el,e),this},instance:function(){return this},getElement:function(){return this.$el}});return l}),M.define("PBPGN.Layout",function(){var o=c({name:"MelonLayout",$extend:MELON.PBPGN.View,$statics:{SIZES:{small:[0,1280],medium:[1281,1360],large:[1361,1e6]},ON_RESIZE_END:"resizeend",ON_SCROLL_END:"scrollend",ON_MEDIAQUERY_CHANGE:"mediaquerychange"},$singleton:!0,defaults:{interval:300},initialize:function(e,t){var a=this;!1!==a.supr(e,t)&&(a._initLayout(),A(function(){a.trigger("resize"),a.trigger(o.ON_RESIZE_END)}))},_initLayout:function(){var t,a,r=this,i=r.getWidthType();r.$el.off(".melonLayout").on("resize.melonLayout",function(e){var n=l.innerWidth();t&&clearTimeout(t),t=setTimeout(function(){r.trigger(r.constructor.ON_RESIZE_END)},r.options.interval),A.each(o.SIZES,function(e,t){var a=r.getWidthType(n);if(i!=a)return r.trigger(r.constructor.ON_MEDIAQUERY_CHANGE,[a,i]),i=a,!1})}).on("scroll.melonLayout",function(e){a&&clearTimeout(a),a=setTimeout(function(){r.trigger(r.constructor.ON_SCROLL_END)},r.options.interval)})},is:function(e){return this.getWidthType()===e},getWidthType:function(e){var t,a=!e&&this.getWinSize(),e=e||a.width,n=M.hasOwn,r=o.SIZES;for(t in r)if(n(r,t)&&e>r[t][0]&&e<=r[t][1])return t;return"unknown"},getScrollTop:function(){return l.scrollTop()},getDocSize:function(){return{width:s.innerWidth(),height:s.innerHeight()}},getWinSize:function(){return{width:l.innerWidth(),height:l.innerHeight()}}});return o}),M.define("PBPGN.Modal",function(){var n=M.$doc,r=c({$extend:MELON.PBPGN.View,name:"Modal",$statics:{ON_MODAL_CREATED:"created",ON_MODAL_SHOW:"modalshow",ON_MODAL_SHOWN:"modalshown",ON_MODAL_HIDE:"modalhide",ON_MODAL_HIDDEN:"modalhidden"},defaults:{overlay:!0,overlayNotClose:!1,clone:!0,closeByEscape:!0,removeOnClose:!1,draggable:!0,dragHandle:"h1.layer_title",opener:"",show:!0,minWidth:260,multiLayer:!1},events:{"click button[data-role]":function(e){var t=A(e.currentTarget).attr("data-role")||"";t&&(this.trigger(e=A.Event(t),[this]),e.isDefaultPrevented())||this.hide()},"click .d_close":function(e){e.preventDefault(),e.stopPropagation(),this.hide()}},initialize:function(e,t){var a=this;!1!==a.supr(e,t=t||{})&&(this.isIE7=!!(M.browser.isIE&&M.browser.version<=7),this.isIE9=!!(M.browser.isIE&&M.browser.version<=9),a._createHolder(),a.isShown=!1,a._originalDisplay=a.$el.css("display"),a.options.remote?a.$el.load(a.options.remote).done(function(){a.options.show&&a.show()}):a.options.show&&a.show(),a.$el.on("mousewheel.modal",function(e){e.stopPropagation()}),a.trigger("created"))},_createHolder:function(){this.$el.parent().is("body")||(this.$holder=A('<span class="d_modal_area" style="display:none;"></span>').insertAfter(this.$el),this.$el.appendTo("body"))},_replaceHolder:function(){this.$holder&&(this.$el.insertBefore(this.$holder),this.$holder.remove())},toggle:function(){this[this.isShown?"hide":"show"]()},show:function(){if(!this.isShown||r.active!==this){n.height()>A(window).height()&&(A("body").hasClass("scroll_no")||"hidden"==A("html").css("overflow")?A("body").addClass("dblLayer"):MELON.WEBSVC.browser.isMac?A("body").addClass("scroll_no"):(this.isIE7&&A("html").css("overflow","hidden"),A("body").addClass("scroll_no").addClass("scroll_margin"))),this.$el.is(".d_like_alert")||0==this.options.multiLayer&&r.close();var e=r.active=this,t=A.Event("modalshow");if(e.$el.trigger(t),!e.isShown&&!t.isDefaultPrevented()){e.isShown=!0,e._escape(),e._overlay(),e._draggabled(),e._enforceFocus(),e.options.title&&e.$el.find("h1.d_title").html(e.options.title||"알림"),e.$el.stop().addClass("d_modal_container").css({position:"absolute",left:"50%",top:"50%","min-width":e.options.minWidth+"px",zIndex:9900,background:"#fff",outline:"none",backgroundClip:"padding-box"}).fadeIn("fast",function(){e.$el.trigger("modalshown").focus()});try{e.$el.find("button")[0].focus()}catch(t){e.$el.find("button").eq(0).focus()}e.$el.find(">div").hasClass("layer_popup")?(e.modalW=e.$el.find(".layer_popup").outerWidth(),e.modalH=e.$el.find(".layer_popup").outerHeight()):(e.options.minWidth>e.$el.width()?e.modalW=e.options.minWidth:e.$el.hasClass("d_alert")?e.modalW=e.$el.width()+10:e.modalW=e.$el.width(),e.modalH=e.$el.height()),a(),A(window).resize(function(){a()}),M.PubSub.trigger("hide:modal")}}function a(){e.modalW<=A(window).width()?e.$el.css({width:e.modalW,left:"50%","margin-left":-Math.ceil(e.modalW/2)+"px"}):e.$el.css({left:"0","margin-left":"0"}),e.modalH<=A(window).height()?e.$el.css({top:"50%","margin-top":-Math.ceil(e.modalH/2)+"px"}):e.$el.css({top:"0","margin-top":"0"}),e.$el.find(".layer_popup").css({left:"0","margin-left":"0",top:"0","margin-top":0})}},hide:function(e){e&&e.preventDefault(),A("body").hasClass("dblLayer")?A("body").removeClass("dblLayer"):MELON.WEBSVC.browser.isMac?A("body").removeClass("scroll_no"):(this.isIE7&&A("html").css("overflow","auto"),A("body").removeClass("scroll_no").removeClass("scroll_margin"));var t=this;e=A.Event("modalhide"),t.$el.trigger(e),t.isShown&&!e.isDefaultPrevented()&&(n.off("focusin.modal"),t.$el.off("click.modal keyup.modal"),t.isShown=!1,t._escape(),t.hideModal(),t.$el.trigger("modalhidden"),r.active=null)},hideModal:function(){var e=this;e.$el.hide().removeData(e.moduleName).removeClass("d_modal_container"),e.offEvents(),e._replaceHolder(),e.options.removeOnClose&&e.$el.remove(),e.options.opener&&A(e.options.opener).focus(),e.$overlay&&(e.$overlay.hide().remove(),e.$overlay=null)},_draggabled:function(){var e=this,t=e.options;if(t.draggable&&!e.bindedDraggable)if(e.bindedDraggable=!0,t.dragHandle){e.$el.find(t.dragHandle).css("cursor","move");try{e.$el.draggable({handle:t.dragHandle})}catch(e){}}else e.$el.draggable("cancel")},_enforceFocus:function(){var t=this;n.off("focusin.modal").on("focusin.modal",t.proxy(function(e){t.$el[0]===e.target||A.contains(t.$el[0],e.target)||(t.$el.find(":focusable").first().focus(),e.stopPropagation())}))},_escape:function(){var t=this;t.isShown&&t.options.closeByEscape?t.$el.off("keyup.modal").on("keyup.modal",t.proxy(function(e){27===e.which&&t.hide()})):t.$el.off("keyup.modal")},_overlay:function(){var t=this,e=t.options;return!(0<A(".d_modal_overlay").length&&!e.multiLayer||(t.$el.wrap(A('<div class="d_modal_overlay" />').css({opacity:"1",background:"rgba(255,255,255,0.5)",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9e3,overflow:"auto"})),t.$overlay=t.$el.parents(".d_modal_overlay"),this.isIE9&&t.$overlay.addClass("ie9"),t.options.overlayNotClose))&&void t.$overlay.off("click.modal").on("click.modal",function(e){e.target==e.currentTarget&&(t.$overlay.off("click.modal"),t.hide())})},center:function(){},close:function(){this.hide()},destroy:function(){this.supr(),this.$el.off(".modal").removeClass("d_modal_container"),this.$overlay.add(this.$el).off(".modal").remove(),n.off(".modal"),l.off(".melonModal")}});return r.close=function(e){r.active&&(e&&e.preventDefault(),r.active.hide(),r.active=null)},r.onClassCreate=function(){M.PubSub.on("hide:modal",function(e,t){!1===t&&r.active&&r.close()})},M.bindjQuery(r,"modal"),M.modal=function(e,t){A(e).modal(t)},r}),M.define("WEBSVC.alert",function(){var n=MELON.PBPGN.Modal,r=['<div class="layer_popup d_alert small" style="display:none">','<h1 class="layer_title d_title">알림창</h1>','<div class="layer_cntt">','<div class="d_content">',"</div>",'<div class="wrap_btn_c">','<button type="button" class="btn_emphs_small" data-role="ok"><span class="odd_span"><span class="even_span">확인</span></span></button>',"</div>","</div>",'<button type="button" class="btn_close d_close"><span class="odd_span">닫기</span></button>','<span class="shadow"></span>',"</div>"].join("");return function(e,t){"string"!=typeof e&&0===arguments.length&&(t=e,e="");var a=A(r).appendTo("body").find("div.d_content").html(e).end();return new n(a,t).on("modalhidden",function(){a.remove()})}}),M.define("WEBSVC.alert2",function(){var n=c({$extend:MELON.PBPGN.View,name:"AltModal",$statics:{ON_MODAL_CREATED:"created",ON_MODAL_SHOW:"modalshow",ON_MODAL_SHOWN:"modalshown",ON_MODAL_HIDE:"modalhide",ON_MODAL_HIDDEN:"modalhidden"},defaults:{overlay:!0,overlayNotClose:!1,closeByEscape:!0,removeOnClose:!1,draggable:!0,show:!0,opener:""},events:{"click button[data-role]":function(e){var t=A(e.currentTarget).attr("data-role")||"";t&&(this.trigger(e=A.Event(t),[this]),e.isDefaultPrevented())||this.hide()},"click .d_close":function(e){e.preventDefault(),e.stopPropagation(),this.hide()}},initialize:function(e,t){var a=this;t=t||{},this.isIE7=!!(M.browser.isIE&&M.browser.version<=7),this.isIE9=!!(M.browser.isIE&&M.browser.version<=9),!1!==a.supr(e,t)&&(a.isShown=!1,a._originalDisplay=a.$el.css("display"),a.options.remote?a.$el.load(a.options.remote).done(function(){a.options.show&&a.show()}):a.options.show&&a.show(),a.$el.on("mousewheel.modal",function(e){e.stopPropagation()}),a.trigger("created"))},toggle:function(){this[this.isShown?"hide":"show"]()},mutex:null,show:function(){if(!this.isShown||n.active!==this){var e=n.active=this,t=A.Event("modalshow");if(e.$el.trigger(t),!e.isShown&&!t.isDefaultPrevented())return e.layout(),e.isShown=!0,e.$el.trigger("modalshown").focus(),e.$el.find("button")[0].focus(),e._overlay(),s.height()>A(window).height()&&(A("body").hasClass("scroll_no")||"hidden"==A("html").css("overflow")?A("body").addClass("dblLayer"):MELON.WEBSVC.browser.isMac?A("body").addClass("scroll_no"):(this.isIE7&&A("html").css("overflow","hidden"),A("body").addClass("scroll_no").addClass("scroll_margin"))),setTimeout(function(){e._escape()},0),setTimeout(function(){e._enforceFocus()},0),setTimeout(function(){e._modalOverap(),M.PubSub.trigger("hide:modal")},0),!1}},hide:function(e){e&&e.preventDefault(),A("body").hasClass("dblLayer")?A("body").removeClass("dblLayer"):MELON.WEBSVC.browser.isMac?A("body").removeClass("scroll_no"):(this.isIE7&&A("html").css("overflow","auto"),A("body").removeClass("scroll_no").removeClass("scroll_margin"));var t=this;e=A.Event("modalhide"),t.$el.trigger(e),t.isShown&&!e.isDefaultPrevented()&&(t._escape(),t.hideModal(),setTimeout(function(){s.off("focusin.modal"),t.$el.off("click.modal keyup.modal")},0),setTimeout(function(){t.isShown=!1,t.$el.trigger("modalhidden")},0),setTimeout(function(){n.active=null},0))},hideModal:function(){var e=this;e.$el.hide(),e.options.opener.focus(),e.$overlay&&(e.$overlay.remove(),e.$overlay=null),setTimeout(function(){e.$el.removeData(e.moduleName)},0),setTimeout(function(){e.offEvents()},0),setTimeout(function(){e.options.removeOnClose&&e.$el.remove(),e._modalOverap()},0)},layout:function(){var e,t,a=this;a.$el.css({display:"inline",position:"fixed"}),e=a.$el.width(),t=a.$el.height(),a.$el.css({display:""}),a.$el.css({width:e,marginTop:-1*Math.ceil(t/2),marginLeft:-1*Math.ceil(e/2)})},_enforceFocus:function(){var t=this;s.off("focusin.modal").on("focusin.modal",t.proxy(function(e){t.$el[0]===e.target||A.contains(t.$el[0],e.target)||(t.$el.find(":focusable").first().focus(),e.stopPropagation())}))},_escape:function(){var t=this;t.isShown&&t.options.closeByEscape?t.$el.off("keyup.modal").on("keyup.modal",t.proxy(function(e){27===e.which&&t.hide()})):t.$el.off("keyup.modal")},_overlay:function(){var e,t=this;if(0<A(".d_modal_overlay").length?(e=A("d_modal_overlay").length,t.$el.wrap(A('<div class="d_modal_overlay" id="d_modal_overlay'+e+'"/>')),t.$overlay=A("#d_modal_overlay"+e)):(t.$el.wrap(A('<div class="d_modal_overlay"/>')),t.$overlay=A(".d_modal_overlay")),t.$overlay.css({opacity:"1",background:"rgba(255,255,255,0.5)",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9e3,overflow:"auto"}),this.isIE9&&t.$overlay.addClass("ie9"),t.options.overlayNotClose)return!1;setTimeout(function(){t.$overlay.off("click.modal").on("click.modal",function(e){e.target==e.currentTarget&&(t.$overlay.off("click.modal"),t.hide())})},0)},_modalOverap:function(){var e=this.options;e.opener.parents(".d_layer").attr("role")?A(e.opener).parents(".d_layer").removeAttr("role"):A(e.opener).parents(".d_layer").attr("role","dialog")},center:function(){this.layout()},close:function(){this.remove()}}),r=['<div class="layer_popup d_alert no_title d_like_alert d_modal_container" style="display:none">','<div class="layer_cntt">','<div class="d_content box_default">',"</div>",'<div class="wrap_btn_c">','<button type="button" class="btn_emphs_small" data-role="ok"><span class="odd_span"><span class="even_span">확인</span></span></button>',"</div>","</div>",'<button type="button" class="btn_close d_close"><span class="odd_span">닫기</span></button>','<span class="shadow"></span>',"</div>"].join("");return function(e,t){"string"!=typeof e&&0===arguments.length&&(t=e,e="");var a=A(r).appendTo("body").find("div.d_content").html(e).end();new n(a,t);return a.on("modalhidden",function(){a.remove()})}}),M.define("WEBSVC.ajaxModal",function(){return function(e,t){var a=A.Deferred();return A.ajax(A.extend({url:e},t)).done(function(e){a.resolve();var t=A(e.replace(/\n|\r/g,"")).appendTo("body");t.modal().on("modalhidden",function(){t.remove()})}).fail(function(){a.reject(),M.alert("죄송합니다.<br>알수 없는 이유로 작업이 중단되었습니다.",{title:"에러"})}),a.promise()}}),M.define("WEBSVC.confirm",function(){var n=MELON.PBPGN.Modal,r=(c({name:"Confirm",$extend:n,defaults:A.extend({},n.prototype.defaults,{modal:!0,containerCss:{backgroundColor:"#fffff"}})}),['<div class="layer_popup small" style="display:none">','<h1 class="layer_title d_title">확인창</h1>','<div class="layer_cntt">','<div class="d_content">',"</div>",'<div class="wrap_btn_c">','<button type="button" class="btn_emphs_small" data-role="ok"><span class="odd_span"><span class="even_span">확인</span></span></button>&nbsp;','<button type="button" class="btn_emphs02_small d_close" data-role="cancel"><span class="odd_span"><span class="even_span">취소</span></span></button>',"</div>","</div>",'<button type="button" class="btn_close d_close"><span class="odd_span">닫기</span></button>','<span class="shadow"></span>',"</div>"].join(""));return function(e,t){"string"!=typeof e&&0===arguments.length&&(t=e,e="");var a=A(r).appendTo("body").find("div.d_content").html(e).end();return new n(a,t).on("modalhidden",function(){a.remove()})}}),M.define("WEBSVC.confirm2",function(){var n=MELON.PBPGN.Modal,r=(c({name:"Confirm2",$extend:n,defaults:A.extend({},n.prototype.defaults,{modal:!0,containerCss:{backgroundColor:"#fffff"}})}),['<div class="layer_popup no_title" style="display:none;">','<div class="layer_cntt">','<div class="bd_content box_default">',"</div>",'<div class="wrap_btn_c">','<button type="button" class="btn_emphs_small" data-role="ok"><span class="odd_span"><span class="even_span">확인</span></span></button>&nbsp;','<button type="button" class="btn_emphs02_small d_close" data-role="cancel"><span class="odd_span"><span class="even_span">취소</span></span></button>',"</div>","</div>",'<button type="button" class="btn_close d_close"><span class="odd_span">닫기</span></button>','<span class="shadow"></span>',"</div>"].join(""));return function(e,t){"string"!=typeof e&&0===arguments.length&&(t=e,e="");var a=A(r).appendTo("body").find(".bd_content").html(e).end();return new n(a,t).on("modalhidden",function(){a.remove()})}}),M.define("PBPGN.Selectbox",function(){var i=A(),e=(M.browser.isIE&&M.browser.version,c({name:"Selectbox",$extend:MELON.PBPGN.View,$statics:{ON_CHANGED:"changed"},defaults:{wrapClasses:"",disabledClass:"disabled",bottomClass:"bottomHover"},initialize:function(e,t){!1!==this.supr(e,t)&&this._create()},_create:function(){var r=this,e=r.$el.attr("data-class")||"select_type01",a=null;function t(){i=r.$list.show(),r.$selectbox.triggerHandler("openlist")}function n(){r.$list.hide(),r.$selectbox.triggerHandler("closelist")}r.width=parseInt(r.$el.css("width"),10),r.$selectbox=A('<div class="'+e+'"></div>').addClass(r.options.wrapClasses),r.$label=A('<span class="select_box" tabindex="0" title="'+(r.$el.attr("title")||"셀렉트박스")+'"><span class="sel_r" style="width:190px;">&nbsp;</span></span>'),r.$label.on("click",".sel_r",function(e){e.preventDefault(),e.stopPropagation(),r.$list!=i&&n(),r.$label.hasClass(r.options.disabledClass)||(r.$label.hasClass("open")?n:t)()}),M.isTouch||r.$label.on("keydown",function(e){13===e.keyCode?A(this).find(".sel_r").trigger("click"):e.keyCode===A.ui.keyCode.DOWN&&(t(),r.$list.find(":focusable:first").focus())}),r.$label.find(".sel_r").css("width",r.width),r.$list=A('<div class="select_open" style="position:absolute;" tabindex="0"></div>'),r.$list.hide().on("click",function(e){r.$list.focus()}).on("click","li>a",function(e){var t;e.preventDefault(),e.stopPropagation(),r.selectedIndex(A(this).parent().index()),n(),r.$label.focus(),e=r.selectedIndex(),A(r.$el[0].options[e]).attr("placeholder-replace")&&(t=A(r.$selectbox.parent()).next(".input_text"),e=A(r.$el[0].options[e]).attr("placeholder-replace"),t.attr("placeholder",e),t.placeholder("destroy"),t.placeholder("update")),e=r.selectedIndex(),A(r.$el[0].options[e]).attr("title-replace")&&(t=A(r.$selectbox.parent()).next(".input_text"),e=A(r.$el[0].options[e]).attr("title-replace"),t.attr("title",e))}).on("mousedown","li>a",function(){this.focus()}),M.isTouch||r.$list.on("keydown","li a",function(e){var t=A(this).parent().index(),a=r.$list.find("li"),n=a.length;switch(e.keyCode){case A.ui.keyCode.UP:e.stopPropagation(),e.preventDefault(),a.eq(Math.max(0,t-1)).children().focus();break;case A.ui.keyCode.DOWN:e.stopPropagation(),e.preventDefault(),a.eq(Math.min(n-1,t+1)).children().focus()}}),r.$selectbox.insertAfter(r.$el.hide()),r.$selectbox.append(r.$label),r.$selectbox.append(r.$list),r.$selectbox.on("openlist closelist",function(e){var t=r.$el.attr("data-zindex-target"),t=!!t&&r.$el.parents(t);"openlist"===e.type?(r.$label.addClass("open"),r.$el.closest("div.select_wrap").addClass("on"),t&&t.addClass("on"),M.isTouch&&A("body").on("touchend.selectbox",function(){n()})):(r.$label.removeClass("open"),r.$el.closest("div.select_wrap").removeClass("on"),t&&t.removeClass("on"),clearTimeout(a),a=null,M.isTouch&&A("body").off("touchend.selectbox"))}),M.isTouch?r.$selectbox.on("touchend",function(e){e.stopPropagation()}):r.$selectbox.on("focusin focusout",function(e){clearTimeout(a),a=null,"focusout"===e.type&&r.$label.hasClass("open")&&(a=setTimeout(function(){n()},100))}).on("keydown",function(e){e.keyCode===A.ui.keyCode.ESCAPE&&(n(),r.$label.focus())}),r.$el.on("change.selectbox",function(e){r.selectedIndex(this.selectedIndex,!1)}),r.$el.closest("form").on("reset",function(){r.update()}),r.$selectbox.mouseHover(".select_box, .select_open li"),r.update()},selectedIndex:function(e,t){if(0===arguments.length)return this.$el[0].selectedIndex;var a=this.$el.find("option").prop("selected",!1).removeAttr("selected").eq(e).prop("selected",!0).attr("selected","selected");!1!==t&&this.$el.trigger("change",[e]),this.$list.find("li").removeClass("on").eq(e).addClass("on"),this.$label.children().text(a.text())},value:function(a){var n=this;if(0===arguments.length)return n.$el[0].options[n.$el[0].selectedIndex].value;A.each(n.$el[0].options,function(e,t){if(t.value==a)return n.selectedIndex(e),!1})},update:function(){var e=this,a="",n=-1,r="";A.each(e.$el[0].options,function(e,t){A(t).prop("selected")&&(n=e,r=t.text),a+='<li><a href="#" data-value="'+t.value+'" data-text="'+t.text+'">'+t.text+"</a></li>"}),e.$list.empty().html("<ul>"+a+"</ul>").find("li:eq("+n+")").addClass("on"),e.$label.children().text(r),e.$el.prop(e.options.disabledClass)?e.$label.addClass(e.options.disabledClass).removeAttr("tabIndex"):e.$label.removeClass(e.options.disabledClass).attr("tabIndex",0)},destroy:function(){var e=this;e.supr(),e.$label.off().remove(),e.$list.off().remove(),e.$el.unwrap("<div></div>"),e.$el.off("change.selectbox").show()}}));return e.onClassCreate=function(){d.log("Selectbox ready"),M.$doc.on("click.selectbox",function(e){i.hide().trigger("closelist")})},M.bindjQuery(e,"selectbox"),e}),M.define("PBPGN.Dropdown",function(){var a=A(),e=c({name:"Dropdown",$extend:MELON.PBPGN.View,$statics:{ON_BEFORE_SHOW:"beforeshow",ON_SHOW:"show",ON_HIDE:"hide"},defaults:{dropdownTarget:""},initialize:function(e,t){var a=this;!1!==a.supr(e,t)&&(a.$dropdown=a.$el.attr("data-dropdown-target")?A(a.$el.attr("data-dropdown-target")):a.$el.next("div"),a.$dropdown.addClass("d_layer").addClass("d_dropdown"),a.$el.attr("aria-haspopup","true"),a.on("mousedown keydown",a.toggle.bind(a)),a.$el.add(a.$dropdown).on("keydown.dropdown",function(e){e.keyCode===A.ui.keyCode.ESCAPE&&(a.$el.attr("data-class-on")&&a.$el.removeClass(a.$el.attr("data-class-on")),a.$dropdown.hideLayer({focusOpener:!0}))}),a.$dropdown.on("click",".d_close, .btn_close",function(e){e.preventDefault(),e.stopPropagation(),a.$el.attr("data-class-on")&&a.$el.removeClass(a.$el.attr("data-class-on")),a.$dropdown.hideLayer()}).on("click.dropdown","a",function(e){e.isDefaultPrevented()||(a.$el.attr("data-class-on")&&a.$el.removeClass(a.$el.attr("data-class-on")),a.$dropdown.hideLayer())}))},_posInArea:function(){var e,t,a,n,r,i,o,l,s,c,d,m,_,p,u,g,h,f,T,C,y,E,b=this.$el,v=this.$dropdown,P=v.find("span[class^=bullet]"),w=v.attr("data-ori-bullet")||P.attr("class"),N=0<P.length;!v.hasClass("d_notpos")&&N&&(E=0===(E=b.closest("div.d_scrolldiv")).length?M.$win:E,y=M.browser.isIE7,t=!(e=!E.hasClass("d_scrolldiv"))&&"relative"===E.css("position"),a=Number("none"!==P.css("display")),n={},r=b.position(),i=b.offset(),o=e?{left:0,top:0}:E.offset(),l=E.scrollTop(),s=E.scrollLeft(),c=E.width(),d=E.height(),m=v.outerWidth(),_=v.outerHeight(),p=parseInt(v.css("marginLeft"),10),u=parseInt(v.css("marginTop"),10),g=b.outerWidth(),h=b.outerHeight(),f=N?{width:P.width(),height:P.height()}:{width:0,height:0},T=parseInt(b.css("paddingTop"),10),C=y?{left:0,top:0}:{left:0|parseInt(b.css("borderLeftWidth"),10),top:0|parseInt(b.css("borderTopWidth"),10)},y||(parseInt(b.css("marginLeft"),10),parseInt(b.css("marginTop"),10)),y=N?9+Math.floor(f.height/2):0,b=!1,i.top-=o.top,i.left-=o.left,e||t||(E.hasClass("d_modal_ajax")?b=!0:E.css("position","relative")),v.css("marginTop",0),P[0].className=w,d+l*Number(e)-5<i.top+_?"bullet_vertical"===w?e?(d+l*Number(e)-5-i.top<13?n.top=l+d-_-i.top-5+13:n.top=l+d-_-i.top-5,N&&P.css("top",r.top-n.top+T)):b?(n.top=h-_-7-T,i.top-n.top+f.height>_&&(n.top+=f.height),N&&P.css("top",_-h-5-T)):(n.top=d-_-5-T+u,i.top-n.top+f.height>_&&(n.top+=f.height),N&&P.css("top",i.top-n.top)):"bullet_top"===w?Math.abs(r.top-_-9*a)<i.top-l&&(A(window).scrollTop(l+_),N&&P.css({bottom:"",top:-7}),n.top=r.top+h+7*a):"bullet"===w&&(N&&P.attr("class","bullet_bottom").css({top:"",bottom:-7,left:m/2-6}),n.top=r.top-_-9*a):"bullet_vertical"===w?(N&&P.css("top",7),n.top=r.top+Math.floor(h/2)-y):"bullet_top"===w?(N&&P.css({bottom:"",top:-7}),n.top=r.top+h+7*a):"bullet"===w&&(N&&P.css({bottom:"",top:-7,left:"50%"}),n.top=r.top+h+7*a),A("#id_box .expn").is(":visible")&&c<1280&&i.left+g+m+5>=parseInt(c/2+504-208,10)||A("#id_box .expn").is(":visible")&&1280<=c&&i.left>parseInt(c-211-m-g-8)||c+s<i.left+g+m?"bullet_vertical"===w?(n.left=r.left-m-9*a,N&&(P[0].className="bullet_right")):"bullet_top"!==w&&"bullet"===w&&(n.left=r.left-Math.ceil((m-g)/2)):"bullet_vertical"===w?n.left=r.left+g+9*a:"bullet_top"!==w&&"bullet"===w&&(n.left=r.left-Math.ceil((m-g)/2)),e||(n.top+=T,n.top+=l),n.left-=p,n.top+=C.top,v.attr("data-ori-bullet",w).css(n))},toggle:function(e){var t=this;"keydown"===e.type&&13!==e.keyCode||(e.stopPropagation(),t.$dropdown.hasClass("d_open")?t.close():t.open(),t.$el.addClass("mactive"))},open:function(){var e=this;e.$el.is(".disabled, :disabled")||e.$dropdown.hasClass("d_open")||(e.$el.attr("aria-pressed","true"),a.hideLayer(),e.$el.parents().is(".d_scrolldiv")&&e.$el.parents(".d_scrolldiv").height()<e.$dropdown.height()&&(e.$dropdown.find(".l_cntt").css({height:e.$el.parents(".d_scrolldiv").height()-30,"overflow-y":"scroll"}),e.$dropdown.mouseleave(function(){e.close(),e.$el.addClass("mactive")}),e.$dropdown.find(".btn_close").hide()),e._posInArea(e.$el,e.$dropdown),a=e.$dropdown.css({zIndex:9999}).showLayer({opener:e.$el}),e.$el.attr("data-class-on")&&(A("body").find("[data-class-on]").removeClass(e.$el.attr("data-class-on")),e.$el.addClass(e.$el.attr("data-class-on"))))},close:function(){var e=this;e.$el.attr("aria-pressed","false"),e.$dropdown.hideLayer(),e.$el.attr("data-class-on")&&e.$el.removeClass(e.$el.attr("data-class-on"))},destroy:function(){this.supr(),this.$el.off(".dropdown"),this.$dropdown.off(".dropdown")}});return e.onClassCreate=function(){d.log("Dropdown ready"),MELON.WEBSVC.browser.isIE7&&s.on("beforeshow.dropdown hide.dropdown","div.d_layer",function(e){for(var t,a=A(this),n=a.attr("data-zindex-target"),r=n||"td, li",i=0,o=(r=r?r.split(/\s*,\s*/):[]).length;i<o&&(!(r[i]&&0<(t=a.closest(r[i])).length)||(t.toggleClass("on","beforeshow"===e.type),n));i++);}),s.on("mousedown.dropdown keydown.dropdown",function(e){var t;"keydown"===e.type&&13!==e.keyCode||(0===A(e.target).closest("div.d_open.d_layer").length&&a.not("[role=dialog]").hideLayer(),(t=A("body").find("[data-class-on]"))&&t.removeClass(t.attr("data-class-on")),e.stopPropagation())}),M.PubSub.on("hide:modal",function(){a.not("[role=dialog]").hideLayer()})},M.bindjQuery(e,"dropdown"),e}),M.define("PBPGN.Tooltip",function(){var e=c({name:"Tooltip",$extend:MELON.PBPGN.View,defaults:{interval:300},initialize:function(e,t){var a=this;!1!==a.supr(e,t)&&(a.$tooltip=a.$el.attr("data-tooltip-target")?A(a.$el.attr("data-tooltip-target")):a.$el.next("div"),a.isShown=!1,a.timer=null,a.on("focusin mouseenter",a.open.bind(a)).on("mouseleave focusout",a.close.bind(a)),a.$tooltip.on("focusin.tooltip mouseenter.tooltip",function(){a.$tooltip.data("timer")&&(clearTimeout(a.$tooltip.data("timer")),a.$tooltip.removeData("timer"))}).on("focusout.tooltip mouseleave.tooltip",function(){a.isShown&&a.$tooltip.data("timer",setTimeout(function(){a.isShown=!1,a.$tooltip.hide(),a.$tooltip.data("timer")&&(clearTimeout(a.$tooltip.data("timer")),a.$tooltip.removeData("timer"))},a.options.interval))}))},open:function(){var e=this;e.$el.offset().top+=e.$el.height(),e.timer=setTimeout(function(){e.$tooltip.fadeIn("fast"),e.isShown=!0},e.options.interval)},close:function(){var e=this;e.isShown?e.$tooltip.data("timer",setTimeout(function(){e.isShown=!1,e.$tooltip.hide()},e.options.interval)):(clearTimeout(e.timer),e.timer=null)},destroy:function(){this.supr(),this.$tooltip.off(".tooltip").removeData("timer")}});return M.bindjQuery(e,"tooltip"),e}),M.define("PBPGN.Expander",function(){var e=c({name:"Expander",$extend:MELON.PBPGN.View,$statics:{ON_COLLAPSE:"collapse",ON_EXPAND:"expand"},defaults:{interval:300},initialize:function(e,t){var n,r=this;!1===r.supr(e,t)||r.$el.hasClass("disabled")||0!==(n=r.$target=r.$el.attr("data-expand-target")?A(r.$el.attr("data-expand-target")):r.$el.next(".d_expand")).length&&r.on("click",function(e){e.preventDefault();var e=A(this),t=e.hasClass("on"),a=A.Event(t?"collapse":"expand");r.trigger(a),a.isDefaultPrevented()||(e.toggleClass("on",!t),n.toggle(t))})},toggle:function(){this.trigger("click")},destroy:function(){this.supr()}});return M.bindjQuery(e,"expander"),e}),M.define("PBPGN.Exposer",function(){var e=c({initialize:function(e,t){var a=this;a.$el=A(e),a.options=A.extend({},a.defaults,a.$el.data(),t),a.init(),a._init()},_init:function(){var t=this;t.$el.on("click.expose",function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},init:function(){},expose:function(){},unexpose:function(){},destroy:function(){this.supr(),this.$el.off(".expose")}}),n=c({$extend:e,defaults:{moreClass:"more",exposeClass:"on",downClass:"arrow_d",upClass:"arrow_u"},init:function(){this.$target=this.$el.attr("data-expose-target")?A(this.$el.attr("data-expose-target")):this.$el.siblings("div.text")},toggle:function(){var e=this,t=e.$target.hasClass(e.options.exposeClass),a=A.Event(t?"expose":"unexpose");e.$el.trigger(a,[e.$target[0]]),a.isDefaultPrevented()||(t?e.unexpose():e.expose())},expose:function(){var e=this;e.$target.addClass(e.options.exposeClass),e.$target.attr("tabindex",0).focus(),e.$el.find("span").text("접기"),e.$el.replaceClass(e.options.downClass,e.options.upClass)},unexpose:function(){var e=this;e.$target.removeClass(e.options.exposeClass),e.$target.find("button.more").focus(),e.$el.find("span").text("펼치기"),e.$el.replaceClass(e.options.upClass,e.options.downClass)}}),r=c({$extend:e,defaults:{exposeClass:"ws_normal",downClass:"arrow_d",upClass:"arrow_u"},init:function(){var e=this;e.$target=e.$el.attr("data-expose-target")?A(e.$el.attr("data-expose-target")):e.$el.closest(".d_expose"),e.$el.hasClass(e.options.downClass)&&e.$target.data("old_height",parseInt(e.$target.css("height"),10))},toggle:function(){var e=this,t=e.$el.hasClass(e.options.downClass),a=A.Event(t?"expose":"unexpose");e.$el.trigger(a,[e.$target[0]]),a.isDefaultPrevented()||(t?e.expose():e.unexpose())},expose:function(){var e=this;e.$target.css("height","auto"),e.$target.addClass(e.options.exposeClass),e.$el.replaceClass(e.options.downClass,e.options.upClass).html('<span class="text">접기</span> <span class="icon"></span>').attr("title",function(){return this.title.replace("더보기","접기")})},unexpose:function(e){var t=this;t.$target.css("height",t.$target.data("old_height")),t.$target.removeClass(t.options.exposeClass),t.$el.replaceClass(t.options.upClass,t.options.downClass).html('<span class="text">더보기</span> <span class="icon"></span>').attr("title",function(){return this.title.replace("접기","더보기")})}}),e=c({name:"Exposer",$statics:{ON_EXPOSE:"expose",ON_UNEXPOSE:"unexpose"},initialize:function(e,t){t=t||{};var a=A(e).attr("data-expose-type")||t.exposeType||"height";this.exposer=new("height"===a?r:n)(e,t)},toggle:function(){this.exposer.toggle()},expose:function(){this.exposer.expose()},unexpose:function(){this.exposer.unexpose()},destroy:function(){this.exposer.destroy()}});return M.bindjQuery(e,"exposer"),e}),M.define("PBPGN.Placeholder",function(){var t=c({name:"Placeholder",$extend:MELON.PBPGN.View,defaults:{foreColor:""},initialize:function(e,t){var a,n=this;"placeholder"in MELON.WEBSVC.tmpInput||!1!==n.supr(e,t)&&(n.placeholder=n.$el.attr("placeholder"),n._foreColor=n.options.foreColor,a="password"===n.$el.attr("type"),n.on("focusin click",function(){A.trim(this.value)!==n.placeholder&&A.trim(this.value)||(n.$el.removeClass(n._foreColor),a&&n.$el.removeClass("placeholder"),this.value="")}).on("focusout",function(){""!==this.value&&this.value!==n.placeholder||(a?n.$el.val("").addClass("placeholder"):n.$el.val(n.placeholder).addClass(n._foreColor))}).triggerHandler("focusout"))},update:function(){this.$el.val(this.placeholder)},destroy:function(){this.$el.removeData(),this.supr()}});return t.onClassCreate=function(){d.log("Placeholder ready"),"placeholder"in MELON.WEBSVC.tmpInput||s.on("submit.placeholder","form",function(e){A("input[placeholder], textarea[placeholder]").each(function(){A(this).attr("placeholder")===this.value&&(A(this).removeClass(t.prototype.defaults.foreColor),this.value="")})})},MELON.WEBSVC.bindjQuery(t,"placeholder"),t}),M.define("PBPGN.TextCounter",function(){var i=M.browser,t=M.string.byteLength,o=M.string.charsByByte,e=c({name:"TextCounter",$extend:MELON.PBPGN.View,$statics:{ON_TEXTCOUNT_CHANGE:"textcounterchange"},defaults:{countType:"byte",limit:100},initialize:function(e,t){this.supr(e,t);var a=this;a.currentLength=0,a.placeholder="placeholder"in M.tmpInput?"":a.$el.attr("placeholder"),MELON.WEBSVC.browser.isGecko&&a._forceKeyup(),a.on("keydown keyup cut paste blur",function(e){var t=a._checkLimit();"keyup"===e.type&&t&&(a._truncateValue(),alert("입력하신 글자 수가 초과되었습니다."),this.focus()),a.trigger("textcounterchange",[a.currentLength])}),a._checkLimit(),a.trigger("textcounterchange",[a.currentLength])},textLength:function(e){return"byte"===this.options.countType?t(e):(e||"").length},_checkLimit:function(){var e=this,t=e.options,a=!1;return e.currentLength=e.textLength(e.$el[0].value),a=e.currentLength>t.limit?!0:a},_truncateValue:function(){var e,t=this,a=t.$el,n=i.isOldIE&&a[0].value===t.placeholder?"":a[0].value,r=t.options.limit;0===r?(a[0].value=t.placeholder,t.currentLength=r):r<t.currentLength&&(e="byte"===t.options.countType?o(n,r):r,a[0].blur(),a[0].value=n.substring(0,e),a[0].focus(),t.currentLength=r)},_forceKeyup:function(){var e,t=this,a=t.$el[0],n=window,r=document,i=r.createEvent?function(){var e;n.KeyEvent?(e=r.createEvent("KeyEvents")).initKeyEvent("keyup",!0,!0,n,!1,!1,!1,!1,65,0):((e=r.createEvent("UIEvents")).initUIEvent("keyup",!0,!0,n,1),e.keyCode=65),a.dispatchEvent(e)}:function(){var e=r.createEventObject();e.keyCode=65,a.fireEvent("onkeyup",e)};t.timer=null,t.on("focus",function(){t.timer||(t.timer=setInterval(function(){e!==a.value&&(e=a.value,i())},60))}).on("blur",function(){t.timer&&(clearInterval(t.timer),t.timer=null)})},destroy:function(){this.timer&&clearInterval(this.timer),this.supr()}});return MELON.WEBSVC.bindjQuery(e,"textCounter"),e}),M.define("PBPGN.TextControl",function(){var s=c({name:"TextControl",$extend:MELON.PBPGN.View,$statics:{ON_INIT:"init",ON_CHANGE:"textcontrolchange"},defaults:{counting:!1,limit:100,limitTarget:"",autoResize:!1,allowPaste:!1},initialize:function(e,t){!1!==this.supr(e,t)&&(this._initTextControl(),this.trigger(s.ON_INIT))},_initTextControl:function(){var a,n=this,r=n.options;r.allowPaste||n.on("paste",function(e){e.preventDefault(),alert("죄송합니다. \n도배글 등을 방지하기 위해 붙여넣기를 하실 수 없습니다.")}),n.$el.is("textarea")&&r.autoResize&&n._autoResize(),r.counting&&(n.textCounter=n.subviews.counter=new MELON.PBPGN.TextCounter(n.$el,{countType:r.countType,limit:r.limit,on:{textcounterchange:(a=A(n.options.limitTarget),function(e,t){n.$el.val()===n.$el.attr("placeholder")||t>r.limit||a.html("<strong>"+t+"</strong> / "+r.limit+"자")})}}))},_autoResize:function(){var e,t,a=this,n=M.browser.isOldIE,r=0;a.$el.css({overflow:"hidden",resize:"none"}),e=n?a.$el.clone().removeAttr("name").removeAttr("id").addClass("d_tmp_textarea").val("").appendTo(a.$el.parent()):a.$el,t=e.height(),e[0].scrollHeight,e[0].scrollHeight!==t&&(r=e.innerHeight()-t),n&&e.hide(),a.on("keyup change input paste focusin focusout",function(){this._layout(this,this.$el,e,t,r)}.bind(a)),a._layout(a,a.$el,e,t,r)},_layout:function(e,t,a,n,r){var i=t.val(),o=e.prevVal,l=M.browser.isOldIE;i!==o&&(e.prevVal=i,a.css("height",""),l&&a.val(i).show()[0].scrollHeight,o=a[0].scrollHeight-r,l&&a.hide(),t.height(o=Math.max(o,n)),e.triggerHandler(s.ON_CHANGE,[o]))},destroy:function(){this.supr()}});return MELON.WEBSVC.bindjQuery(s,"textControl"),s}),M.define("PBPGN.FormValidator",function(){var a=/^(.+?)\(([^\)]+)\)?$/,t=/^[0-9]+$/,n=/^\-?[0-9]+$/,r=/[\S]+@[\w-]+(.[\w-]+)+/,i=/^[a-z]+$/i,o=/^[a-z0-9]+$/i,l=/^(http|https|ftp)\:\/\/[a-z0-9\-\.]+\.[a-z]{2,3}(:[0-9]*)?\/?[a-z0-9\-\._\?\,\'\/+&amp;%\$#\=~]*$/i,s=/^[가-힝]+$/,d={required:"필수입력 항목입니다.",match:"동일한 값이어야 합니다.",email:"이메일 형식이 잘못 되엇습니다.",url:"URL 형식이 잘못 되었습니다.",min_chars:"유효하지 않은 길이입니다.",max_chars:"유효하지 않은 길이입니다.",exact_chars:"유효하지 않은 길이입니다.",alpha:"유효하지 않은 값입니다.",alpha_numeric:"유효하지 않은 값입니다.",numeric:"유효하지 않은 값입니다.",integer:"유효하지 않은 값입니다.",decimal:"유효하지 않은 값입니다.(예: -0.2)",kor:"한글만 입력해 주세요.",file_exts:"유효하지 않은 확장자입니다.",ssn:"잘못된 주민등록번호입니다."},e=c({name:"Validator",defaults:{},initialize:function(e,t){var n=this;n.$el=e instanceof jQuery?e:A(e),n.options=A.extend({},n.defaults,t),n.messages=n.handlers={},n.fields=n.errors={},A.each(n.$el[0].elements,function(e,t){var a,t=A(t);!t.is(":disabled, :hidden")&&(a=t.attr("data-valid-rules"))&&(n.fields[t.attr("name")]=a)}),n.fields=A.extend(n.fields,n.options.fields||{})},_clearPlaceholder:function(){this.$el[0].elements;for(var e,t,a=0;t=elements[a++];)(e=t.getAttribute("placeholder"))&&e===t.value&&(t.value="")},_generateRule:function(e){var t=a.exec(e);return{name:t&&t[1]||e,params:t&&t[2]&&t[2].replace(/\s/g,"").split(",")||[]}},run:function(){return this._validate()},_validate:function(e){var t,a,n,r=this,i=r.fields,o=r.$el[0].elements;for(n in i)if(i.hasOwnProperty(n))for(var l,s=0,c=(l=i[n].split("|")).length;s<c;s++)if(t=r._generateRule(l[s]),a=o[n],r._valid[t.name]&&!1===r._valid[t.name].apply(r,[a].concat(t.params)))return d[t.name]&&alert(d[t.name]),a.focus(),a.select(),!1},_valid:{required:function(e){var t=e.value;return"checkbox"===e.type||"radio"===e.type?!0===e.checked:!!t},match:function(e,t){t=e.form[t];return!!t&&e.value===t.value},email:function(e){return r.test(e.value)},url:function(e){return l.test(e.value)},min_chars:function(e,t){return e.value.length>=parseInt(t,10)},max_chars:function(e,t){return e.value.length<=parseInt(t,10)},exact_chars:function(e,t){return e.value.length===parseInt(t,10)},alpha:function(e){return i.test(e.value)},alpha_numeric:function(e){return o.test(e.value)},numeric:function(e){return t.test(e.value)},integer:function(e){return n.test(e.value)},decimal:function(e){return decimalRegex.test(e.value)},kor:function(e){return s.test(e.value)},file_exts:function(e,t){for(var a=t.split("|"),n=e.value.substr(e.value.lastIndexOf(".")+1),r=0,i=a.length;r<i;r++)if(n===a[r])return!0;return!1},ssn:function(e,t){e=e.value+(t&&t.value);return M.valid.SSN(e)}}});return M.bindjQuery(e,"validator"),e}),M.define("PBPGN.Tabs",function(){var n=c({name:"NormalTabs",$extend:MELON.PBPGN.View,$statics:{ON_SELECTED:"selected"},defaults:{selectedIndex:0,selectEvent:"click"},selectors:{tabs:".d_tab",contents:".d_content"},initialize:function(e,t){var a=this;!1!==a.supr(e,t)&&(a.on(a.options.selectEvent,a.options.selectors.tabs,function(e){e.preventDefault();e=A(e.currentTarget),e=a.$tabs.parent().index(e.parent());a.select(e)}),0<=a.$el.find("li.on").index()&&(a.options.selectedIndex=a.$el.find("li.on").index()),a.select(a.options.selectedIndex))},select:function(e){var t=this.$tabs,a=this.$contents;t.parent().siblings(".on").removeClass("on").end().eq(e).addClass("on"),a.hide().eq(e).show(),this.trigger(n.ON_SELECTED,[e])}}),i=c({name:"ParentOnTabs",$extend:MELON.PBPGN.View,$statics:{ON_SELECTED:"selected"},defaults:{selectedIndex:0,selectEvent:"click",msgBefore:!1},selectors:{tabs:"li > a"},initialize:function(e,t){var a=this;!1!==a.supr(e,t)&&(a.on(a.options.selectEvent,a.options.selectors.tabs,function(e){e.preventDefault();e=A(e.currentTarget);a.select(e.parent().index())}),0<=a.$el.find("li.on").index()&&(a.options.selectedIndex=a.$el.find("li.on").index()),a.select(a.options.selectedIndex,"firstSel"))},select:function(e,t){var a=this,n=a.$tabs,r=!0;n.parent().filter(".on").index();if(!t&&a.options.msgBefore){if(n.parent().eq(e).hasClass("on"))return!1;0<a.options.condition.find("tr.check").length&&(r=!1,M.confirm2(a.options.msgBefore).on("ok",function(){(r=!0)&&(n.parent().filter(".on").removeClass("on").end().eq(e).addClass("on"),a.trigger(i.ON_SELECTED,[e,r]))}).on("cancel",function(){r=!1}))}r&&(n.parent().filter(".on").removeClass("on").end().eq(e).addClass("on"),a.trigger(i.ON_SELECTED,[e,r]))}}),e=c({name:"Tabs",$statics:{ON_SELECTED:"selected",TYPES:{NORMAL:"normal",PARENT_ON:"parent-on"}},defaults:{type:"parent-on",selectedIndex:0},initialize:function(e,t){"parent-on"===(t=A.extend({},this.defaults,t)).type?this.tabs=new i(e,t):this.tabs=new n(e,t)},select:function(e){this.tabs.select(e)}});return M.bindjQuery(e,"tabs"),e}),M.define("PBPGN.ToggleSlider",function(){var n=c({name:"ToggleSlider",$extend:MELON.PBPGN.View,$statics:{ON_CHANGED:"togglesliderchanged"},defaults:{selectedIndex:0,selectEvent:"click",random:"false"},selectors:{tabs:">div.wrap_page>div.page>span.wrap_btn>a",contents:">div.wrap_list_mv>ul",nowpages:">div.wrap_page>div.page>span.page_num>strong",totalpages:">div.wrap_page>div.page>span.page_num>span"},initialize:function(e,t){var a=this;!1!==a.supr(e,t)&&(a.nowpage=0,a.maxpage=a.$contents.length-1,a.$totalpages.html(a.maxpage+1),(0===a.maxpage?a.$tabs:a.$tabs.eq(0)).addClass("disabled"),a.on(a.options.selectEvent,a.options.selectors.tabs,function(e){e.preventDefault(),A(this).hasClass("disabled")?e.stopPropagation():(0===a.$tabs.index(this)&&0<a.nowpage?a.nowpage=a.nowpage-1:1===a.$tabs.index(this)&&a.nowpage<a.maxpage&&(a.nowpage=a.nowpage+1),a.select(a.nowpage))}),"true"==a.options.random?(e=Math.floor(Math.random()*a.$el.find(a.options.selectors.contents).length),a.select(e)):a.select(a.options.selectedIndex))},select:function(e){var t=this,a=(t.$tabs,t.$contents);t.nowpage=e,a.hide().eq(t.nowpage).show(),t._toggleButtons(),t.trigger(n.ON_CHANGED,[e])},_toggleButtons:function(){var e=this,t=e.$tabs.eq(0),a=e.$tabs.eq(1);0===e.maxpage?e.$tabs.addClass("disabled"):0===e.nowpage?(t.addClass("disabled"),a.removeClass("disabled")):e.nowpage===e.maxpage?(t.removeClass("disabled"),a.addClass("disabled")):e.$tabs.removeClass("disabled"),e.$nowpages.html(e.nowpage+1)},update:function(){var e=this;e.$contents=e.$el.find(e.options.selectors.contents),e.$contents.hide().first().show(),e.nowpage=0,e.maxpage=e.$contents.length-1,e.$nowpages[0].innerHTML=e.nowpage+1,e.$totalpages.html(e.maxpage+1),e.select(e.nowpage)}});return M.bindjQuery(n,"toggleSlider"),n}),M.define("PBPGN.StarRating",function(){var n=c({name:"StarRating",$extend:MELON.PBPGN.View,$statics:{ON_CHANGED_RATE:"changedrate"},defaults:{activateClass:"on",ratio:.5},selectors:{stars:"label"},initialize:function(e,t){!1!==this.supr(e,t)&&this._initStarRating()},_initStarRating:function(){var t=this,e=t.$stars,a=t.$stars.filter(".on:last").index();e.on("click",function(e){e.preventDefault(),a=A(this).index(),t.activate(a),t.trigger(n.ON_CHANGED_RATE,{rate:(a+1)*t.options.ratio})}).on("mouseenter focus",function(){t.activate(A(this).index())}).on("mouseleave blur",function(){t.activate(a)})},activate:function(e){var t=this.$stars,a=this.options.activateClass;e<0?t.removeClass(a):t.eq(e).nextAll().removeClass(a).end().prevAll().addBack().addClass(a)}});return M.bindjQuery(n,"starRating"),n}),M.define("PBPGN.SimpleBanner",function(){var e=c({name:"SimpleBanner",$extend:MELON.PBPGN.View,$statics:{ON_SLIDE_END:"simplebannerslideend",ON_PLAY:"simplebannerplay",ON_STOP:"simplebannerstop"},defaults:{start:0,interval:3e3,useFade:!0,autoStart:!0,buttonDisabled:!1},selectors:{items:"li",indicators:"a.d_indicator",btnPlay:".d_btn_ctrl.play",btnPause:".d_btn_ctrl.pause"},events:{"click .d_btn_ctrl":function(e){e.preventDefault();e=A(e.currentTarget);e.hasClass("pre")||e.hasClass("prev")?this.prev():e.hasClass("pause")?this.stop():e.hasClass("play")?this.play():e.hasClass("next")&&this.next()}},initialize:function(e,t){var a=this;!1===a.supr(e,t)||(a._current=0,a._count=a.$items.length,0===a._count)?a.destroy():(a._isMouseOver=!1,a.$indicators.on("click",function(e){e.preventDefault(),a.select(A(this).index())}),a.on("mouseenter focusin mouseleave focusout",function(e){switch(e.type){case"mouseenter":case"focusin":a._isMouseOver=!0;break;default:a._isMouseOver=!1}}),a.select(a.options.start),a.options.autoStart&&a.play())},select:function(e){var t=this;e<0?e=t._count-1:e>=t._count&&(e=0),"show"===t.options.type?t.$items.hide().eq(e).show():t.$items.removeClass("on").eq(e).addClass("on"),t.$indicators.removeClass("on").eq(e).addClass("on"),t.options.buttonDisabled&&t.$el.find("button.d_btn_ctrl").filter(".pre").prop("disabled",0===e).toggleClass("disabled",0===e).end().filter(".next").prop("disabled",e+1===t._count).toggleClass("disabled",e+1===t._count),t._current=e,t.triggerHandler("simplebannerslideend",[e])},play:function(){var e=this,t=e.options.selectors;e.timer||(e.timer=setInterval(function(){e._isMouseOver||e.next()},e.options.interval),(t=e.$el.find(t.btnPlay)).attr("title",(t.attr("title")||"재생").replace("재생","일시정지")).replaceClass("play","pause").children().html(function(){this.innerHTML=this.innerHTML.replace("재생","일시정지")}),e.triggerHandler("simplebannerplay"))},stop:function(){var e=this,t=e.options.selectors,t=(e.timer&&(clearInterval(e.timer),e.timer=null),e.$el.find(t.btnPause));t.attr("title",(t.attr("title")||"일시정지").replace("일시정지","재생")).replaceClass("pause","play").children().html(function(){this.innerHTML=this.innerHTML.replace("일시정지","재생")}),e.triggerHandler("simplebannerstop")},prev:function(){this.select(this._current-1)},next:function(){this.select(this._current+1)}});return M.bindjQuery(e,"simpleBanner"),e}),M.define("PBPGN.RollingBanner",function(){var e=c({$extend:t,name:"RollingBanner",defaults:{interval:3e3,duration:600,container:"li",containerArea:"width",containerAreaN:220,item:"li>div",position:"top",posRange:22,fadeUse:!1,easingOpt:"easeInOutQuad",btnPlay:".play",btnPause:".pause",autoPlay:!0,random:!1},events:{"click .move > a":function(e){e.preventDefault();var t=this,e=A(e.currentTarget);if(t._$items.is(":animated"))return!1;if(!e.hasClass("on")){if(t.stop(),t.roll(e.index()),"false"==t.options.autoPlay||t.$el.find(".d_btn_ctrl").hasClass("play"))return!1;t.start()}},"click .d_btn_ctrl":function(e){e.preventDefault();e=A(e.currentTarget);e.hasClass("pause")?(this.stop(),this.stopBtn()):e.hasClass("play")&&(this.start(),this.playBtn())}},initialize:function(e,t){var a=this;!1!==a.supr(e,t)&&(a.$el.find(a.options.container).css(a.options.containerArea,a.options.containerAreaN),a._$items=a.$el.find(a.options.item),a._$items.length<=1?a.$el.find(".play_control").hide():(1==a.options.random?(e=Math.floor(Math.random()*a.$el.find(a.options.item).length),a._$items.eq(e).show().siblings().hide(),a.$el.find(".move >a").eq(e).addClass("on").siblings().removeClass("on"),a.index=e):a.index=0,a.count=a._$items.length,"true"==a.options.autoPlay&&a.start(),a.$el.find(a.options.container).on("mouseenter focusin mouseleave focusout",function(e){if("false"==a.options.autoPlay)return!1;switch(e.type){case"mouseenter":case"focusin":a.stop();break;default:a.timer||a.start()}})))},roll:function(e){var a=this,n=a.options.position,r=a.options.posRange,t=a._$items.eq(a.index),i={},e=void 0!==e?e:a.index+1<=a.count-1?a.index+1:0,o=a._$items.eq(e).css({mePos:r,display:"inline"});i[n]=-r,1==a.options.fadeUse&&(i.opacity=0),t.stop().css(n,0).animate(i,{easing:a.options.easingOpt,duration:a.options.duration,step:function(e,t){1==a.options.fadeUse&&"opacity"==t.prop?o.css("opacity",1-e):t.prop==n&&o.css(n,r+e)},complete:function(){t.hide().css(n,0)}}),a.index=e,a.$el.find(".move >a").eq(e).addClass("on").siblings().removeClass("on")},start:function(e,t){var a=this;clearInterval(a.timer),a.timer=null,a.$el.find(".play_control .d_btn_ctrl").is(".play")||(a.timer=setInterval(function(){a.roll()},a.options.interval))},stop:function(e){clearInterval(this.timer),this.timer=null},playBtn:function(){var e=this.$el.find(this.options.btnPlay);e.attr("title",(e.attr("title")||"재생").replace("재생","일시정지")).replaceClass("play","pause").children().html(function(){this.innerHTML=this.innerHTML.replace("재생","일시정지")})},stopBtn:function(){var e=this.$el.find(this.options.btnPause);e.attr("title",(e.attr("title")||"일시정지").replace("일시정지","재생")).replaceClass("pause","play").children().html(function(){this.innerHTML=this.innerHTML.replace("일시정지","재생")})}});return M.bindjQuery(e,"rollingBanner"),e}),M.define("PBPGN.WeekCalendar",function(){var _=[31,28,31,30,31,30,31,31,30,31,30,31],r=M.date,n=c({name:"WeekCalendar",$extend:MELON.PBPGN.View,$statics:{ON_SELECTED:"selected",ON_SELECTED_WEEK:"selectedweek",ON_SHOWCALENDAR:"showcalendar",ON_HIDECALENDAR:"hidecalendar"},defaults:{weekNames:["월","화","수","목","금","토","일"],monthNames:"1월,2월,3월,4월,5월,6월,7월,8월,9월,10월,11월,12월".split(","),startDate:"19700101",endDate:"21001231",limitWeek:12,title:"",getCaption:function(e,t,a,n,r,i,o,l){if(!this.options.title)return"";switch(e){case"active":return"선택된 주간입니다.("+a+"."+n+"."+r+")";case"before":case"after":return"선택할 수 없는 주간입니다."}return t+"입니다.("+a+"."+n+"."+r+" ~ "+i+"."+o+"."+l+")"},getTitle:function(){return this.options.getCaption.apply(this,arguments)}},template:['<div class="l_calendar" tabindex="0" style="position:absolute; z-index:13; left:35px; top:55px;"><dl class="cntt"><dt>','<button type="button" class="btn_round small pre"><span class="odd_span"><span class="even_span">이전 달</span></span></button>','<span class="date"></span>','<button type="button" class="btn_round small next"><span class="odd_span"><span class="even_span">다음 달</span></span></button>','</dt><dd class="week_calendar"><table border="1">',"<caption></caption>",'<colgroup><col /><col style="width:36px;" /><col style="width:36px;" /><col style="width:36px;" /><col style="width:36px;" /><col style="width:36px;" /><col style="width:36px;" /><col style="width:36px;" /></colgroup>','<thead><tr><th>주 선택란</th><th id="week01">월</th><th id="week02">화</th><th id="week03">수</th><th id="week04">목</th><th id="week05">금</th><th id="week06">토</th><th id="week07">일</th></tr></thead>','<tbody class="days">\x3c!-- 내용부분 --\x3e</tbody></table></dd>','</dl><button type="button" class="btn_close"><span class="odd_span">닫기</span></button><span class="shadow"></span></div>'].join(""),events:{click:function(e){n.active===this?this.close():this.open()}},initialize:function(e,t){var a=this;a.supr(e,t),a.limitWeek=a.$el.data("limitWeek")||a.options.limitWeek,a._initWeekCalendar()},_initWeekCalendar:function(){this.$el.mouseHover("tr")},_configure:function(){var e=this,t=e.$el.attr("data-active-start")||e.options.activeStart,a=e.$el.attr("data-active-end")||e.options.activeEnd,n=e.$el.attr("data-last-date")||e.options.lastDate;e.lastDate=n&&r.parseDate(n)||((n=new Date).setDate(n.getDate()-n.getDay()),n),e.startDate=t&&r.parseDate(t)||((n=new Date(e.lastDate.getTime())).setDate(n.getDate()-n.getDay()-6),n),e.endDate=a&&r.parseDate(a)||((t=new Date(e.startDate.getTime())).setDate(t.getDate()+6),t),e.currentDate=new Date(e.endDate.getTime()),e.startLimitDate=new Date(e.lastDate.getTime()-6048e5*e.limitWeek+864e5),e.endLimitDate=new Date(e.lastDate.getTime())},destroy:function(){this.supr(),s.off(this._eventNamespace),this.$calendar.off().remove()},open:function(){var a=this;a._configure(),a.$calendar=A(a.template).hide().insertAfter(a.$el[0]),a.$calendar.css("zIndex",9999).css(a.options.css||{}).on("click","button.pre, button.next",function(e){a.currentDate.setMonth(a.currentDate.getMonth()+(-1<this.className.indexOf("pre")?-1:1)),a.render(new Date(a.currentDate))}).on("click mouseenter mouseleave focusin focusout","tbody tr.d_week",function(e){switch(e.type){case"mouseenter":case"focusin":A(this).closest("tr").siblings().removeClass("mfocus").end().addClass("mfocus");break;case"mouseleave":case"focusout":A(this).closest("tr").removeClass("mfocus");break;case"click":var t=A(this);t.hasClass("on")||(t={startDate:t.attr("data-start-date"),endDate:t.attr("data-end-date"),startYear:t.attr("data-start-year"),startMonth:t.attr("data-start-month"),startDay:t.attr("data-start-day"),endYear:t.attr("data-end-year"),endMonth:t.attr("data-end-month"),endDay:t.attr("data-end-day"),isFirstDate:t.attr("data-start-date")===r.format(a.startLimitDate,"yyyyMMdd"),isLastDate:t.attr("data-end-date")===r.format(a.endLimitDate,"yyyyMMdd"),week:t.attr("data-week")},a.$el.triggerHandler(n.ON_SELECTED,[t.startDate,t.endDate,t.startYear,t.startMonth,t.startDay,t.endYear,t.endMonth,t.endDay,t.isFirstDate,t.isLastDate,t.week]),a.$el.triggerHandler(n.ON_SELECTED_WEEK,[t]))}}).on("click","tbody th>a",function(e){e.preventDefault(),e.stopPropagation(),A(this).closest("tr").click()}).on("click",function(e){e.stopPropagation()}).on("click","button.btn_close",function(e){e.stopPropagation(),a.close()}),M.browser.isIE7&&a.$calendar.on("beforeshow hide",function(e){"beforeshow"===e.type?A(this).closest("div.summ_prid").addClass("on"):A(this).closest("div.summ_prid").removeClass("on")}),s.on("click"+a._eventNamespace,function(e){a.$el[0]===e.target||A.contains(a.$el[0],e.target)||a.$calendar[0]===e.target||A.contains(a.$calendar[0],e.target)||n.active&&n.active.close()}),a.show()},show:function(){var e=this;(n.active=e).render(e.currentDate),e.$calendar.showLayer().focus(),e.trigger(n.ON_SHOWCALENDAR,[e.$calendar])},hide:function(){this.isShown=!1,this.$calendar.hideLayer(),this.trigger(n.ON_HIDECALENDAR,[this.$calendar])},close:function(){s.off("click"+this._eventNamespace),this.hide(),this.$calendar.off().remove(),n.active=null},_getPrevWeek:function(e){e=new Date(e.getTime()-6048e5);return{startDate:new Date(e.getTime()),endDate:new Date(e.getTime()+5184e5)}},_getNextWeek:function(e){e=new Date(e.getTime()+6048e5);return{startDate:new Date(e.getTime()),endDate:new Date(e.getTime()+5184e5)}},_sameWeekDate:function(e,t){return e.getFullYear()===t.year&&e.getMonth()===t.month-1&&e.getDate()===t.day},render:function(e){for(var t,a,n,r,i,o,l,s,c,d,m,_,p,u,g=this,h=M.number.zeroPad,f=g._getDateList(e),T=g.startLimitDate.getTime(),C=g.endLimitDate.getTime(),y=(g.options.title,g.options.getCaption),E=g.options.getTitle,b="",v=0;v<f.length;v++){P=(l=f[v])[0],s=l[6],t=new Date(P.year,P.month-1,P.day,0,0,0),r=(n=g._sameWeekDate(g.startDate,P)&&g._sameWeekDate(g.endDate,s))?"on":"d_btn",a="cycle0"+(v+1),c=P.year,d=h(P.month),m=h(P.day),_=s.year,p=h(s.month),u=h(s.day),1<v&&P.month!==s.month?(i=s.month+"월 1주차",o=1):i=s.month+"월 "+(o=v+1)+"주차";for(var P=[i,c,d,m,_,p,u],b=T<=t.getTime()&&C>t.getTime()?(b=(b+='<tr class="d_week '+r+'" title="'+E.apply(g,[n?"active":"normal"].concat(P))+'" ')+'data-start-date="'+c+d+m+'" data-start-year="'+c+'" data-start-month="'+d+'" data-start-day="'+m+'" data-end-date="'+_+p+u+'" data-end-year="'+_+'" data-end-month="'+p+'" data-end-day="'+u+'" data-week="'+o+'">')+(n?'<th id="'+a+'">'+y.apply(g,["active"].concat(P))+"</th>":'<th id="'+a+'"><a href="#" title="'+y.apply(g,["normal"].concat(P))+'">'+(v+1)+"</a></th>"):(b+='<tr class="end">',T>t.getTime()?(b+='<tr class="end" title="'+E.apply(g,["before"].concat(P))+'">')+"<th>"+y.apply(g,["before"].concat(P))+"</th>":(b+='<tr class="end" title="'+E.apply(g,["after"].concat(P))+'">')+"<th>"+y.apply(g,["after"].concat(P))+"</th>"),w=0,N=l.length;w<N;w++)b+='<td headers="'+a+" week0"+(w+1)+'" class="'+(r=0===w?"first":w===N-1?"end":"")+'">'+(l[w].month-1===e.getMonth()?"":'<span class="none">'+l[w].month+"월</span>")+l[w].day+"</td>";b+="</tr>"}g.startLimitDate.getFullYear()===e.getFullYear()&&g.startLimitDate.getMonth()===e.getMonth()?g.$calendar.find("button.pre").addClass("disabled").prop("disabled",!0):g.$calendar.find("button.pre").removeClass("disabled").prop("disabled",!1);var A=g.endLimitDate;e.getFullYear()===A.getFullYear()&&e.getMonth()===A.getMonth()?g.$calendar.find("button.next").addClass("disabled").prop("disabled",!0):g.$calendar.find("button.next").removeClass("disabled").prop("disabled",!1),g.$calendar.find("tbody.days").html(b),g.$calendar.find("span.date").html(e.getFullYear()+'<span class="none">년</span>.'+h(e.getMonth()+1)+'<span class="none">월</span>'),g.$calendar.find("caption").html(e.getFullYear()+"년 "+(e.getMonth()+1)+"월 주간 선택 달력 테이블")},_getDateList:function(e){e.setDate(1);var t=e.getMonth()+1,a=e.getFullYear(),n=0===e.getDay()?7:e.getDay(),r=_[e.getMonth()],i=_[0===e.getMonth()?11:e.getMonth()-1]-n,o=a,l=t,s=(12<t?(t-=12,a+=1):2==t&&this._isLeapYear(a)&&(r=29),[]),c=[];if(0<n){3==t&&this._isLeapYear(a)&&(i+=1),(l=t-1)<1&&(l=12,o=a-1);for(var d=1;d<n;d++)c.push({year:o,month:l,day:i+d+1});6<c.length&&(s.push(c),c=[])}for(d=1;d<=r;d++)c.push({year:a,month:t,day:d}),6<c.length&&(s.push(c),c=[]);if(0<c.length&&c.length<7){12<(l=t+1)&&(l-=12,o=a+1),t-1<1&&(l=2,o=a);for(var d=c.length,m=1;d<7;d++,m++)c.push({year:o,month:l,day:m})}return c.length&&s.push(c),s},_isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},isFirstDate:function(){return this._configure(),r.format(this.startDate,"yyyyMMdd")===r.format(this.startLimitDate,"yyyyMMdd")},isLastDate:function(){return this._configure(),r.format(this.endDate,"yyyyMMdd")===r.format(this.endLimitDate,"yyyyMMdd")},_calc:function(e){var t=this;return t._configure(),(e=0<e?t._getNextWeek(t.startDate):t._getPrevWeek(t.startDate)).startDate.getMonth()!==e.endDate.getMonth()?e.week=1:e.week=Math.ceil((e.startDate.getDay()+e.startDate.getDate())/7),e.startYear=e.startDate.getFullYear(),e.startMonth=m.zeroPad(e.startDate.getMonth()+1),e.startDay=m.zeroPad(e.startDate.getDate()),e.endYear=e.endDate.getFullYear(),e.endMonth=m.zeroPad(e.endDate.getMonth()+1),e.endDay=m.zeroPad(e.endDate.getDate()),e.startDate=r.format(e.startDate,"yyyyMMdd"),e.endDate=r.format(e.endDate,"yyyyMMdd"),e.isFirstDate=e.startDate===r.format(t.startLimitDate,"yyyyMMdd"),e.isLastDate=e.endDate===r.format(t.endLimitDate,"yyyyMMdd"),e},prev:function(){return this._calc(-1)},next:function(){return this._calc(1)}});return n.onClassCreate=function(){M.PubSub.on("hide:modal",function(){n.active&&n.active.close()})},M.bindjQuery(n,"weekCalendar"),n}),M.define("PBPGN.MonthCalendar",function(){var d=M.date,a=c({name:"MonthCalendar",$extend:MELON.PBPGN.View,$statics:{ON_SELECTED:"selected",ON_SHOWCALENDAR:"showcalendar",ON_HIDECALENDAR:"hidecalendar"},events:{click:function(e){a.active===this?this.close():this.open()}},template:['<div class="l_calendar" tabindex="0" style="position:absolute; z-index:13; left:35px; top:55px;"><dl class="cntt"><dt>','<button type="button" class="btn_round small pre"><span class="odd_span"><span class="even_span">이전 년도</span></span></button>','<span class="date">2013<span class="none">년</span></span>','<button type="button" class="btn_round small next"><span class="odd_span"><span class="even_span">다음 년도</span></span></button>','</dt><dd class="month_calendar"><ul>','</ul></dd></dl><button type="button" class="btn_close"><span class="odd_span">닫기</span></button>','<span class="shadow"></span>',"</div>"].join(""),defaults:{limitMonth:0,title:"",getCaption:function(){return""},getTitle:function(){return""}},initialize:function(e,t){this.supr(e,t),this._initMonthCalendar()},_initMonthCalendar:function(){},_configure:function(){var e=this,t=e.$el.data("limitMonth")||e.options.limitMonth,a=e.$el.attr("data-last-date")||e.options.lastDate,n=e.$el.attr("data-active-date")||e.options.activeDate,r=e.$el.attr("data-start-date")||e.options.startDate;e.endDate=a&&d.parseDate(a+".01")||((a=new Date).setMonth(a.getMonth()),a),e.activeDate=n&&d.parseDate(n+".01")||new Date(e.endDate.getTime()),e.currentDate=new Date(e.activeDate.getTime()),e.limitDate=new Date(e.endDate.getTime()),t?e.limitDate.setMonth(e.limitDate.getMonth()-t):r?(e.limitDate.setYear(d.parseDate(r+".01").getFullYear()),e.limitDate.setMonth(d.parseDate(r+".01").getMonth())):(e.limitDate.setYear(e.limitDate.getFullYear()-1),e.limitDate.setMonth(0))},open:function(){var t=this;t._configure(),t.$calendar=A(t.template).hide().insertAfter(t.$el),t.options.style&&(t.$calendar[0].style.cssText=t.options.style),t.$calendar.css("zIndex",9999).on("click","li>a",function(e){e.preventDefault();e=A(this);t.trigger(a.ON_SELECTED,[e.attr("data-date"),e.attr("data-year"),e.attr("data-month"),e.attr("data-date")===d.format(t.limitDate,"yyyyMM"),e.attr("data-date")===d.format(t.endDate,"yyyyMM")])}).on("click","button.pre, button.next",function(e){t.currentDate.setYear(t.currentDate.getFullYear()+(-1<this.className.indexOf("pre")?-1:1)),t.render(new Date(t.currentDate))}).on("click","button.btn_close",function(e){e.stopPropagation(),t.close()}),M.browser.isIE7&&t.$calendar.on("beforeshow hide",function(e){"beforeshow"===e.type?A(this).closest("div.summ_prid").addClass("on"):A(this).closest("div.summ_prid").removeClass("on")}),s.on("click"+t._eventNamespace,function(e){t.$el[0]===e.target||A.contains(t.$el[0],e.target)||t.$calendar[0]===e.target||A.contains(t.$calendar[0],e.target)||a.active&&a.active.close()}),t.show()},isFirstDate:function(){return this._configure(),d.format(this.activeDate,"yyyyMM")===d.format(this.limitDate,"yyyyMM")},isLastDate:function(){return this._configure(),d.format(this.activeDate,"yyyyMM")===d.format(this.endDate,"yyyyMM")},show:function(){var e=this;(a.active=e).render(e.currentDate),e.$calendar.showLayer().focus(),e.trigger(a.ON_SHOWCALENDAR,[e.$calendar])},hide:function(){this.$calendar.hide(),this.trigger(a.ON_HIDECALENDAR,[this.$calendar])},close:function(){s.off("click"+this._eventNamespace),this.hide(),this.$calendar.off().remove(),a.active=null},render:function(e){for(var t,a,n=this,r="",i=(n.options.title,e.getFullYear()),o=parseInt(d.format(n.limitDate,"yyyyMM"),10),l=parseInt(d.format(n.endDate,"yyyyMM"),10),s=function(){return n.options.getTitle.apply(n,arguments)},c=1;c<=12;c++)t=parseInt(e.getFullYear()+""+m.zeroPad(c),10),a=n.activeDate.getFullYear()===e.getFullYear()&&n.activeDate.getMonth()===c-1,r+=o<=t&&t<=l?'<li><a href="#" data-date="'+t+'" title="'+s(a?"active":"normal",i,c)+'" data-year="'+e.getFullYear()+'" data-month="'+m.zeroPad(c)+'" class="btn'+(a?" on":"")+'"><span class="odd_span"><span class="none">'+i+"년도</span>"+c+"월</span></a></li>":t<o?'<li class="d_before"><span class="btn disabled"><span><span class="none">'+i+"년도</span>"+c+'월<span class="none">'+s("before",i,c)+"</span></span></span></li>":'<li class="d_nodata"><span class="btn disabled"><span><span class="none">'+i+"년도</span>"+c+'월<span class="none">'+s("after",i,c)+"</span></span></span></li>";n.$calendar.find("dd.month_calendar>ul").html(r),n.limitDate.getFullYear()===e.getFullYear()?n.$calendar.find("button.pre").addClass("disabled").prop("disabled",!0):n.$calendar.find("button.pre").removeClass("disabled").prop("disabled",!1),e.getFullYear()===(new Date).getFullYear()?n.$calendar.find("button.next").addClass("disabled").prop("disabled",!0):n.$calendar.find("button.next").removeClass("disabled").prop("disabled",!1),n.$calendar.find("span.date").html(e.getFullYear()+'<span class="none">년</span>')},_calc:function(e){var t=this,e=(t._configure(),t.activeDate.setMonth(t.activeDate.getMonth()+e),{date:e=d.format(t.activeDate,"yyyyMM"),year:t.activeDate.getFullYear()+"",month:m.zeroPad(t.activeDate.getMonth()+1),isFirstDate:e===d.format(t.limitDate,"yyyyMM"),isLastDate:e===d.format(t.endDate,"yyyyMM")});return t.$el.attr("data-active-date",e.date),e},prev:function(){return this._calc(-1)},next:function(){return this._calc(1)}});return a.onClassCreate=function(){M.PubSub.on("hide:modal",function(){a.active&&a.active.close()})},M.bindjQuery(a,"monthCalendar"),a}),M.define("PBPGN.ArtistFinder",function(){var n={"0101":[{cd:"0102",name:"발라드"},{cd:"0103",name:"댄스"},{cd:"0104",name:"랩/힙합"},{cd:"0105",name:"R&B/Soul"},{cd:"0106",name:"록"},{cd:"0107",name:"일렉트로니카"},{cd:"0108",name:"트로트"},{cd:"0109",name:"포크"},{cd:"0110",name:"인디음악"}],"0201":[{cd:"0202",name:"팝"},{cd:"0203",name:"록"},{cd:"0204",name:"얼터너티브록"},{cd:"0205",name:"하드록"},{cd:"0206",name:"모던록"},{cd:"0207",name:"헤비메탈"},{cd:"0208",name:"뉴메탈/하드코어"},{cd:"0209",name:"프로그레시브/아트록"},{cd:"0210",name:"일렉트로니카"},{cd:"0211",name:"클럽뮤직"},{cd:"0212",name:"랩/힙합"},{cd:"0213",name:"R&amp;B/Soul"},{cd:"0214",name:"Urban"},{cd:"0215",name:"올디스"},{cd:"0216",name:"포크"},{cd:"0217",name:"블루스"},{cd:"0218",name:"컨트리"},{cd:"0219",name:"월드팝"}],"0301":[{cd:"0301",name:"국내영화"},{cd:"0302",name:"국외영화"},{cd:"0303",name:"국내드라마"},{cd:"0304",name:"국외드라마"},{cd:"0305",name:"애니메이션/게임"},{cd:"0306",name:"국내뮤지컬"},{cd:"0307",name:"국외뮤지컬"}],1401:[{cd:"1402",name:"국내"},{cd:"1403",name:"국외"},{cd:"1404",name:"일렉트로니카"},{cd:"1405",name:"클럽뮤직"}],1501:[{cd:"1501",name:"국내"},{cd:"1502",name:"국외"},{cd:"1503",name:"모던/얼터너티브록"},{cd:"1504",name:"팝메탈/하드록/아트록"},{cd:"1505",name:"뉴메탈/하드코어"},{cd:"1506",name:"인디"}],1601:[{cd:"1601",name:"국내"},{cd:"1602",name:"국외"},{cd:"1603",name:"R&amp;B"},{cd:"1604",name:"Soul"},{cd:"1605",name:"Urban"}],1701:[{cd:"1701",name:"국내"},{cd:"1702",name:"국외"},{cd:"1703",name:"팝랩"},{cd:"1704",name:"갱스터/하드코어랩"},{cd:"1705",name:"90년대 힙합"}],1801:[{cd:"1801",name:"어쿠스틱 스타일"},{cd:"1802",name:"록 스타일"},{cd:"1803",name:"일렉트로닉 스타일"},{cd:"1804",name:"언더그라운드 힙합"}],1901:[{cd:"1902",name:"신세대 트로트"},{cd:"1903",name:"전설의 트로트"},{cd:"1904",name:"묻지마 관광 뽕짝"},{cd:"1905",name:"메들리 돌리고~돌리고~"}],"0401":[{cd:"0402",name:"J-POP"},{cd:"0403",name:"J-Rock"},{cd:"0404",name:"일렉트로니카"},{cd:"0405",name:"랩/힙합"},{cd:"0406",name:"R&amp;B/Soul"},{cd:"0407",name:"시부야케이"},{cd:"0408",name:"뉴에이지"},{cd:"0409",name:"재즈"}],"0501":[{cd:"0501",name:"관현악곡"},{cd:"0502",name:"교향곡"},{cd:"0503",name:"실내악"},{cd:"0504",name:"협주곡"},{cd:"0505",name:"독주곡"},{cd:"0506",name:"오페라"},{cd:"0507",name:"크로스오버"},{cd:"0508",name:"현대음악"},{cd:"0509",name:"성악/합창곡"},{cd:"0510",name:"발레/무용곡"}],"0901":[{cd:"0902",name:"애시드 재즈"},{cd:"0903",name:"밥"},{cd:"0904",name:"보사노바"},{cd:"0905",name:"J-Jazz"},{cd:"0906",name:"라틴재즈"},{cd:"0907",name:"빅밴드/스윙"}],"0801":[{cd:"0801",name:"이지 리스닝"},{cd:"0802",name:"J-Newage"},{cd:"0803",name:"기능성 음악"},{cd:"0804",name:"뉴에이지 피아노"}],"0701":[{cd:"0701",name:"동요세상"},{cd:"0702",name:"동화나라"},{cd:"0703",name:"만화잔치"},{cd:"0704",name:"영어마을"},{cd:"0705",name:"어린이클래식"}],2001:[{cd:"2001",name:"엄마, 아빠와 함께"},{cd:"2002",name:"아가를 위한 클래식"},{cd:"2003",name:"릴렉싱 &amp; 힐링"}],"0601":[{cd:"0601",name:"국내CCM"},{cd:"0602",name:"국외CCM"},{cd:"0603",name:"워십"},{cd:"0604",name:"찬송가"},{cd:"0605",name:"성가"},{cd:"0606",name:"연주곡"},{cd:"0607",name:"어린이"}],1101:[{cd:"1102",name:"불교음악"},{cd:"1103",name:"가톨릭음악"}],1201:[{cd:"1201",name:"국악 크로스오버"},{cd:"1202",name:"국악가요"},{cd:"1203",name:"민요"},{cd:"1204",name:"판소리/단가"},{cd:"1205",name:"풍물/사물놀이"}],1301:[{cd:"1302",name:"C-Pop"},{cd:"1303",name:"C-Rock"}],1001:[{cd:"1002",name:"샹송"},{cd:"1003",name:"칸초네"},{cd:"1004",name:"켈릭/아이리시"},{cd:"1005",name:"브라질"},{cd:"1006",name:"탱고/플라멩코"},{cd:"1007",name:"라틴"},{cd:"1008",name:"레게"},{cd:"1009",name:"파두"}]},a=M.isTouch,r=c({$extend:MELON.PBPGN.View,name:"PeriodSlider",defaults:{width:588,distance:84,items:[0,1960,1970,1980,1990,2e3,2010,2020],startYear:0,endYear:2020},selectors:{btnMin:"div.yearlk_bar.last",btnMax:"div.yearlk_bar.start",sliderBar:"div.yearlk_bar.bar_year"},initialize:function(e,t){var n=this;!1!==n.supr(e,t)&&(n.$btnMin.css("zIndex",101),n.$btnMax.css("zIndex",100),n._moveX=n._downX=n._currX=0,n._isMouseDown=!1,n.$activeBtn=n.$lastMovedBtn=null,n._currStartLeft=parseInt(n.$btnMin.css("width"),10),n._currEndLeft=parseInt(n.$btnMax.css("width"),10),n._maxWidth=n.options.width,n.on("click","div.yearlk_text>a",function(e){e.preventDefault();var e=A(this).index()*n.options.distance,t=Math.abs(n._currStartLeft-e),a=Math.abs(n._currEndLeft-e);if(n._currStartLeft>e)n.$activeBtn=n.$btnMin;else if(n._currEndLeft<e)n.$activeBtn=n.$btnMax;else if(a<t)n.$activeBtn=n.$btnMax;else if(t<a)n.$activeBtn=n.$btnMin;else{if(!n.$lastMovedBtn)return;n.$activeBtn=n.$lastMovedBtn}n._move(e),n.$activeBtn=null}),n.on("mousedown touchstart","div.last>div.sel, div.start>div.sel",function(e){return e.preventDefault(),a&&e.stopPropagation(),n._isMouseDown=!0,n._currX=parseInt(A(this).parent().css("width"),10),n._downX=n._getX(e),n.$activeBtn=A(this).parent(),!1}).on("keydown","div.yearlk_bar div.sel",function(e){var t=A(this).parent(),a=parseInt(t.css("width"),10);switch(e.keyCode){case 37:a-=n.options.distance;break;case 39:a+=n.options.distance}n.$activeBtn=t,n._move(a),n.$activeBtn=null}),s.on("mouseup.artistfinder touchend.artistfinder mousemove.artistfinder touchmove.artistfinder",function(e){if(n._isMouseDown)switch(e.type){case"mouseup":case"touchend":n._isMouseDown=!1,n._moveX=0,n._fixPos(),n.$activeBtn=null;break;case"mousemove":case"touchmove":n._moveX=n._getX(e),n._move(n._currX-(n._downX-n._moveX)),e.preventDefault()}}),n.init())},init:function(){this.moveByYear(this.options.startYear,this.options.endYear)},_getX:function(e){return(e=a&&e.originalEvent.touches?e.originalEvent.touches[0]:e).pageX},_move:function(e){var t=this,a=t.options.distance;t.$activeBtn&&(t.$activeBtn.hasClass("last")?(e>=t._currEndLeft-a?e=t._currEndLeft-a:e<0&&(e=0),t._currStartLeft=e):(e<t._currStartLeft+a?e=t._currStartLeft+a:e>t._maxWidth&&(e=t._maxWidth),t._currEndLeft=e),t.$lastMovedBtn=t.$activeBtn.css("width",e))},moveByYear:function(e,t){var a=this,n=a.options.distance,e=M.array.indexOf(a.options.items,e),t=M.array.indexOf(a.options.items,t);0<e&&(a.$activeBtn=a.$btnMin,a._move(e*n)),0<t&&(a.$activeBtn=a.$btnMax,a._move(t*n)),a.$activeBtn=null},_fixPos:function(){var e,t=this.options.distance;this.$activeBtn&&(e=parseInt(this.$activeBtn.css("width"),10),e=Math.round(e/t)*t,this._move(e))},getValue:function(){var e=this.options.distance,t=this.options.items,a=Math.round(this._currStartLeft/e),n=Math.round(this._currEndLeft/e),e="",r="",i=[],o=!1;if(0!==a||n!==t.length-1)for(var o=!0,e=0===a?t[1]+" 이전":t[a],r=n===t.length-1?t[t.length-2]+" 이후":t[n],l=a;l<=n;l++)i.push(t[l]);return{isYearSelected:o,startYear:e,endYear:r,startTitle:e,endTitle:r,years:i}}}),i=c({$extend:MELON.PBPGN.View,$statics:{ON_SEARCH:"artistfindersearch"},name:"ArtistFinder",defaults:{},selectors:{},events:{"click dl:not(.gnr) input:radio:not(:disabled)":function(e){A(e.target).parent().activeRow("on"),this.triggerHandler(i.ON_SEARCH,[this.getValue(),this.getPeriodValue()])},"click dl.gnr input:radio:not(:disabled)":function(e){var e=A(e.target),t=this.$el.find("dl.gnr_dtl>dd"),a="";t.find(">label").remove(),n[e.val()]?(t.find(">div.finder_wrong").hide(),a+=['<label class="on"><input type="radio" name="genreCd" value="'+e.val()+'" class="input_radio" checked="checked" />','<span class="text">전체</span></label>'].join(""),A.each(n[e.val()],function(e,t){a+=['<label><input type="radio" name="genreCd" value="'+t.cd+'" class="input_radio" />','<span class="text">'+t.name+"</span></label>"].join("")})):(t.find(">div.finder_wrong").show(),a+=['<label style="display:none;"><input type="radio" name="genreCd" value="'+e.val()+'" class="input_radio" checked="checked" /></label>'].join("")),t.append(a),e.parent().activeRow("on"),this.triggerHandler(i.ON_SEARCH,[this.getValue()])}},initialize:function(e,t){var a=this;!1!==a.supr(e,t)&&(a.periodSlider=new r(a.options.periodSelector),a.$el.find("button.btn_big.calendar").on("click",function(){a.triggerHandler(i.ON_SEARCH,[a.getValue(),a.getPeriodValue()])}),a.$el.find(".wrap_finder_cnd").mouseHover("label"))},getValue:function(){var t={};return this.$el.find("input:radio:checked:not(:disabled)").each(function(){var e=A(this);t[e.attr("name")]=e.val()}),t},getPeriodValue:function(){return this.periodSlider.getValue()},getSearchTitles:function(){var t=[],e=this.periodSlider.getValue();return this.$el.find("input:radio:checked:not(:disabled)").each(function(){var e;""!==this.value&&(e=A(this).next().text())&&t.push(e)}),e.isYearSelected&&t.push(e.startTitle+"~"+e.endTitle),t},destroy:function(){this.periodSlider.destroy(),this.periodSlider=null,this.supr()}});return M.bindjQuery(i,"artistFinder"),i}),M.define("PBPGN.DatePulldown",function(){var l=M.date,e=c({name:"DatePulldown",$extends:MELON.PBPGN.View,$statics:{ON_CHANGE:"change"},initialize:function(e,t){var r,i,o;(t=t||{}).year&&t.month&&(r=this,0!==(o=A(t.year)).length)&&0!==(i=A(t.month)).length&&!1!==r.supr(e,t)&&(o.add(i).on("change",function(){r.$el[0].options.length=1;var e=o.val(),t=i.val();if(e&&t)for(var a=l.daysInMonth(e,t),n=1;n<=a;n++)r.$el[0].options[n]=new Option(n,n);r.$el.selectbox("update")}),o.triggerHandler("change"))}});return M.bindjQuery(e,"datePulldown"),e})})((window,jQuery),MELON.WEBSVC),((s,c)=>{var d=c.$win,i=c.$doc,m=c.Class,e=window.logger,a=c.Cookie,t=c.MemberAPI;c.define("WEBSVC.Urls",{getRoot:function(){return window.location.protocol+"//"+window.location.host+"/"},getPageUrl:function(){return document.location.protocol+"//"+document.location.host+document.location.pathname},getCSS:function(e){return"/resource/style/web/"+(e||"")},getScript:function(e){return"/resource/script/web/"+(e||"")},getBlankImage:function(){return"/resource/images/common/blank.gif"},getMobile:function(){return"m.melon.com"},getLogin:function(e){return"/login.do?r="+encodeURIComponent(e||"/")},getLoginPop:function(e){return"/login.do?r="+encodeURIComponent(e||"/")}}),c.define("WEBSVC.Auth",{isMelonLogin:function(){var e=this.getMemberKey();return!(void 0===e||e.length<=0)},getMemberKey:function(){return a.getMLCPHeader("memberKey")},getMemberNickName:function(){var e=this.getDisplayId();return e||"닉네임 없음"},getDisplayId:function(){return a.getMLCPHeader("displayId")},getMemberAge:function(){return t.getApiMemberProperties("getMemberAge")},getMemberSex:function(){return t.getApiMemberProperties("getMemberSex")},getMemberBirthDay:function(){var e=this.getMemberAge();return(new Date).getYear()-e+1+"0101"},isMemberAdult:function(){var e=this.getMemberAge(),t=this.isRealNameFlag();return e<19?"0":19<=e&&"Y"===t?"1":19<=e&&"N"===t?"2":void 0},isRealNameFlag:function(){return t.getApiMemberProperties("getRealNameYn")},isAdultPwdOption:function(){return"0"},getMemberAuthFlg:function(){var e=this.isAdultPwdOption(),t=this.isRealNameFlag();return"0"!==e?"N"===t?"0"===this.isMemberAdult()?"6":"0":"0"===this.isMemberAdult()?"4":"1"===e&&"Y"===a.get("IS_INPUT_AUTHENTICATION_ADULT_PWD")?"5":Number(e)+1+"":"Y"===t?"0"===this.isMemberAdult()?"4":"1":"0"===this.isMemberAdult()?"6":"0"},getAndroidCkMdn:function(){return a.getMUADHeader("androidCkMdn")},getAndroidCkDcf:function(){return a.getMUADHeader("androidCkDcf")},chkMACAuth:function(){var e=a.get("MAC");return null!==e&&""!==e}}),c.define("WEBSVC.GlobalEvents",{_$tooltip:s(),_inited:!1,init:function(){var e=this;e._inited||(e._inited=!0,e._basic(),e._dropdown(),e._tooltip(),e._checkbox(),e._expand(),e._expose(),setTimeout(function(){e._placeholder()},25),e._skipNaviFocus())},_basic:function(){var a,n,r;i.on("click.globalevents","div.d_layer .d_close, div.d_layer .btn_close",function(e){e.preventDefault(),e.stopPropagation(),s(this).closest("div.d_layer").hideLayer({focusOpener:!0})}),i.on("click.globalevents","body>div.popup .d_close",function(e){e.preventDefault(),e.stopPropagation(),self.close()}),i.on("click.globalevents","[data-control=modal]",function(e){e.preventDefault();var t,a=s(this),e=a.attr("href")||a.attr("data-target");if(e){if(!/^#/.test(e))return void s.ajax({url:e}).done(function(e){(t=s('<div class="d_modal_ajax" style="display:none"></div>').html(e).insertAfter(a)).modal({removeOnClose:!0})});t=s(e)}else t=s(this).next("div.layer_popup");t&&0<t.length&&t.modal(t.data())}),i.on("mousedown.globalevents mouseup.globalevents mouseleave.globalevents click.globalevents",".d_btn, .btn, button, a.btn_play_song",function(e){var t=s(this);if(!t.is("a")||"#"!=t.attr("href")&&!t.hasClass("directlink")||e.preventDefault(),t.hasClass("disabled"))t.removeAttr("onclick");else switch(e.type){case"mousedown":t.addClass("mactive");break;case"mouseup":case"mouseleave":case"click":t.removeClass("mactive")}}),i.on("mouseenter.globalevents mouseleave.globalevents",".d_btn, .btn, button, input , .magazine_box_thum",function(e){var t=s(this);t.is(":disabled, .disabled")?t.removeClass("mhover","mouseleave"===e.type):t.toggleClass("mhover","mouseenter"===e.type)}),window.MelonPersonal&&MelonPersonal.respond&&d.on("resize.respond",(n=c.util,r=s(document.documentElement),function(){var e=n.getWinWidth()<1280,t=n.getWinWidth()<1400;a!==e&&(r.toggleClass("narrow-screen",e),a=e),t&&!e?(t=1488-n.getWinWidth(),s("#util_menu .fold_on").css("right",t/2+7)):s("#util_menu .fold_on").css("right",0)})).trigger("resize.respond")},_dropdown:function(){e.debug("_dropdown"),i.on("mousedown.globalevents keydown.globalevents","[data-control=dropdown]",function(e){var t;"keydown"===e.type&&13!==e.keyCode||(e.preventDefault(),(t=s(this)).hasClass("disabled"))||t.is(":disabled")||t.data("dropdown")||(e.stopPropagation(),t.dropdown("open"))})},_tooltip:function(){e.debug("_tooltip"),i.on("mouseenter.globalevents focusin.globalevents mouseleave.globalevents focusout.globalevents","[data-control=tooltip]",function(){var e=s(this);e.data("tooltip")||e.tooltip("open")})},_checkbox:function(){i.on("click.globalevents","table input:checkbox:not(.d_downall)",function(e){var t,a=s(this),n=a.closest("table"),r=n.find(">thead"),i=n.find(">tbody");a.hasClass("d_checkall")?(i.find("input:checkbox:enabled:visible").checked(this.checked),(t=n.attr("data-checked-class"))&&i.find(">tr:has(input:enabled)").toggleClass(t,this.checked)):((t=n.attr("data-checked-class"))&&a.closest("tr").toggleClass(t,this.checked),r.find("input:checkbox").is(".d_downall")||r.find("input:checkbox").removeAttr("checked")),e.type="checkboxchanged",n.triggerHandler(e)})},_expand:function(){e.debug("_expand"),i.on("click.globalevents","[data-control=expand]",function(e){e.preventDefault();e=s(e.currentTarget);e.data("expander")||e.expander("toggle")})},_expose:function(){e.debug("_expose"),i.on("click.globalevents","[data-control=expose]",function(e){e.preventDefault(),e.stopPropagation();e=s(e.currentTarget);e.data("exposer")||e.exposer("toggle")})},_placeholder:function(){"placeholder"in MELON.WEBSVC.tmpInput?s("input[placeholder], textarea[placeholder]").each(function(){this.value===this.getAttribute("placeholder")&&(this.value="")}):s("input[placeholder], textarea[placeholder]").placeholder()},_skipNaviFocus:function(){s("#skip_nav").on("click","a",function(e){s(s(this).attr("href")).attr("tabindex",0).focus()})}}),c.define("PBPGN.GNB.MelonGNB",function(){var a=MELON.PBPGN,e=(c.$doc,s("body"),c.isTouch,a.View),n=m({name:"SearchCategory",initialize:function(e,t){this.$el=s(e),this.options=s.extend({},t),this._bindSearchCategory()},_bindSearchCategory:function(){var e=c.$doc,t=null,a=this.$el,n=a.find(">span.select_box"),r=a.find(">div.select_open");c.isTouch&&this.$el.on("touchend",function(e){e.stopPropagation()}),a.on("closecategory",function(){r.removeClass("on"),e.off(".searchcategory")}).on("click",function(e){e.stopPropagation(),e.preventDefault()}),n.on("click",function(){r.addClass("on").find("a:first").focus(),e.off(".searchcategory").on("click.searchcategory",function(e){s.contains(r[0],e.target)||a.triggerHandler("closecategory")}),c.isTouch&&e.on("touchend.searchcategory",function(){a.triggerHandler("closecategory")})}),r.on("click","a",function(e){e.preventDefault();var e=s(this),t=e.data("value");r.children("input").val(t),n.children().text(e.text()),a.triggerHandler("closecategory")}),c.isTouch||r.on("focusin focusout","a",function(e){switch(e.stopPropagation(),e.type){case"focusin":clearTimeout(t),t=null;break;case"focusout":t=setTimeout(function(){a.triggerHandler("closecategory")},300)}})}}),r=m({$extend:a.RollingBanner,defaults:{btnPlay:".d_btn_ctrl.play",btnPause:".d_btn_ctrl.pause"},initialize:function(e,t){var n=this;!1===n.supr(e,t)||(n._$items=n.$el.find("li"),n._$items.length<=1)||(n.index=0,n.count=n._$items.length,n.start(),n.$el.find("div.keyword_overlay").on("mouseenter focusin mouseleave",function(e){var t,a=s(this);switch(e.type){case"mouseenter":case"focusin":a.addClass("active"),n.stop(),n._$items.stop().css("top",0),n.$el.find("li").css("width",""),n.$el.addClass("d_hover"),n.$el.find(".ranktitle").removeClass("none");break;case"mouseleave":clearTimeout(t),t=setTimeout(function(){a.removeClass("active"),a.is(".active")||(n.$el.find(".ranktitle").addClass("none"),n.$el.removeClass("d_hover"),n.timer)||n.start()},30)}}),n.$el.siblings().on("click focusin",function(e){var t=s(".keyword_overlay");t.removeClass("active"),clearTimeout(void 0),setTimeout(function(){t.is(".active")||(n.$el.find(".ranktitle").addClass("none"),n.$el.removeClass("d_hover"),n.timer)||n.start()},30)}))},events:{"click .d_btn_ctrl":function(e){e.preventDefault();e=s(e.currentTarget);e.hasClass("pause")?(this.stop(),this.stopBtn()):e.hasClass("play")&&(this.start(),this.playBtn())}},start:function(){var n=this;clearInterval(n.timer),n.timer=null,n.timer=setInterval(function(){var e=n._$items.eq(n.index),t=n.index+1<=n.count-1?n.index+1:0,a=n._$items.eq(t).css({top:22});a.show(),e.stop().removeClass("on").css("top",0).animate({top:-22},{easing:"easeInOutQuad",duration:n.options.duration,step:function(e){a.css("top",22+e)},complete:function(){e.hide().css("top",0)}}),n.index=t},n.options.interval)},show:function(){},stop:function(){var e=this,t=e._$items.eq(e.index);e._$items.hide(),t.show().addClass("on"),clearInterval(e.timer),e.timer=null},playBtn:function(){var e=this.$el.find(this.options.btnPlay);e.attr("title",(e.attr("title")||"재생").replace("재생","일시정지")).replaceClass("play","pause").children().html(function(){this.innerHTML=this.innerHTML.replace("재생","일시정지")})},stopBtn:function(){var e=this.$el.find(this.options.btnPause);e.attr("title",(e.attr("title")||"일시정지").replace("일시정지","재생")).replaceClass("pause","play").children().html(function(){this.innerHTML=this.innerHTML.replace("일시정지","재생")})}});return m({name:"MelonGNB",$extend:e,$singleton:!0,defaults:{enterDelay:200,leaveDelay:400},initialize:function(e,t){!1!==this.supr(e,t)&&(this.searchCategory=new n(s("#d_search_category")),this._bindGNBMenu(),this._getAjaxContents())},_bindGNBMenu:function(){var e=s("#gnb_menu > ul:eq(0)"),t=(e.find("div.more_wrap"),e.find("ul.gnr_more")),a=s("#gnb_menu").find(">ul >li").find(".more_wrap").parents("li").index();0<a&&s("#gnb_menu").find(">ul >li").on("click",function(e){s(this).index()==a?s("#gnb_menu").find(">ul >li").eq(a).addClass("on"):s("#gnb_menu").find(">ul >li").eq(a).removeClass("on")}).on("mouseleave",function(){s("#gnb_menu").find(">ul >li").eq(a).removeClass("on")}),s("#gnb_menu > ul.sub_gnb > li.mymusic").hover(function(){s(this).addClass("mhover")},function(){s(this).removeClass("mhover")}),0<e.find(".gnr_more").parents("li").index()&&(t.prev().find(">li:last-child").on("click focusin",function(){t.addClass("on")}).siblings().on("click focusin",function(){t.removeClass("on")}).parents("li").siblings().on("click focusin",function(){t.removeClass("on")}),t.on("focusin",function(){t.addClass("on")}).on("mouseleave",function(){t.removeClass("on")}))},_getAjaxContents:function(){var n=this;(n.options.contentsUrl||n.options.bannerUrl||n.options.newsUrl)&&(s.ajax({url:n.options.contentsUrl}).done(function(e){var t=s('<div style="display:none;"></div>').html(e).find(">script"),a=isMelonLogin();setTimeout(function(){var e;s("#gnb div.realtime_soar_keyword>.title").css("display","inline-block"),s("#gnb div.realtime_soar_keyword>div.keyword_overlay>ol").html(t.filter(".d_realtime_keyword").html()),a||s("#id_box div.id_login>div.ban").html(t.filter(".d_personal_banner").html()),(e=s("#gnb div.realtime_soar_keyword"))&&0!==e.length&&(n.realtimeKeyword=new r(e)),t.remove(),t=null},25)}),s.ajax({url:n.options.bannerUrl}).done(function(e){var t=s('<div style="display:none;"></div>').html(e).find(">script");setTimeout(function(){var e;s("#gnb div.cmn_banner").html(t.filter(".d_gnb_banner").html()),(e=s("#gnb div.cmn_banner"))&&0!==e.length&&(n.eventBanner=new a.SimpleBanner(e,{selectors:{items:"a.d_item"},type:"show",autoStart:!1})),t.remove(),t=null},25)}),isMelonLogin())&&s.ajax({url:n.options.newsUrl}).done(function(e){var t=s('<div style="display:none;"></div>').html(e).find(">script"),a=null!=t.filter(".d_news_count").html();setTimeout(function(){a&&s("#gnb_menu ul.sub_gnb span.msg_box span.num").html(t.filter(".d_news_count").html()).parent().show(),t.remove(),t=null},25)})},destroy:function(){var e=this;e.searchCategory.destroy(),e.realtimeKeyword&&e.realtimeKeyword.destroy(),e.eventBanner&&e.eventBanner.destroy(),e.supr()}})}),c.define("PBPGN.Personal.PersonalArea",function(){var e=MELON.PBPGN,a=c.$doc,n=(s("body"),c.isTouch),t=c.$win,r=c.util,e=e.View,o=m({$extend:e,name:"VerticalSplitter",defaults:{containerOffset:{top:0,left:0,right:0,bottom:0}},initialize:function(e,t){var n,r=this;!1!==r.supr(e,t)&&(r.$con=s(r.options.container),n=r.$el.clone().hide().insertAfter(r.$el).css({zIndex:9999,position:"absolute",opacity:0,cursor:"n-resize"}),r.$el.on("mouseenter",function(e){n.css({top:r.$el.position().top}).show()}),n.draggable({potinter:"n-resize",axis:"y",start:function(e,t){r.options.clone&&n.css("opacity",""),r.triggerHandler("splittermovestart",[t])},drag:function(e,t){r.triggerHandler("splittermoving",[t])},stop:function(e,t){r.options.clone&&n.css("opacity",0),r.triggerHandler("splittermoveend",[t])}}).on("mousedown focusin",function(){var e=r.$con.offset(),t=r.$con.height(),a=r.options.containerOffset;c.isFunction(a)&&(a=s.extend({},r.defaults.containerOffset,a())),n.draggable("option","containment",[0,e.top+a.top,0,e.top+t-a.bottom])}))}}),l=m({$extend:e,name:"ScrollView",initialize:function(e,t){var a=this;!1!==a.supr(e,t)&&(a.$scrollView=a.$el.find("div.d_scrollview"),a.$scrollBar=a.$el.find("div.d_scrollbar"),a.$content=a.$el.find("ul.d_scrollcontent"),a._configure(),a._isMouseEnter=!1,a._isMouseDown=!1,a.isScrollForceHide=!1,a.$scrollBar.parent().hide(),c.isTouch?a._bindTouch():a._bindMouse(),a.update())},_bindMouse:function(){var t,a=this;a.$scrollBar.on("mousedown",function(e){return e.preventDefault(),n&&e.stopPropagation(),a._isMouseDown=!0,a._currY=parseInt(s(this).css("top"),10),a._downY=a._getY(e),a._bindDocEvent(),!1}),a.$scrollView.on("scroll",function(){a._isMouseDown||a.update()}).on("mousewheel DOMMouseScroll",function(e){e.preventDefault();e=(e=e.originalEvent).wheelDelta||-e.detail;a.$scrollView.scrollTop(a.$scrollView.scrollTop()-e)}),a.$content.on("focusin focusout",(t=null,function(e){clearTimeout(t),t=null,"focusin"===e.type?a._isMouseEnter||(t=setTimeout(function(){a.$el.triggerHandler("mouseenter")},200)):a._isMouseEnter&&(t=setTimeout(function(){a.$el.triggerHandler("mouseleave")},200))})),a.$el.on("mouseenter mouseleave",function(e){"mouseenter"!==e.type||a.isScrollForceHide?(a._isMouseEnter=!1,a._isMouseDown||a._toggleScrollbar(!1)):(a._isMouseEnter=!0,a._configure(),a._toggleScrollbar(!0))})},_bindTouch:function(){var n=this.$scrollView,r=0,i=0;n.find(">ul").on("touchstart touchmove touchend touchcancel",function(e){var t=e.originalEvent;if(1==t.touches.length){var a=t.touches[0].pageY;switch(e.type){case"touchstart":r=n.scrollTop(),i=a;break;case"touchmove":e.preventDefault(),e.stopPropagation(),n.scrollTop(r+(i-a))}}})},_bindDocEvent:function(){var t=this;a.off(".scrollview").on("mouseup.scrollview touchend.scrollview mousemove.scrollview touchmove.scrollview",function(e){switch(e.type){case"mouseup":case"touchend":t._isMouseDown=!1,t._moveY=0,a.off(".scrollview"),t._isMouseEnter||t._toggleScrollbar(!1);break;case"mousemove":case"touchmove":t._moveY=t._getY(e),t._move(t._currY-(t._downY-t._moveY)),e.preventDefault()}})},_configure:function(){var e=this;e._moveY=0,e._containerHeight=e.$scrollView.height(),e._contentHeight=e.$content.innerHeight(),e._scrollRate=e._containerHeight/e._contentHeight,e._scrollBarHeight=e._containerHeight*e._scrollRate,e._scrollBarHeight<20&&(e._scrollRate=(e._containerHeight-(20-e._scrollBarHeight))/e._contentHeight,e._scrollBarHeight=20),e._scrollHeight=e._containerHeight-e._scrollBarHeight,e._contentTop=e.$scrollView.scrollTop()},_scrollLayout:function(){var e=this;e._contentHeight>e._containerHeight&&e.$scrollBar.css({height:e._scrollBarHeight,top:Math.min(e._contentTop*e._scrollRate,e._scrollHeight)}).children("div.body").css("height",e._scrollBarHeight-6)},_toggleScrollbar:function(e){var t=this;t._contentHeight<t._containerHeight?t.$scrollBar.parent().hide():(t._scrollLayout(),t.$scrollBar.parent().toggle(e))},_move:function(e){var t=this;e=Math.max(0,Math.min(e,t._scrollHeight)),t.$scrollBar.css("top",e),t.$scrollView.scrollTop((t._contentHeight-t._containerHeight)*(e/t._scrollHeight))},_getY:function(e){return(e=n&&e.originalEvent.touches?e.originalEvent.touches[0]:e).pageY},update:function(){return this._configure(),this._scrollLayout(),this}});return m({name:"PersonalArea",$extend:e,$singleton:!0,defaults:{expand:!1,isSaveCookie:!0,wideWidth:1279,splitterLimit:100,narrowMinium:420,narrowMaxium:900,narrowBottom:100,wideMinium:420},initialize:function(e,t){var a=this;!1!==a.supr(e,t)&&(a._isLogon=a.$el.hasClass("logon"),a._isLogon&&(e=a.$el.find("div.logout"),a._$expnBox=s("#personal_expn"),a._$foldBox=s("#personal_fold"),e.length)&&a._$expnBox.length&&a._$foldBox.length?(a._$topView=s("#personal_news"),a._$splitter=s("#personal_splitbar"),a._$bottomView=s("#personal_friend"),a._$bottomNone=!0,a._$topBanner=!1,a._$bottomChk=a._$bottomView.find("div.list_wrap>ul>li"),a._$topBannerChk=a._$expnBox.prev().find(">a"),t=function(){s(this).addClass("hover")},e=function(){s(this).removeClass("hover")},a._$expnBox.find(".top_area button.btn_icon").hover(t,e),a._$foldBox.find(".id_logout > button.btn_icon").hover(t,e),a._$layouts=s("#conts_section, #footer, #header_wrap, #util_menu>div.top_right"),a._rateHeight=.6,a._expanHeight=-1,a._configure(),a._createSubControls(),a._bindExpandToggle(),a._bindResizable(),a._isExpand=!!a.options.expand,a._isAutoExpand=a.options.autoexpand,a._isExpand?(a._loadNews(),a._loadActiveFriends(),a._layout(),a.$el.removeClass("d_fold_off"),a.expand()):(a.$el.addClass("d_fold_off"),a.collapse())):a.destroy())},_bindExpandToggle:function(){var n=this;n.$el.on("click","button.d_expand, button.d_collapse",function(e){var t=s(this).hasClass("d_expand");n._isExpand=t,n.$el.triggerHandler("viewmodechanged",[t]),MelonPersonal.isVexpand&&(MelonPersonal.isVexpand=!1)}).on("viewmodechanged",function(e,t){var a;!t&&n._isUtilCtrl?(a=1488-n._winWidth,s("#util_menu .top_right").css("right",a/2+7)):s("#util_menu .top_right").css("right",0),n._isWideScreen&&t?n._$layouts.removeClass("my_fold").replaceClass("fold_on","fold_off"):n._$layouts.removeClass("my_fold").replaceClass("fold_off","fold_on"),s("#wrap").hasClass("event_gnb")||(n._$expnBox.attr("style","display: "+(t?"block":"none")+" !important;"),n._$foldBox.attr("style","display: "+(t?"none":"block")+" !important;")),t?(n.newsList.isScrollForceHide=!1,n._layout(),n.$el.removeClass("d_fold_off"),n._isLoadedNews||setTimeout(function(){n._loadNews()},0),n._isLoadActiveFriends||setTimeout(function(){n._loadActiveFriends()},0)):n.$el.addClass("d_fold_off"),MelonPersonal.isVexpand&&(n._isExpand=t=!0),n.options.isSaveCookie&&c.Cookie.set("personalexpand",t?"true":"false"),c.PubSub.trigger("personalmodechanged",[t])})},_createSubControls:function(){var i=this;i.newsList=new l(i._$topView),i.splitter=new o(i._$splitter,{container:i._$expnBox,containerOffset:function(){return{top:i._$topView.position().top+100+12,bottom:100}},clone:!1,on:{splittermovestart:function(e,t){i._expanHeight=i._$expnBox.height(),i.newsList.isScrollForceHide=!0},splittermoving:function(e,t,a){var n,r;i.splitter.options.clone||(n=i._$topView.position().top,r=i._expanHeight-n,t=t.position.top-n-12,i._rateHeight=t/r,i._$topView.css("height",t),i._$bottomView.css("height",r-t-5),i.newsList.isScrollForceHide=!1)},splittermoveend:function(e,t){var a=i._$topView.position().top,n=i._expanHeight-a,t=t.position.top-a-12;i._rateHeight=t/n,i._$topView.css("height",t),i._$bottomView.css("height",n-t-5),i.newsList.isScrollForceHide=!1}}})},expand:function(){this.$el.triggerHandler("viewmodechanged",[this._isExpand])},collapse:function(){"false"!=getCookie("personalexpand")&&(MelonPersonal.isVexpand=!0),this.$el.triggerHandler("viewmodechanged",[!1])},toggle:function(e){this._isExpand!=e&&this[e?"collapse":"expand"]()},_configure:function(){var e=this;e._winHeight=r.getWinHeight(),e._winWidth=r.getWinWidth(),e._isWideScreen=e._winWidth>e.options.wideWidth,e._isUtilCtrl=e._winWidth<1400&&e._isWideScreen},_bindResizable:function(){var r=this;t.on("resize.personalarea",(()=>{var a,n=-1;return c.util,function(){clearTimeout(a),a=null;var e=r._isWideScreen,t=r._winHeight;r._configure(),e!=r._isWideScreen?r._isWideScreen||!1===r._isAutoExpand?r._isWideScreen&&!1!==r._isAutoExpand&&(MelonPersonal.isVexpand=!1,r.expand()):r.collapse():t!==r._winHeight&&(10<Math.abs(n-r._winHeight)?(r._layout(),n=r._winHeight):a=setTimeout(function(){r._layout()},200))}})())},_getViewTop:function(){var e=this;return(!e._viewTopHeight||e._viewTopHeight<=0)&&(e._viewTopHeight=e._$topView.position().top),e._viewTopHeight},_layout:function(){var e,t,a,n=this,r=n.options;n._isExpand&&(e=n._getViewTop(),t=r.splitterLimit,a=n._isWideScreen?n._$expnBox.position().top+2:0,r=n._isWideScreen?Math.max(r.wideMinium,n._winHeight):Math.min(r.narrowMaxium,Math.max(r.narrowMinium,n._winHeight-r.narrowBottom)),n._expanHeight=r,e=Math.max(t,r-e-12-187),n._$expnBox.css("height",r),n._$bottomNone?(n._$splitter.hide(),n._$topView.css("height",e+169+12-a)):(n._$splitter.show(),n._$topView.css("height",e-(169<t?t-169:0)),n._$bottomView.css("height",Math.max(t,169))))},_loadNews:function(){var t=this;!t._isLoadedNews&&t.options.newsUrl&&(t._isLoadedNews=!0,s.ajax({url:t.options.newsUrl}).done(function(e){setTimeout(function(){t._$topView.find(">div.list_view").removeClass("load").find(">div.list_wrap>ul").html(e),s("#newReflash").length&&s("#newReflash").click(function(){t._isLoadedNews=!1,t._loadNews()})},25)}))},_loadActiveFriends:function(){var t=this;!t._isLoadActiveFriends&&t.options.activeFriendsUrl&&(t._isLoadActiveFriends=!0,s.ajax({url:t.options.activeFriendsUrl}).done(function(e){setTimeout(function(){t._$bottomView.find(">div.list_view").removeClass("load").find(">div.list_wrap>ul").html(e),t._$bottomChk=t._$bottomView.find("div.list_wrap>ul>li"),t._$bottomChk.length?t._$bottomNone=!1:(t._$bottomNone=!0,t._$bottomView.hide()),t._layout()},25)}))}})}),c.define("PBPGN.MoveTop",{init:function(e,a){var n,r,i,o,l=s(e);function t(){var e=d.scrollTop(),t=d.scrollLeft();e>a.startTop?(o.getDocHeight(),o.getWinHeight(),e=r.offset().left+i-a.rightMargin,r.height(),l.css({bottom:a.bottomMargin,left:e-t-33}),n||l.show(),n=!0):n&&(l.hide(),n=!1)}l.length&&!this._inited&&(n=!(this._inited=!0),r=s("#conts_section"),i=r.width(),o=c.util,a=s.extend({startTop:800,footerHeight:203,rightMargin:10,bottomMargin:10},a),l.css({position:"fixed",display:"none"}).on("click",function(e){e.preventDefault(),s("html, body").animate({scrollTop:0},{easing:"easeInOutQuart",duration:300})}),c.PubSub.on("personalmodechanged",function(e,t){d.triggerHandler("resize.movetop")}),t(),d.on("scroll.movetop resize.movetop",function(){t()}))}}),c.define("PBPGN.TimeLimitPopup",{init:function(e){var t;e.nowTime=c.date.parseDate(e.serverTime),(""===(t=c.date.parseDate(this._get_data(e)))||"day"===e.limitType&&1===c.date.compare(t,e.nowTime))&&i.trigger("limitpopup",[e.cookieId])},_get_data:function(e){var t,a;new Array;return"array"===e.cookieType?(a=c.Cookie.get("melonCookieArray").split("||"),-1===(t=MELON.WEBSVC.array.indexOf(a,e.cookieId))?"":a[t+1]):c.Cookie.get(e.cookieId)}}),c.define("PBPGN.TimeLimitSet",function(){var r=m({name:"TimeLimitSet",$extend:MELON.PBPGN.View,$statics:{ON_SETTING:"timelimitset"},defaults:{cookieType:"normal",timeType:"day",timeLocation:"local",selectEvent:"click"},selectors:{closebtn:">.d_limit_btn",checkbox:">input.d_limit_check"},initialize:function(e,t){var a=this;!1!==a.supr(e,t)&&a.on(a.options.selectEvent,a.options.selectors.closebtn,function(e){e.preventDefault(),a.$checkbox.length&&!a.$checkbox.is(":checked")||a._set_cookie()})},_set_cookie:function(){var t,a=this,n=new Date,e=a.$closebtn.attr("data-close-action");"local"===a.options.timeLocation?("dayafter"===a.options.timeType&&n.setDate(n.getDate()+1),a.options.setTime=MELON.WEBSVC.date.format(n,"yyyy:MM:dd")+" 23:59:59",a._set_data(),t="array"===a.options.cookieType?(n.setDate(n.getDate()+1e4),n):c.date.parseDate(a.options.setTime),c.Cookie.set(a.options.cookieId,a.options.setTime,{expires:t}),i.trigger(r.ON_SETTING)):s.ajax({url:"/wsg/script/time.html",dataType:"json",data:{timetype:a.options.timeType}}).done(function(e){a.options.setTime=e.data.nowday+" 23:59:59",a._set_data(),t="array"===a.options.cookieType?(n.setDate(n.getDate()+1e4),n):c.date.parseDate(a.options.setTime),c.Cookie.set(a.options.cookieId,a.options.setTime,{expires:t}),i.trigger(r.ON_SETTING)}),"fadeout"===e?s(a.el).fadeOut(function(){}):"slideup"===e?s(a.el).slideUp():s(a.el).hide().modal("hide"),s("#conts").removeClass("ban")},_set_data:function(){var e=this,t=e.$closebtn.attr("data-cookie-id"),a=0,n=[];"array"===e.options.cookieType?(e.options.cookieId="melonCookieArray",n=c.Cookie.get(e.options.cookieId).split("||"),-1===(a=MELON.WEBSVC.array.indexOf(n,t))?(n.push(t),n.push(e.options.setTime)):n[a+=1]=e.options.setTime,e.options.setTime=n.join("||")):e.options.cookieId=t}});return c.bindjQuery(r,"timeLimitSet"),r})})((window,jQuery),MELON.WEBSVC),((e,t,a)=>{t.$win,a.Placeholder.prototype.defaults.foreColor="fc_lgray",e(function(){t.GlobalEvents.init(),e("select.d_selectbox").selectbox()})})(jQuery,MELON.WEBSVC,MELON.PBPGN),window.addEventListener("message",accountAction,!1),!function(){var WEB_PLAYER_POPUP,WEB_PLAYER_CTRL,WEB_PLAYER_STATE=!1,WEB_PLAYER_LIST=[],WEB_PLAYER_CNT=0,melonPlayerPakage__=(MELON.WEBSVC.POC={popupErrorMsg:"\n※ MSN,야후,구글 팝업 차단 툴바가 설치된 경우 팝업허용을 해주셔야만 팝업창이보입니다.\n※ 윈도우 XP SP2 사용자일 경우에는 브라우저 상단의 노란색[알림표시줄]에 있는 팝업 차단 알림줄을 클릭하여 팝업을 허용해 주시기 바랍니다.\n",melonDomain:"melon.com",httpMelonWww:DeployPhaseUtils.convertUrl("http://www.melon.com"),httpMelonLive:DeployPhaseUtils.convertUrl("http://live.melon.com"),httpMelonVod:DeployPhaseUtils.convertUrl("http://vod.melon.com"),setPocId:function(){$.ajaxSetup({async:!1}),$.getJSON("/common/ajax/useragent_info.json",function(e){setCookie("TKT_POC_ID",e.pocId,0,"/",MELON.WEBSVC.POC.melonDomain)}),$.ajaxSetup({async:!0})},getPocId:function(){return getCookie("TKT_POC_ID")},isTablet:function(){var e=navigator.userAgent,t=!1;return t=0<e.indexOf("Android")&&-1==e.indexOf("Mobile")||0<e.indexOf("iPad")?!0:t},tabletGuidePop:function(){window.open(DeployPhaseUtils.convertUrl("http://www.melon.com/error_page/error_tabletTypeB.html"),"tabletPopTypeB","scrollbars=no, resizable=no, location=no, width=560, height=273")},play:{playSong:function(e,t,a){if(MELON.WEBSVC.POC.isTablet())MELON.WEBSVC.POC.tabletGuidePop();else if(null==t||""==t)alert("대표곡 정보를 준비중입니다.");else if(0<navigator.userAgent.indexOf("Mac"))alert("맥 OS는 지원하지 않습니다.");else{void 0===a&&(a=1);var n=new Array,r=new Array;if(t instanceof Array)for(var i=t,o=0;o<i.length;o++)""!=i[o]&&(n[o]=a,r[o]=i[o]);else n[0]=a,r[0]=t;player.ocxPlay(e,n,r)}},playHighMv:function(e,t,a){var n,r;null==t||""==t?alert("occur error."):0<navigator.userAgent.indexOf("Mac")?alert("맥에서는 고화질 플레이어 준비중~"):(void 0===a&&(a=21),isMelonLogin()?(n=new Array,r=new Array,n[0]=a,r[0]=t,player.ocxPlay(e,n,r)):MELON.WEBSVC.POC.login.loginPopupLayerd(""))},playFormSong:function(e,t,a){var n;MELON.WEBSVC.POC.isTablet()?MELON.WEBSVC.POC.tabletGuidePop():(n=new Array,void 0===a&&(a="input_check"),$("#"+t).find("input[name='"+a+"']:checked").each(function(){isNaN(this.value)||n.push($(this).val())}),0==n.length?alert("곡을 선택해 주세요."):MELON.WEBSVC.POC.play.playSong(e,n))},playAlbum:function(e,t){MELON.WEBSVC.POC.isTablet()?MELON.WEBSVC.POC.tabletGuidePop():0<navigator.userAgent.indexOf("Mac")?alert("맥 OS는 지원하지 않습니다."):isMelonLogin()?(itemFlagArray=new Array,itemIdArray=new Array,itemFlagArray[0]=2,itemIdArray[0]=t,player.ocxPlay(e,itemFlagArray,itemIdArray)):melon.login.loginPopup(1)},playPlayList:function(e,t,a,n){if(MELON.WEBSVC.POC.isTablet())MELON.WEBSVC.POC.tabletGuidePop();else{var r,i=0<navigator.userAgent.indexOf("Mac");if(void 0===n&&(n=""==getMemberKey()?0:getMemberKey()),i)alert("맥 OS는 지원하지 않습니다.");else if(isMelonLogin()){switch(a){case"dj":r=6;break;case"server":r=23;break;case"artist":r=26;break;default:r=6}itemFlagArray=new Array,itemIdArray=new Array,itemFlagArray[0]=r,itemIdArray[0]=t,player.ocxPlay(e,itemFlagArray,itemIdArray,n)}else melon.login.loginPopup(1)}},playFormStudy:function(e,t,a){var n;MELON.WEBSVC.POC.isTablet()?MELON.WEBSVC.POC.tabletGuidePop():(n=new Array,void 0===a&&(a="input_check"),$("#"+t).find("input[name="+a+"]:checked").each(function(){isNaN(this.value)||n.push($(this).val())}),0==n.length?alert("강의를 선택해 주세요."):isMelonLogin()?MELON.WEBSVC.POC.play.playSong(e,n,4):alert("어학 컨텐츠는 1분 미리듣기가 제공되지 않습니다.\n              로그인 후 이용해 주세요"))},playStudy:function(e,t){MELON.WEBSVC.POC.isTablet()?MELON.WEBSVC.POC.tabletGuidePop():isMelonLogin()?MELON.WEBSVC.POC.play.playSong(e,t,4):alert("어학 컨텐츠는 1분 미리듣기가 제공되지 않습니다.\n              로그인 후 이용해 주세요")},playMv:function(e,t){alert("준비중 재생ID : "+t)},goWebplyer:function(e,t,a){WEB_PLAYER_STATE||(4==(a=void 0===a||a.length<1||null==a||1==a?"S":a)&&(a="E"),MELON.WEBSVC.POC.play.webPlayerInit(e,t,a))},webPlayerInit:function(a,e,n){WEB_PLAYER_LIST=[],"number"==typeof e||"string"==typeof e?WEB_PLAYER_LIST[0]=[e,"|^",a,"|^",n].join(""):$.each(e,function(e,t){WEB_PLAYER_LIST[e]=[t,"|^",a,"|^",n].join("")});var t,r,e=navigator.userAgent;1==_FLASH_INSTALLED||"true"==_FLASH_INSTALLED?(WEB_PLAYER_CTRL=$("#mpCtrl")[0])&&0!=WEB_PLAYER_CTRL.length?MELON.WEBSVC.POC.play.webPlayerCtrlInit():(t=!1,r="",e=((t=-1<e.indexOf("rv:11.0")||-1<e.indexOf("MSIE")?!0:t)?(r="?init=MELON.WEBSVC.POC.play.webPlayerCtrlInit&browserName="+getBrowserName(),['<object id="mpCtrl" height="1" width="1" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"  type="application/x-shockwave-flash">','<param name="movie" value="'+DeployPhaseUtils.convertUrl("http://www.melon.com/resource/script/player/melonCtrl.swf")+r+'">','<param name="wmode" value="opaque"/>','<param name="allowScriptAccess" value="always" />','<param name="allowFullScreen" value="true" />','<param name="allowNetworking" value="all" />',"</object>"]):-1<e.indexOf("Firefox")?['<object id="mpCtrl" height="1" width="1" data="'+DeployPhaseUtils.convertUrl("http://www.melon.com/resource/script/player/melonCtrl.swf")+r+'" type="application/x-shockwave-flash">','<param name="wmode" value="window"/>','<param name="allowScriptAccess" value="always" />','<param name="allowFullScreen" value="true" />','<param name="allowNetworking" value="all" />',"</object>"]:['<object id="mpCtrl" height="1" width="1" type="application/x-shockwave-flash">','<param name="movie" value="'+DeployPhaseUtils.convertUrl("http://www.melon.com/resource/script/player/melonCtrl.swf")+r+'">','<param name="wmode" value="window"/>','<param name="allowScriptAccess" value="always" />','<param name="allowFullScreen" value="true" />','<param name="allowNetworking" value="all" />',"</object>"]).join(""),$("body").append("<div id='mpController' style='width:1px; height:1px;'></div>"),$("#mpController").html(e),t||((r={init:"MELON.WEBSVC.POC.play.webPlayerCtrlInit"}).browserName=getBrowserName(),setTimeout(MELON.WEBSVC.POC.play.webPlayerCtrlParam,200,r))):webPlayerFlashAlert()},webPlayerCtrlParam:function(e){var t=document.getElementById("mpCtrl");t&&t.setParam?(WEB_PLAYER_CNT=0,t.setParam(e)):5<WEB_PLAYER_CNT?(WEB_PLAYER_CNT=0,alert("웹플레이어 구동 중 에러가 발생했습니다.")):(WEB_PLAYER_CNT++,setTimeout(MELON.WEBSVC.POC.play.webPlayerCtrlParam,200,e))},webPlayerCtrlInit:function(){try{(WEB_PLAYER_CTRL=document.getElementById("mpCtrl")).setList({list:WEB_PLAYER_LIST}),WEB_PLAYER_CTRL.playerCheck("MELON.WEBSVC.POC.play.webPlayerLoad")}catch(e){alert("웹플레이어 구동 중 에러가 발생했습니다.")}},webPlayerLoad:function(e){if(WEB_PLAYER_STATE=!1,!e){var e=DeployPhaseUtils.convertUrl("http://www.melon.com/webplayer/index.htm"),t="width=730,height=525,scrollbars=yes,resizable=0,left="+parseInt((window.screen.width-730)/2)+",top="+parseInt((window.screen.height-525)/2)+",directories=no,status=no,menubar=no",a=navigator.userAgent;if(0<a.indexOf("MSIE 6")||0<a.indexOf("MSIE 7")||0<a.indexOf("MSIE 8")||0<a.indexOf("Edge")){WEB_PLAYER_POPUP=window.open("","WEB_PLAYER_POPUP",t);var n=document.createElement("FORM");n.action=e,n.method="get",n.target="WEB_PLAYER_POPUP",document.body.appendChild(n),n.submit()}else if(0<a.indexOf("Safari")&&0<a.indexOf("Mac"))WEB_PLAYER_POPUP=window.open(e,"WEB_PLAYER_POPUP",t);else{WEB_PLAYER_POPUP=window.open("","WEB_PLAYER_POPUP",t);try{WEB_PLAYER_POPUP.location.href=e}catch(e){}}WEB_PLAYER_POPUP||alert("차단된 팝업창을 허용해 주세요.")}window.focus&&setTimeout(function(){try{WEB_PLAYER_POPUP.focus()}catch(e){}},1e3)},goWebplyerByAlbum:function(e,t){MELON.WEBSVC.POC.play.goWebplyer(e,t,"A")},goWebplyerByPlayList:function(e,t){MELON.WEBSVC.POC.play.goWebplyer(e,t,"P")},playSmartRadio:function(e,t){MELON.WEBSVC.POC.isTablet()?MELON.WEBSVC.POC.tabletGuidePop():0<navigator.userAgent.indexOf("Mac")?alert("맥 OS는 지원하지 않습니다."):player.melonplayerPlay(e,"smart","",t)},goWeplyerSmartRadio:function(e){if(null!=e&&""!=e){var t="width=352,height=525,left="+parseInt((window.screen.width-352)/2)+",top="+parseInt((window.screen.height-525)/2)+",directories=no,status=no,menubar=no",a=(e=e.replace(//gi,"^"),navigator.userAgent);if(0<a.indexOf("MSIE 6")||0<a.indexOf("MSIE 7")||0<a.indexOf("MSIE 8")){WEB_PLAYER_POPUP=window.open("","WEB_PLAYER_POPUP",t);var n=document.createElement("FORM"),r=DeployPhaseUtils.convertUrl("http://www.melon.com/webplayer/smartRadio.htm?playOpt=")+e,i=(n.action=r,n.method="get",n.target="WEB_PLAYER_POPUP",r.indexOf("?"));if(0<=i)for(var o=r.substring(i+1).split("&"),l=0;l<o.length;l++){var s=o[l].split("="),c=document.createElement("INPUT");c.type="hidden",c.name=s[0],c.value=s[1],n.appendChild(c)}document.body.appendChild(n),n.submit()}else 0<a.indexOf("Safari")&&0<a.indexOf("Mac")?WEB_PLAYER_POPUP=window.open(DeployPhaseUtils.convertUrl("http://www.melon.com/webplayer/smartRadio.htm?playOpt=")+e,"WEB_PLAYER_POPUP",t):(WEB_PLAYER_POPUP=window.open("","WEB_PLAYER_POPUP",t)).location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/webplayer/smartRadio.htm?playOpt=")+e;WEB_PLAYER_POPUP?window.focus&&setTimeout(function(){try{WEB_PLAYER_POPUP.focus()}catch(e){}},1e3):alert("차단된 팝업창을 허용해 주세요.")}else alert("곡을 선택해 주세요.")},addPlayList:function(e){MELON.WEBSVC.POC.login.isMelonLogin()?""==e||null==e?alert("곡을 선택해 주세요."):MELON.WEBSVC.openPopup("/mymusic/common/popup/mymusiccommon_addPlaylistPopUp.htm?songIds="+e,560,730,{target:"addPlayList",scrollbars:"no"},"center"):MELON.WEBSVC.POC.login.loginPopupLayerd("")},addFormPlayList:function(e){var t,a;MELON.WEBSVC.POC.login.isMelonLogin()?(t=new Array,$("#"+e).find(".input_check:checked").each(function(){isNaN($(this).val())||t.push($(this).val())}),""==t||0==(a=$("#"+e).find("input:checkbox[name=input_check]:checked").length)?alert("곡을 선택해 주세요."):500<a?alert("최대 500곡까지 담을 수 있습니다.\n곡 수를 확인하시고 다시 선택해주세요."):(a="addPlayList",MELON.WEBSVC.openPopup("",560,730,{target:a,scrollbars:"no"},"center",a),$("#"+e).attr("target",a),$("#"+e).attr("action","/mymusic/common/popup/mymusiccommon_addPlaylistPopUp.htm"),$("#"+e).attr("method","post"),$("#"+e).submit())):MELON.WEBSVC.POC.login.loginPopupLayerd("")},ocxPlay:function(e,t,a){player.ocxPlay(e,t,a)},melonplayerActualPlay:function(e){player.melonplayerActualPlay(e)},melonplayerActualPlaySocket:function(e,t,a){player.melonplayerActualPlaySocket(e,t,a)},melon_ocx_message:function(e){return player.melon_ocx_message(e)},getMelonPlayerObject:function(){return melonPlayerFunc.getMelonPlayerObject()},browser:function(){return melonPlayerFunc.browser()},chkMelonPlayerObject:function(){return melonPlayerFunc.chkMelonPlayerObject()},melonplayerPlay:function(e,t,a,n){player.melonplayerPlay(e,t,a,n)}},link:{goSongDetail:function(e){void 0!==e&&(location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/song/detail.htm?songId=")+e)},goAlbumDetail:function(e){void 0!==e&&(location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/album/detail.htm?albumId=")+e)},goMvDetail:function(e,t,a,n){var r;void 0!==t&&(r=MELON.WEBSVC.POC.httpMelonVod,void 0!==n&&"MV0007"==n&&(r=MELON.WEBSVC.POC.httpMelonLive),$("<form></form>"),$('<input type="hidden" name="menuId" value="'+e+'"/>'),r=r+("song"==a?"/video/detail.htm?songId="+t:"/video/detail.htm?mvId="+t)+"&menuId="+e,location.href=r)},goArtistDetail:function(e,t){if(void 0!==e)switch(null!=t?t.toString():null){case"1":location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artist/timeline.htm?artistId=")+e;break;case"2":location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artist/detail.htm?artistId=")+e;break;case"3":location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artist/song.htm?artistId=")+e;break;case"4":location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artist/album.htm?artistId=")+e;break;case"5":location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artist/video.htm?artistId=")+e;break;case"6":location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artist/photo.htm?artistId=")+e;break;case"7":location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artist/recmlist.htm?artistId=")+e;break;case"8":location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artist/concert.htm?artistId=")+e;break;case"9":location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artist/product.htm?artistId=")+e;break;case"10":location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artist/fan.htm?artistId=")+e;break;case"11":location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artist/review.htm?artistId=")+e;break;case"12":location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artist/shop.htm?artistId=")+e;break;default:location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artist/timeline.htm?artistId=")+e}},goProgramDetail:function(e,t){void 0!==e&&void 0!==t&&(location.href="2"==e?DeployPhaseUtils.convertUrl("http://www.melon.com/tv/mv/index.htm"):DeployPhaseUtils.convertUrl("http://www.melon.com/tv/menu/index.htm?menuSeq=")+e+"&progSeq="+t)},goThemaDetail:function(e){void 0!==e&&(location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/tv/thema/inform.htm?progSeq=")+e)},goMyMusic:function(e){void 0===e||e<1?(alert("정상적인 접근이 아닙니다."),location.href=DeployPhaseUtils.convertUrl("http://www.melon.com")):location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/main/mymusicmainother_list.htm?memberKey=")+e},goPerfDetail:function(e,t){void 0!==e&&void 0!==t&&(location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artist/concertDetail.htm?artistId=")+e+"&perfId="+t)},goMessage:function(){location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/messagepresent/mymusicmessage_list.htm")},goReturnMessage:function(r,i){var o;void 0===r||r<1?(alert("정상적인 접근이 아닙니다."),window.location=DeployPhaseUtils.convertUrl("http://www.melon.com")):MELON.WEBSVC.POC.login.isMelonLogin()?(o=navigator.userAgent.toLocaleLowerCase(),$.get(DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/friend/mymusicfriend_listFriendMemberStatus.json"),{memberkey:r},function(e){}).done(function(e){if("0"!=e.MEMBERSTATUS)alert("탈퇴한 회원입니다.");else{params={targetMemK:r,targetMemN:e.MEMBERNICKNAME,reMessage:"Y",menuId:i},method="POST";var t,a=document.createElement("form");for(t in a.setAttribute("method",method),a.setAttribute("action",DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/messagepresent/popup/mymusicmessage_insertForm.htm")),params){var n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",t),n.setAttribute("value",params[t]),a.appendChild(n)}document.body.appendChild(a),-1<o.indexOf("safari")||-1<o.indexOf("IS40")?MELON.WEBSVC.openPopup("",730,750,{target:"pop",scrollbars:"no"},"center","pop"):MELON.WEBSVC.openPopup("",730,738,{target:"pop",scrollbars:"no"},"center","pop"),a.setAttribute("target","pop"),a.submit()}})):MELON.WEBSVC.POC.login.loginPopupLayerd("")},goPresentSong:function(){location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/messagepresent/mymusicpresent_list.htm")},goTotalSearch:function(e,t,a,n,r){var i;void 0!==e&&(void 0!==t&&""!=t||(t="total"),void 0===n&&(n=""),void 0!==r&&""!=r||(r="srch_form"),null==(i=getCookie("MPS"))||i.indexOf("MELONPLAYER")<0||(r="srch_app"),i=$("#"+a),a=$('<input type="hidden" name="ipath" value="'+r+'"/>'),r="",r=DeployPhaseUtils.convertUrl("http://www.melon.com/search/")+t+"/index.htm",i.action=r,i.attr("action",r),i.attr("method","get"),i.find("[name=q]").val(e),i.find("[name=section]").val(n),a.appendTo(i),i.submit())},goJoin:function(){location.href=DeployPhaseUtils.convertUrl("https://member.melon.com/muid/family/ticket/join/web/stipulationagreement_inform.htm?cpId=")+melon.getPocId()},goIdSearch:function(){location.href=DeployPhaseUtils.convertUrl("https://www.melon.com/muid/web/search/idsearch_inform.htm")},goTerms:function(e,t){var a="";switch(e){case"use":a=DeployPhaseUtils.convertUrl("http://info.melon.com/terms/web/terms1_1.html");break;case"player":a=DeployPhaseUtils.convertUrl("http://info.melon.com/terms/web/terms2.html");break;case"privateinfo":a=DeployPhaseUtils.convertUrl("http://info.melon.com/terms/web/terms3.html");break;case"youth":a=DeployPhaseUtils.convertUrl("http://info.melon.com/terms/web/terms5_1.html");break;default:a=DeployPhaseUtils.convertUrl("http://info.melon.com/terms/web/terms1_4.html")}void 0===t?location.href=a:window.open(a,e)},goDjPlaylistDetail:function(e,t,a,n){"N"==t?alert("비공개된 컨텐츠 입니다."):"Y"==a?alert("삭제된 컨텐츠 입니다."):location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/dj/mymusicdjplaylistview_inform.htm?plylstSeq=")+n},goDjCollectionWithoutStatus:function(e){void 0!==e&&(location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/dj/mymusicdjplaylistview_inform.htm?plylstSeq=")+e)},goPlaylistWithoutStatus:function(e){void 0!==e&&(location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/playlist/mymusicplaylistview_inform.htm?plylstSeq=")+e)},goArtistPlaylistDetail:function(e){void 0!==e&&(location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artist/playlistDetail.htm?plylstSeq=")+e)},goMstoryCategory:function(e){void 0!==e&&(location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/musicstory/index.htm?mstoryCateSeq=")+e)},goStoreMelonDetail:function(e,t){void 0!==e&&void 0!==t&&window.open(DeployPhaseUtils.convertUrl("http://store.melon.com/api/gate.htm?type=")+e+"&param="+t+"&pocId="+MELON.WEBSVC.POC.getPocId(),e)},goPopupWithPageUrl:function(e,t){void 0!==e&&void 0!==t&&window.open(e,t)},goContentsDetail:function(e,t,a){switch(e){case"N10001":MELON.WEBSVC.POC.link.goSongDetail(t);break;case"N10002":MELON.WEBSVC.POC.link.goAlbumDetail(t);break;case"N10003":MELON.WEBSVC.POC.link.goMvDetail(a,t);break;case"N10004":MELON.WEBSVC.POC.link.goArtistDetail(t);break;case"N10005":MELON.WEBSVC.POC.link.goPlaylistWithoutStatus(t);break;case"N10006":MELON.WEBSVC.POC.link.goArtistDetail(t);break;case"N10007":MELON.WEBSVC.POC.link.goMstoryDetail(t);break;case"N10009":case"N10010":MELON.WEBSVC.POC.link.goDjCollectionWithoutStatus(t);break;case"N10016":MELON.WEBSVC.POC.link.goArtistPlaylistDetail(t);break;case"DJMGZ":location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/dj/magazine/djmagazinedetail_listEpsd.htm?magaznSeq=")+t;break;case"MSTRY":MELON.WEBSVC.POC.link.goMstoryCategory(t);break;case"STRPD":MELON.WEBSVC.POC.link.goStoreMelonDetail("product",t);break;case"STRAT":MELON.WEBSVC.POC.link.goStoreMelonDetail("artist",t);break;default:MELON.WEBSVC.POC.link.goAlbumDetail(t)}},goClassicPeriodArtist:function(e,t){void 0!==e&&(location.href=void 0===t?DeployPhaseUtils.convertUrl("http://www.melon.com/genre/classicPeriodArtist_list.htm?classicMenuId=")+e:DeployPhaseUtils.convertUrl("http://www.melon.com/genre/classicPeriodArtist_list.htm?classicMenuId=")+e+"&periodCode="+t)},goClassicArtist:function(e){void 0!==e&&(location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/genre/classicArtist_list.htm?classicMenuId=")+e)},goClassicArtistAlbum:function(e,t){void 0!==e&&(location.href=void 0===t?DeployPhaseUtils.convertUrl("http://www.melon.com/genre/classicArtistAlbum_list.htm?artistId=")+e:DeployPhaseUtils.convertUrl("http://www.melon.com/genre/classicArtistAlbum_list.htm?artistId=")+e+"&periodCode="+t)},goClassicAlbumChart:function(e){void 0!==e&&(location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/genre/classicAlbumChart_list.htm?classicMenuId=")+e)},goClassicMasterpiece:function(e){void 0!==e&&(location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/genre/classicMasterpiece_list.htm?classicMenuId=")+e)},goGenreAlbum:function(e,t){void 0!==e&&(location.href=void 0===t?DeployPhaseUtils.convertUrl("http://www.melon.com/genre/album_list.htm?classicMenuId=")+e:DeployPhaseUtils.convertUrl("http://www.melon.com/genre/album_list.htm?classicMenuId=")+e+"&subMenuId="+t)},goGenreSong:function(e,t){void 0!==e&&(location.href=void 0===t?DeployPhaseUtils.convertUrl("http://www.melon.com/genre/song_list.htm?classicMenuId=")+e:DeployPhaseUtils.convertUrl("http://www.melon.com/genre/song_list.htm?classicMenuId=")+e+"&subMenuId="+t)},goGenreSongChart:function(e){void 0!==e&&(location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/genre/songChart_list.htm?classicMenuId=")+e)},goGenreThemaChild:function(e,t){void 0!==e&&(location.href=void 0===t?DeployPhaseUtils.convertUrl("http://www.melon.com/genre/song_list.htm?classCd=")+e:DeployPhaseUtils.convertUrl("http://www.melon.com/genre/song_list.htm?classCd=")+e+"&genreCd="+t)},goMyCupon:function(){location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/commerce/mypage/coupon/web/couponbox_couponBoxView.htm")},goMelonCash:function(){location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/commerce/mypage/cash/web/meloncash_listChargedSpentView.htm")},goAnswer:function(e){void 0!==e&&(location.href=DeployPhaseUtils.convertUrl("http://faqs2.melon.com/customer/faq/informFaq.htm?faqId=")+e)},goMultiMessagePop:function(e,t,a){var n=0;"song"==e||"album"==e||"artist"==e?n=456:"mv"==e?n=460:"plylst"==e||"djcol"==e||"artistplylst"==e?n=466:"photo"==e&&(n=546),MELON.WEBSVC.POC.login.isMelonLogin()?MELON.WEBSVC.openPopup(DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/messagepresent/popup/mymusicmessage_insertMultiForm.htm?contsType=")+e+"&menuId="+a+"&contsId="+t,730,n,{scrollbars:"no"},"center","multipop"):MELON.WEBSVC.POC.login.loginPopupLayerd("")},goAztalk:function(){location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artistplus/aztalk/index.htm")},goMultiMessageNew:function(e,t,a){if(void 0!==t){var n=MELON.WEBSVC.POC.httpMelonVod;switch(void 0!==a&&"MV0007"==a&&(n=MELON.WEBSVC.POC.httpMelonLive),e){case"song":window.open(DeployPhaseUtils.convertUrl("http://www.melon.com/song/detail.htm?songId=")+t);break;case"album":window.open(DeployPhaseUtils.convertUrl("http://www.melon.com/album/detail.htm?albumId=")+t);break;case"artist":window.open(DeployPhaseUtils.convertUrl("http://www.melon.com/artist/timeline.htm?artistId=")+t);break;case"mv":window.open(n+"/video/detail.htm?mvId="+t);break;case"artistplylst":window.open(DeployPhaseUtils.convertUrl("http://www.melon.com/artist/playlistDetail.htm?plylstSeq=")+t);break;case"photo":window.open(DeployPhaseUtils.convertUrl("http://www.melon.com/artist/photo.htm?artistId=")+t);break;default:window.open(DeployPhaseUtils.convertUrl("http://www.melon.com/song/detail.htm?songId=")+t)}}},goComingsoon:function(){location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/new/comingsoon/index.htm")},goSearchLog:function(e,t,a,n,r,i){var o=new Array,e=($("#"+i).find("input[name='input_check']:checked").each(function(){isNaN(this.value)||o.push($(this).val())}),""==r&&(r=o),i=(i=(i="c_w="+e)+("&c_coll="+t)+("&c_cpath="+a))+("&c_srchwd="+encodeURIComponent(encodeURIComponent(n)))+("&c_docid="+r),DeployPhaseUtils.convertUrl("http://www.melon.com/searchlog/writer.json?")+i);$.ajax({url:e,jsonpCallback:"callBackResponse",dataType:"jsonp",type:"POST",contentType:"application/json; charset=UTF-8",scriptCharset:"UTF-8",cache:!1,jsonp:"jscallback"})},goDjtoday:function(){location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/dj/today/djtoday_list.htm")},goMyMusicManySong:function(e){location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/top/mymusictopmanysong_list.htm?memberKey=")+getMemberKey()+"&searchDate="+e},goPhotoDetail:function(e,t){location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artist/photo.htm?artistId=")+e+"&photoId="+t},goPhotoBtmDetail:function(e,t,a){void 0===a&&(a=""),location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/artist/photo_detail.htm?artistId=")+e+"&photoId="+t+"&orderBy="+a},goMstoryDetail:function(e,t,a,n){void 0!==e&&(e=MELON.WEBSVC.POC.httpMelonWww+"/musicstory/inform.htm?mstorySeq="+e,void 0!==a&&(e+="&startIndex="+a),void 0!==n&&(e+="&musicToday="+n),void 0===t?e+="&expose=true":$(t).hasClass("on")||(e+="&expose=false"),location.href=e)},goMstoryCateDetail:function(e,t,a){void 0!==e&&(e=MELON.WEBSVC.POC.httpMelonWww+"/musicstory/index.htm?mstoryCateSeq="+e,void 0!==a&&(e+="&pageIndex="+a),void 0===t?e+="&expose=true":$(t).hasClass("on")||(e+="&expose=false"),location.href=e)},goEntNewsDetail:function(e,t,a,n){void 0!==e&&(e=MELON.WEBSVC.POC.httpMelonWww+"/musicstory/entnews/inform.htm?entnewsSeq="+e,void 0!==a&&(e+="&startIndex="+a),void 0!==n&&(e+="&searchWord="+n),void 0===t?e+="&expose=true":$(t).hasClass("on")||(e+="&expose=false"),location.href=e)},goEntNewsList:function(e,t,a){var n=MELON.WEBSVC.POC.httpMelonWww+"/musicstory/entnews/index.htm";n+=void 0!==t?"?pageIndex="+t:"?pageIndex=1",void 0!==a&&(n+="&searchWord="+a),void 0===e?n+="&expose=true":$(e).hasClass("on")||(n+="&expose=false"),location.href=n},goArtistShop:function(e,t){void 0!==e&&(e=DeployPhaseUtils.convertUrl("http://store.melon.com/api/gate.htm?type=artist&param=")+e+"&pocId="+MELON.WEBSVC.POC.getPocId()+"&menuId="+t,window.open(e,"_blank"))},goMelonShopDetail:function(e,t){if(void 0!==e)if("N"==(t=void 0===t?"Y":t))if(isMelonLogin())switch(getMemberAuthFlg()){case"1":window.open(e,"_blank");break;case"0":case"2":confirm("이 정보내용은 청소년 유해매체물로서 「정보통신이용촉진 및 정보보호 등에 관한 법률」 및 「청소년 보호법」에  따라 19세 미만의 청소년이 이용할 수 없습니다.\n성인인증 후 이용해주세요.")&&niceAuthPop("nineteen","Y","","",!0,"01");break;default:alert("이 정보내용은 청소년유해매체물로서 「정보통신망 이용촉진 및 정보보호 등에 관한 법률」 및 「청소년 보호법」 에 따라 19세 미만의 청소년이 이용할 수 없습니다")}else alert("이 정보내용은 청소년유해매체물로서 「정보통신망 이용촉진 및 정보보호 등에 관한 법률」 및 「청소년 보호법」 에 따라 19세 미만의 청소년이 이용할 수 없습니다.\n확인을 위해 먼저 로그인 하세요."),MELON.WEBSVC.POC.login.loginPopupLayerd("");else window.open(e,"_blank")}},buy:{goBuyProduct:function(e,t,a,n,r,i,o){MELON.WEBSVC.POC.isTablet()?MELON.WEBSVC.POC.tabletGuidePop():isMelonLogin()?MELON.WEBSVC.CM.CONT.goBuyProduct(e,t,a,n,r,i,o):MELON.WEBSVC.POC.login.loginCheckFuncCall()},goBuyProductByPlylst:function(e,i){MELON.WEBSVC.POC.isTablet()?MELON.WEBSVC.POC.tabletGuidePop():isMelonLogin()?$.ajax({type:"POST",url:"/mymusic/common/mymusiccommon_listPlaylistSongIds.json",data:{plylstSeq:e},dataType:"json",async:!1,success:function(e){var t=e.songIds;if(null!=document.plylstSongList&&document.body.removeChild(document.plylstSongList),null!=e.songIds&&0<t.length){var a="";if(MELON.WEBSVC.browser.isIE&&MELON.WEBSVC.browser.version<8)for(var n in a=document.createElement("<form name='plylstSongList' style='display:none;'>"),t){var r=document.createElement("<input type='checkbox' name='song_id_chk' checked='checked' style='display:none;' value='"+t[n]+"'>");a.appendChild(r)}else for(var n in(a=document.createElement("form")).setAttribute("name","plylstSongList"),a.setAttribute("style","display:none"),t)(r=document.createElement("input")).setAttribute("type","checkbox"),r.setAttribute("name","song_id_chk"),r.setAttribute("checked",!0),r.setAttribute("value",t[n]),r.setAttribute("style","display:none"),a.appendChild(r);document.body.appendChild(a),MELON.WEBSVC.CM.CONT.goBuyProduct("plylstSongList","","3C0001","song_id_chk","0",i,"")}else alert("다운로드 가능한 곡이 없습니다.")}}):MELON.WEBSVC.POC.login.loginCheckFuncCall()},goPresentOnlyOne:function(e,t,a){MELON.WEBSVC.POC.login.isMelonLogin()?confirm("해당 곡을 선물 하시겠습니까?")&&(location.href="/mymusic/messagepresent/mymusicpresent_insert.htm?songIds="+t+"&menuId="+a):MELON.WEBSVC.POC.login.loginPopupLayerd("")},goPresentForAlbum:function(e,t,a){if(MELON.WEBSVC.POC.login.isMelonLogin())if(""==e)alert("앨범을 선택해 주세요.");else{var n=new Array;if(null!=t&&""!=t?$("#"+t).find(".input_check").each(function(){isNaN($(this).val())||n.push($(this).val())}):$.ajax({type:"POST",url:"/album/listAlbumSong.json",data:{albumId:e},dataType:"json",async:!1,success:function(e){for(var t in e.songList)n.push(e.songList[t].SONGID)}}),""==n)alert("선물 가능한 수록곡이 없습니다.");else if(""==a)alert("메뉴아이디가 존재하지 않습니다.");else if(confirm("앨범을 선물 하시겠습니까?"))if(50<n.length)alert("한 번에 최대 50곡까지만 선물 가능합니다.");else{params={songIds:n.join(),menuId:a},method="POST";var r,i=document.createElement("form");for(r in i.setAttribute("method",method),i.setAttribute("action","/mymusic/messagepresent/mymusicpresent_insert.htm"),params){var o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",r),o.setAttribute("value",params[r]),i.appendChild(o)}document.body.appendChild(i),i.submit()}}else MELON.WEBSVC.POC.login.loginPopupLayerd("")},goPresent:function(e,t,a){if(MELON.WEBSVC.POC.login.isMelonLogin()){var n="",r=0;if("song"!=e)alert("추후 적용될 예정입니다.");else{var n="곡을",i=new Array;if($("#"+t).find(".input_check:checked").each(function(){isNaN($(this).val())||(i.push($(this).val()),r++)}),""==i)alert(n+" 선택해 주세요.");else if(""==a)alert("메뉴아이디가 존재하지 않습니다.");else if(confirm(r+"개의 "+n+" 선물 하시겠습니까?"))if(50<i.length)alert("한 번에 최대 50곡까지만 선물 가능합니다.");else{params={songIds:i.join(),menuId:a},method="POST";var o,l=document.createElement("form");for(o in l.setAttribute("method",method),l.setAttribute("action","/mymusic/messagepresent/mymusicpresent_insert.htm"),params){var s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name",o),s.setAttribute("value",params[o]),l.appendChild(s)}document.body.appendChild(l),l.submit()}}}else MELON.WEBSVC.POC.login.loginPopupLayerd("")},popPhoneDecorate:function(e,t){isMelonLogin()?0==t||void 0===t||""==t?alert("곡아이디가 없습니다."):(t=DeployPhaseUtils.convertUrl("http://decop.melon.com/3.0/player/decop_player.jsp?p_tumsFlg=")+e+"&p_songId="+t+"&truepage=http://decop.melon.com/3.0/gnb2/popupBox/phone_deco_p.jsp%3Fp_songId="+t+"%26p_tumsFlg="+e,(show=window.open(t,"phone","height=330,width=452,scrollbars=yes")).focus()):melon.login.loginPopup(1)}},login:{loginCheckFuncCall:function(methodName){var iFuncName=0,iParamStart=1,isLogin=isMelonLogin();if(isLogin){for(var param="",cmd="",i=iParamStart;i<arguments.length;i++)param+="arguments["+i+"]",i+1<arguments.length&&(param+=",");cmd=arguments[iFuncName]+"("+param+")",eval(cmd)}else melon.login.loginPopup(1)},loginPopup:function(e){var t="",a="";e?"1"==e?(window.name="_OPENER_LOGIN_WINDOW",t=DeployPhaseUtils.convertUrl("https://member.melon.com/muid/family/ticket/login/web/loginpopup_inform.htm?cpId=")+melon.getPocId()+"&returnPage="+encodeURIComponent(location.href),a="scrollbars=no, resizable=yes,location=no, width=560,height=380, left=20, top=20",window.open(t,"_LOGIN_POPUP",a)):"2"==e&&(t=DeployPhaseUtils.convertUrl("https://member.melon.com/muid/family/ticket/login/web/loginpopup_inform.htm?callback=loginCallback&cpId=")+melon.getPocId()+"&returnPage="+encodeURIComponent(location.href),location.href=t):(window.name="_OPENER_LOGIN_WINDOW",t=DeployPhaseUtils.convertUrl("https://member.melon.com/muid/family/ticket/login/web/loginpopup_inform.htm?callback=loginCallback&cpId=")+melon.getPocId()+"&returnPage="+encodeURIComponent(location.href),a="scrollbars=no, resizable=yes,location=no, width=560,height=380, left=20, top=20",window.open(t,"_LOGIN_POPUP",a))},loginPopupLayerd:function(n){$.ajax({url:"/muid/web/login/loginlayer_inform.htm",data:{returnPage:n}}).done(function(e){$(e).appendTo("body").modal({modal:!0,clone:!0,containerCss:{backgroundColor:"#fffff"},removeOnClose:!0}).find("input[name=returnPage]").val(n||location.href);try{var t,a;0==$("script[src='resource/script/muid/web/memberAlertMsg.js']").length&&0==$("script[src='"+DeployPhaseUtils.convertUrl("https://member.melon.com/resource/script/muid/web/memberAlertMsg.js")+"']").length&&(t='<script type="text/javascript" src="'+DeployPhaseUtils.convertUrl("https://member.melon.com/resource/script/muid/web/memberAlertMsg.js")+'"><\/script>',$(t).appendTo("body")),0==$("script[src='/resource/script/muid/web/memberFunc.js']").length&&0==$("script[src='"+DeployPhaseUtils.convertUrl("https://member.melon.com/resource/script/muid/web/memberFunc.js")+"']").length&&(a="<script type='text/javascript' src='"+DeployPhaseUtils.convertUrl("https://member.melon.com/resource/script/muid/web/memberFunc.js")+"'><\/script>",$(a).appendTo("body")),$("input[placeholder]").placeholder({})}catch(e){}})},loginPopupLayerdMMA:function(n){$.ajax({url:"/muid/web/login/loginlayer_inform.htm",data:{returnPage:n}}).done(function(e){$(e).appendTo("body").modal({modal:!0,clone:!0,draggable:!1,containerCss:{backgroundColor:"#fffff"},removeOnClose:!0}).find("input[name=returnPage]").val(n||location.href);try{var t,a;0==$("script[src='/resource/script/muid/web/memberAlertMsg.js']").length&&0==$("script[src='"+DeployPhaseUtils.convertUrl("https://member.melon.com/resource/script/muid/web/memberAlertMsg.js")+"']").length&&(t='<script type="text/javascript" src="'+DeployPhaseUtils.convertUrl("https://member.melon.com/resource/script/muid/web/memberAlertMsg.js")+'"><\/script>',$(t).appendTo("body")),0==$("script[src='/resource/script/muid/web/memberFunc.js']").length&&0==$("script[src='"+DeployPhaseUtils.convertUrl("https://member.melon.com/resource/script/muid/web/memberFunc.js")+"']").length&&(a="<script type='text/javascript' src='"+DeployPhaseUtils.convertUrl("https://member.melon.com/resource/script/muid/web/memberFunc.js")+"'><\/script>",$(a).appendTo("body")),$("input[placeholder]").placeholder({})}catch(e){}})},isMelonLogin:function(){return isMelonLogin()},gnbLogin:function(){var e=0,a=("block"==$("#gnbLoginDiv").children().eq(1).css("display")&&(e=1),$("#gnbLoginDiv").children().eq(e).find("input[name=memberId]").val()),n=$("#gnbLoginDiv").children().eq(e).find("input[name=memberPwd]").val(),r=$("#gnbLoginDiv").children().eq(e).find("input[name=saveId]").prop("checked")?"Y":"N";if(""==a||"아이디"==a)return alert("아이디를 입력해 주세요."),!1;if(""==n)return alert("비밀번호를 입력해 주세요."),!1;var i,o=$('<form method="post" name="gnbLoginFrm"></form>'),l=(o.appendTo("body"),document.location.href),l=encodeURIComponent(l);try{(i=new AuthRSA).execute(function(e,t){o.append('<input type="hidden" id="memberId" name="memberId" value="'+i.encrypt(a)+'">'),o.append('<input type="hidden" id="memberPwd" name="memberPwd" value="'+i.encrypt(n)+'">'),o.append('<input type="hidden" id="publicKey" name="publicKey" value="'+e+'">'),o.append('<input type="hidden" id="saveId" name="saveId" value="'+r+'">'),o.prop("action",DeployPhaseUtils.convertUrl("https://member.melon.com/muid/web/login/login_informProcs.htm?returnPage=")+l),o.submit()})}catch(e){o.append('<input type="hidden" id="memberId" name="memberId" value="'+a+'">'),o.append('<input type="hidden" id="memberPwd" name="memberPwd" value="'+n+'">'),o.append('<input type="hidden" id="saveId" name="saveId" value="'+r+'">'),o.prop("action",DeployPhaseUtils.convertUrl("https://member.melon.com/muid/web/login/login_informProcs.htm?returnPage=")+l),o.submit()}},gnbLogout:function(){logout()},menuLogin:function(e){var t,a;null==e||""==e?location.href=DeployPhaseUtils.convertUrl("https://www.melon.com/muid/web/login/login_inform.htm"):((t=$('<form method="post" name="menuLoginFrm"></form>')).appendTo("body"),(a=$("<input />")).attr("name","returnPage"),a.attr("value",e),a.appendTo(t),t.attr("action",DeployPhaseUtils.convertUrl("https://www.melon.com/muid/web/login/login_inform.htm")),t.submit())},menuLoginWithReqType:function(e,t){var a,n;null==e||""==e?location.href=DeployPhaseUtils.convertUrl("https://www.melon.com/muid/web/login/login_inform.htm"):((a=$('<form method="post" name="menuLoginFrm"></form>')).appendTo("body"),(n=$("<input />")).attr("name","returnPage"),n.attr("value",e),n.appendTo(a),(e=$("<input />")).attr("name","reqType"),e.attr("value",t),e.appendTo(a),a.attr("action",DeployPhaseUtils.convertUrl("https://www.melon.com/muid/web/login/login_inform.htm")),a.submit())}},menu:{goMyMusicMain:function(){MELON.WEBSVC.POC.login.isMelonLogin()?location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/main/mymusicmain_list.htm?memberKey=")+getMemberKey():MELON.WEBSVC.POC.login.menuLoginWithReqType(DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/main/mymusicmain_list.htm"),"TYPE01")},goMyMusicLike:function(){MELON.WEBSVC.POC.login.isMelonLogin()?location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/like/mymusiclikesong_list.htm?memberKey=")+getMemberKey():MELON.WEBSVC.POC.login.menuLogin()},goMyMusicPlayList:function(){MELON.WEBSVC.POC.login.isMelonLogin()?location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/playlist/mymusicplaylist_list.htm?memberKey=")+getMemberKey():MELON.WEBSVC.POC.login.menuLogin()},goMyMusicDjCollection:function(){MELON.WEBSVC.POC.login.isMelonLogin()?location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/djcollection/mymusiccollectiondj_list.htm?memberKey=")+getMemberKey():MELON.WEBSVC.POC.login.menuLogin()},goMyMusicRecentSong:function(){MELON.WEBSVC.POC.login.isMelonLogin()?location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/recent/mymusicplaylistrecentsong_list.htm?memberKey=")+getMemberKey():MELON.WEBSVC.POC.login.menuLogin()},goMyMusicManySong:function(){MELON.WEBSVC.POC.login.isMelonLogin()?location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/top/mymusicplaylistmanysong_list.htm?memberKey=")+getMemberKey():MELON.WEBSVC.POC.login.menuLogin()},goMyMusicFanSignArtist:function(){MELON.WEBSVC.POC.login.isMelonLogin()?location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/artistfan/mymusicartistfan_list.htm?memberKey=")+getMemberKey():MELON.WEBSVC.POC.login.menuLogin()},goMyMusicFriend:function(){MELON.WEBSVC.POC.login.isMelonLogin()?location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/friend/mymusicfriendmusicchart_list.htm?memberKey=")+getMemberKey():MELON.WEBSVC.POC.login.menuLogin()},goMyMusicMyFriend:function(){MELON.WEBSVC.POC.login.isMelonLogin()?location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/friend/mymusicfriend_list.htm?memberKey=")+getMemberKey():MELON.WEBSVC.POC.login.menuLogin()},goMyMusicMessage:function(){MELON.WEBSVC.POC.login.isMelonLogin()?location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/mymusic/messagepresent/mymusicmessage_list.htm"):MELON.WEBSVC.POC.login.menuLogin()},goDjRegister:function(){MELON.WEBSVC.POC.login.isMelonLogin()?location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/dj/djregister/djregister_inform.htm"):MELON.WEBSVC.POC.login.menuLogin()},goMyPage:function(){MELON.WEBSVC.POC.login.isMelonLogin()?location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/commerce/mypage/product/web/producthistory_listCurUserProdView.htm"):MELON.WEBSVC.POC.login.menuLogin()},goMyPageAddCash:function(){MELON.WEBSVC.POC.login.isMelonLogin()?window.open(httpsWww+"/buy/meloncash/charge.htm","melonCash","app_, width=645, height=612, status=no, toolbar=no, scrollbars=yes"):MELON.WEBSVC.POC.login.menuLogin()},goFeed:function(){MELON.WEBSVC.POC.login.isMelonLogin()?location.href=DeployPhaseUtils.convertUrl("http://www.melon.com/feed/index.htm"):MELON.WEBSVC.POC.login.menuLogin(DeployPhaseUtils.convertUrl("http://www.melon.com/feed/index.htm"))},cm:{goPamphlet:function(){location.href=this.getPamphletUrl()},getPamphletUrl:function(){return DeployPhaseUtils.convertUrl("http://www.melon.com/commerce/pamphlet/web/sale_listMainView.htm")}}},sns:{postFacebook:function(e){var t=e.memberKey,a=e.type,n=e.contsId,r=e.message,i=e.menuId,o=(null!=i&&"undefined"!=i||(i=""),"son"==a?a="sonDft":"alb"==a?a="albDft":"art"==a&&(a="artDft"),DeployPhaseUtils.convertUrl("http://www.melon.com/restful/cds/facebook/web/facebook_posting/")+a+"/"+n+".htm");"ply"!=a&&"oab"!=a&&"apl"!=a&&"djm"!=a&&"djc"!=a||$.ajax({type:"POST",url:"/sns/snsposting_informPostingEtcData.json",data:{type:a,contsId:n},async:!1,success:function(e){o=DeployPhaseUtils.convertUrl("http://www.melon.com/restful/cds/facebook/web/facebook_posting/")+a+"/"+n+"/"+e.memberKey+"/"+e.updtDate+".htm"}}),$.ajax({type:"POST",url:"/sns/snsposting_postFacebook.json",data:{memberKey:t,url:o,message:r},dataType:"json",success:function(e){"SNSOK"==e.result?(e=DeployPhaseUtils.convertUrl("http://m.melon.com/pda/msvc/snsGatePage.jsp?type=")+a+"&sId="+n+"&frm=cmt&menuId="+i,melon.sns.getShortenUrl({longUrl:e,type:a,ref:"facebook",contsId:n,menuId:i}),melon.sns.outPostingLog("facebook",a,n)):alert("페이스북 계정연결을 하여야 합니다.")}})},postTwitter:function(e){var t=e.memberKey,a=e.type,n=e.contsId,r=e.message,e=e.menuId,i=(null!=e&&"undefined"!=e||(e=""),DeployPhaseUtils.convertUrl("http://m.melon.com/pda/msvc/snsGatePage.jsp?type=")+a+"&sId="+n+"&frm=cmt&menuId="+e),i=melon.sns.getShortenUrl({longUrl:i,type:a,ref:"twitter",contsId:n,menuId:e});$.ajax({type:"POST",url:"/sns/snsposting_postTwitter.json",data:{memberKey:t,url:i,message:r},dataType:"json",success:function(e){"SNSOK"==e.result?melon.sns.outPostingLog("twitter",a,n):alert("트위터 계정연결을 하여야 합니다.")}})},facebook:function(e){var t,a,n="",r="",i=e.type,o=e.contsId,l=e.menuId,s=(null!=l&&"undefined"!=l||(l=""),e.artistId),c=(null!=s&&"undefined"!=s||(s=""),e.imgUrl),d=(null!=c&&"undefined"!=c||(c=""),e.subType),m=(null!=d&&"undefined"!=d||(d=""),DeployPhaseUtils.convertUrl("http://www.melon.com")),_=DeployPhaseUtils.convertUrl("http://m.melon.com/pda/msvc/snsGatePage.jsp?type=")+i+"&sId="+o+"&menuId="+l,p=m+"/restful/cds/facebook/web/facebook_posting/"+i+"/"+o+".htm",u=DeployPhaseUtils.convertUrl("http://www.melon.com/sns/snsposting_close.htm"),d=("son"==i?(n=e.songName+" - "+e.artistName,c=0<c.indexOf("noAlbum_")?"/resource/image/web/default/noAlbum_500.jpg":melon.sns.getImgUrlByWidth(c,500)):"alb"==i?(n=e.albumName+" - "+e.artistName,c=0<c.indexOf("noAlbum_")?"/resource/image/web/default/noAlbum_500.jpg":melon.sns.getImgUrlByWidth(c,500)):"art"==i?n=e.artistName:"playlist"==i||"ply"==i||"oalbum"==i||"oab"==i||"djc"==i?(n=e.playlistName+" by "+e.memberNickName,t=e.updtDate,a=e.albumImage1Path,c=(c=null==c||""==c?null==a||""==a?"/resource/image/web/default/noAlbum_500.jpg":melon.sns.getImgUrlByWidth(c=a,500):c.replace("_190","_org"))+"?tm="+t):"pht"==i?(n=e.artistName,_=_+"&artId="+s,0<c.indexOf("_org")?c=c.replace("_org","_500"):0<c.indexOf("noAlbum_")&&(c="/resource/image/web/default/noAlbum_500.jpg")):"mvd"==i?(_=DeployPhaseUtils.convertUrl("http://m.melon.com/pda/msvc/snsGatePage.jsp?type=")+i+"&sId="+o+"&menuId="+l+"&subType="+d,n=e.mvdName+" - "+e.artistName,c=0<c.indexOf("noMovie_")?"/resource/image/web/default/noMovie_4x3_640.jpg":melon.sns.getImgUrlByWidth(c,640),p="live"==d?m+"/restful/cds/facebook/web/facebook_posting/mvdLLk/"+o+".htm":m+"/restful/cds/facebook/web/facebook_posting/mvdVLk/"+o+".htm"):"djm"==i?(n=e.magaznName+" by "+e.magaznNickname,t=e.updtDate,c=(c=null==c||""==c?"/resource/image/web/default/noAlbum_500.jpg":c.replace("_220","_640"))+"?tm="+t):"mus"==i?(n="["+e.cateName+"]"+e.mstoryTitle,0<c.indexOf("noMovie_")&&(c="/resource/image/web/default/noMovie_4x3_640.jpg")):"nws"==i?(n=e.message,_=DeployPhaseUtils.convertUrl("http://m.melon.com/pda/msvc/snsGatePage.jsp?type=art&sId=")+s+"&menuId="+l,_+="&frm=nws",0<c.indexOf("noAlbum_")?c="/resource/image/web/default/noAlbum_500.jpg":0<c.indexOf("/cm/album/images/")&&(c=melon.sns.getImgUrlByWidth(c,500))):"ntz"==i?(n="멜론 주간 어워드 투표 진행중! 빨리 투표에 참여하세요",c=DeployPhaseUtils.convertUrl("http://cdnimg.melon.co.kr/resource/image/web/chart/award_op.jpg")):"apl"==i?(n=e.playlistName+" by "+e.artistNameWebList,t=e.updtDate,c=(c=0<c.indexOf("noAlbum_")?"/resource/image/web/default/noAlbum_500.jpg":melon.sns.getImgUrlByWidth(c,500))+"?tm="+t):"afr"==i?(n=e.message,_=DeployPhaseUtils.convertUrl("http://m.melon.com/pda/msvc/snsGatePage.jsp?type=")+i+"&sId="+s+"&menuId="+l,e.memberKey,c="/resource/image/cds/artist/feel/facebook_"+(a=null!=(a=e.temperature)&&"undefined"!=a&&""!=a?a:"0")+".png",null!=o&&"0"!=o||(o=s)):"thk"==i&&(n=e.artistName+"님의 THANK YOU  메시지",_=DeployPhaseUtils.convertUrl("http://m.melon.com/pda/msvc/snsGatePage.jsp?type=")+i+"&sId="+o+"&artId="+s+"&menuId="+l,""==c||0<c.indexOf("noAlbum_"))&&(c="/resource/image/web/default/noAlbum_500.jpg"),r=melon.sns.getShortenUrl({longUrl:_,type:i,ref:"facebook",contsId:o,menuId:l}),melon.sns.outPostingLog("facebook",i,o),encodeURIComponent(n),null!=c&&c.indexOf("http")<0&&(c=DeployPhaseUtils.convertUrl("http://cdnimg.melon.co.kr")+c),"mvd"==i&&(r=p),"https://www.facebook.com/dialog/feed?app_id=357952407588971&display=popup&name="+encodeURIComponent(n)+"&description="+encodeURIComponent("음악이 필요한 순간, 멜론")+"&picture="+c+"&link="+r+"&redirect_uri="+u+"&caption=www.melon.com");window.open(d,"fbPosting","width=700, height=540, status=no, toolbar=no,resizable=no")},twitter:function(e){var t="",a=e.type,n=e.contsId,r=e.menuId,i=(null!=r&&"undefined"!=r||(r=""),e.artistId),o=(null!=i&&"undefined"!=i||(i=""),e.subType),l=(null!=o&&"undefined"!=o||(o=""),DeployPhaseUtils.convertUrl("http://m.melon.com/pda/msvc/snsGatePage.jsp?type=")+a+"&sId="+n+"&menuId="+r);"son"==a?t=e.songName+" - "+e.artistName+" - 들어보세요.":"alb"==a?t=e.artistName+"의 "+e.albumName+" - 추천합니다.":"art"==a?t=e.artistName+" - 좋아합니다.":"playlist"==a||"ply"==a?t=e.playlistName+" by "+e.memberNickName:"oalbum"==a||"oab"==a||"djc"==a?t="DJ 플레이리스트 :: "+e.playlistName+" by "+e.memberNickName:"pht"==a?(t=e.artistName+"의 포토를 좋아합니다.",l=l+"&artId="+i):"mvd"==a?(l=DeployPhaseUtils.convertUrl("http://m.melon.com/pda/msvc/snsGatePage.jsp?type=")+a+"&sId="+n+"&menuId="+r+"&subType="+o,t=e.artistName+"의 "+e.mvdName+" - 감상해보세요."):"djm"==a?t="DJ 매거진 :: "+e.magaznName+" by "+e.magaznNickname:"mus"==a?t="["+e.cateName+"]"+e.mstoryTitle:"nws"==a?(t=e.message,l=DeployPhaseUtils.convertUrl("http://m.melon.com/pda/msvc/snsGatePage.jsp?type=art&sId=")+i+"&menuId="+r,l+="&frm=nws"):"ntz"==a?t="멜론 주간 어워드 투표 진행중! 빨리 투표에 참여하세요":"apl"==a?t="아티스트 플레이리스트 :: "+e.playlistName+" by "+e.artistNameWebList:"afr"==a?(t=e.message,l=DeployPhaseUtils.convertUrl("http://m.melon.com/pda/msvc/snsGatePage.jsp?type=")+a+"&sId="+i+"&menuId="+r,null!=n&&"0"!=n||(n=i)):"thk"==a&&(t=e.artistName+"님의 THANK YOU  메시지",l=DeployPhaseUtils.convertUrl("http://m.melon.com/pda/msvc/snsGatePage.jsp?type=")+a+"&sId="+n+"&artId="+i+"&menuId="+r),o=melon.sns.getShortenUrl({longUrl:l,type:a,ref:"twitter",contsId:n,menuId:r}),melon.sns.outPostingLog("twitter",a,n);try{t=MELON.WEBSVC.string.unescapeHTML(t)}catch(e){}e=encodeURIComponent(t+" "+o+" #MelOn");window.open("http://twitter.com/home?status="+e)},cyworld:function(e){var t="",a=" ",n=e.type,r=e.contsId,i=e.menuId,o=(null!=i&&"undefined"!=i||(i=""),e.artistId),l=(null!=o&&"undefined"!=o||(o=""),DeployPhaseUtils.convertUrl("http://m.melon.com/pda/msvc/snsGatePage.jsp?type=")+n+"&sId="+r+"&ref=cyworld&menuId="+i),o=("son"==n?(t=e.songName+"-"+e.artistName,null!=e.albumName&&""!=e.albumName&&(a+="[앨범]"+e.albumName),null!=e.adjDate&&""!=e.adjDate&&(e.adjDate=melon.sns.formatDate(e.adjDate,"."),a+=" (발매일 : "+e.adjDate+")")):"alb"==n?(t=e.albumName+"-"+e.artistName,null!=e.adjDate&&""!=e.adjDate&&(e.adjDate=melon.sns.formatDate(e.adjDate,"."),a+=" (발매일 : "+e.adjDate+")")):"art"==n?(t=e.artistName,""!=e.adjNation&&(a+="(국적 : "+e.adjNation+")")):"playlist"==n||"ply"==n||"oalbum"==n||"oab"==n||"djc"==n?(t=e.playlistName+"-"+e.memberNickName,a="  "):"pht"==n?(t=e.artistName,l=l+"&artId="+o,a="  "):"mvd"==n?(t=e.mvdName+"-"+e.artistName,a="  "):"djm"==n?(t=e.magaznName+"-"+e.magaznNickname,a="  "):"mus"==n?(t="["+e.cateName+"]"+e.mstoryTitle,a="  "):"nws"==n?(t=e.message,l=DeployPhaseUtils.convertUrl("http://m.melon.com/pda/msvc/snsGatePage.jsp?type=art&sId=")+r+"&menuId="+i,l+="&frm=nws",a="  "):"ntz"==n?(t="멜론 주간 어워드 투표 진행중! 빨리 투표에 참여하세요",e.imgUrl=DeployPhaseUtils.convertUrl("http://cdnimg.melon.co.kr/resource/image/web/chart/award_op.jpg"),a="  "):"apl"==n&&(t=e.playlistName+"-"+e.artistNameWebList,a="  "),e.imgUrl),i=(o.indexOf("http")<0&&(o=DeployPhaseUtils.convertUrl("http://cdnimg.melon.co.kr")+o),"http://csp.cyworld.com/bi/bi_recommend_pop.php?"+("url="+encodeURIComponent(l)+"&thumbnail="+encodeURIComponent(o)+"&title_nobase64="+encodeURIComponent(t)+"&summary_nobase64="+encodeURIComponent(a)+"&writer="+encodeURIComponent("음악이 필요한 순간, 멜론")));melon.sns.outPostingLog("cyworld",n,r),window.open(i,"recom_icon_pop","width=400,height=364,scrollbars=no,resizable=no")},nate:function(e){var t="",a=e.type,n=e.contsId,r=e.menuId,i=(null!=r&&"undefined"!=r||(r=""),e.artistId),o=(null!=i&&"undefined"!=i||(i=""),DeployPhaseUtils.convertUrl("http://m.melon.com/pda/msvc/snsGatePage.jsp?type=")+a+"&sId="+n+"&menuId="+r),e=("son"==a?t=e.songName+" - "+e.artistName:"alb"==a?t=e.artistName+"의 "+e.albumName+" 좋아합니다!":"art"==a?t=e.artistName+" 좋아합니다!":"playlist"==a||"ply"==a||"oalbum"==a||"oab"==a||"djc"==a?t=e.memberNickName+"의 "+e.playlistName+" 좋아합니다!":"pht"==a?(t=e.artistName+"의 포토를 좋아합니다!",o=o+"&artId="+i):"mvd"==a?t=e.artistName+"의 "+e.mvdName+" 좋아합니다!":"djm"==a?t=e.magaznNickname+"의 "+e.magaznName+" 좋아합니다!":"mus"==a?t="["+e.cateName+"]"+e.mstoryTitle:"nws"==a?(t=e.message,o=DeployPhaseUtils.convertUrl("http://m.melon.com/pda/msvc/snsGatePage.jsp?type=art&sId=")+n+"&menuId="+r,o+="&frm=nws"):"ntz"==a?t="멜론 주간 어워드 투표 진행중! 빨리 투표에 참여하세요":"apl"==a&&(t=e.artistNameWebList+"의 "+e.playlistName+" 좋아합니다!"),i=melon.sns.getShortenUrl({longUrl:o,type:a,ref:"nate",contsId:n,menuId:r}),melon.sns.outPostingLog("nate",a,n),encodeURIComponent(t),encodeURIComponent(t+" "+i+" #MelOn"),"http://api.nateon.nate.com/web/note/SendNote.do?msg="+encodeURIComponent(t)+"&lurl="+encodeURIComponent(i));window.open(e,"note","width=500,height=540,scrollbars=no,resizable=no")},getShortenUrl:function(param){var url="/sns/snsposting_informShortenUrl.json",shortUrl=(null!=param&&null!=param.ref&&null!=param.ref&&(url+="?ref="+param.ref,param.longUrl+="&ref="+param.ref),null!=param&&null!=param.type&&null!=typeof param.type&&(-1!=url.indexOf("?")?(url+="&page="+param.type,param.longUrl+="&page="+param.type):(url+="?page="+param.type,param.longUrl+="?page="+param.type)),null!=param&&null!=param.menuId&&null!=typeof param.menuId&&(-1!=url.indexOf("?")?url+="&menuId="+param.menuId:url+="?menuId="+param.menuId),null!=param&&null!=param.contsId&&null!=typeof param.contsId&&(-1!=url.indexOf("?")?(url+="&contsId="+param.contsId,param.longUrl+="&contsId="+param.contsId):(url+="?contsId="+param.contsId,param.longUrl+="?contsId="+param.contsId)),"");return param.longUrl=melon.sns.getUrlRemake({url:param.longUrl}),$.ajax({type:"GET",url:melon.sns.getUrlRemake({url:url}),data:"longUrl="+encodeURIComponent(param.longUrl),dataType:"json",async:!1,success:function(json){var jsonObj=eval("("+json.resultStr+")");shortUrl=jsonObj.results[param.longUrl].shortUrl}}),shortUrl},getShortenUrl2:function(param){var url="/sns/snsposting_informShortenUrl.json",shortUrl=(null!=param&&null!=param.ref&&null!=param.ref&&(url+="?ref="+param.ref),null!=param&&null!=param.type&&null!=typeof param.type&&(-1!=url.indexOf("?")?url+="&page="+param.type:url+="?page="+param.type),null!=param&&null!=param.menuId&&null!=typeof param.menuId&&(-1!=url.indexOf("?")?url+="&menuId="+param.menuId:url+="?menuId="+param.menuId),null!=param&&null!=param.contsId&&null!=typeof param.contsId&&(-1!=url.indexOf("?")?url+="&contsId="+param.contsId:url+="?contsId="+param.contsId),"");return $.ajax({type:"GET",url:melon.sns.getUrlRemake({url:url}),data:"longUrl="+encodeURIComponent(param.longUrl),dataType:"json",async:!1,success:function(json){var jsonObj=eval("("+json.resultStr+")");shortUrl=jsonObj.results[param.longUrl].shortUrl}}),shortUrl},getUrlRemake:function(e){var t=(new Date).getMilliseconds(),e=e.url;return e=0<=e.indexOf("?")?e+"&ajax_ts="+t:e+"?ajax_ts="+t},formatDate:function(e,t){var a,n="";return null==e||""==e||e.length<8||("00000000"==e?n="":("0000"!=(a=e.substring(0,4))&&""!=a&&(n=a),"00"!=(a=e.substring(4,6))&&""!=a&&(n+=t+a),"0000"!=(a=e.substring(6,8))&&""!=a&&(n+=t+a))),n},outPostingLog:function(e,t,a){null!=(t=null!=t&&"playlist"==t?"ply":t)&&"oalbum"==t&&(t="djc");var n=getMemberKey();$.ajax({type:"POST",url:"/sns/snsposting_outPostingLog.json",data:{ref:e,page:t,sId:a,uKey:n},success:function(e){}})},getImgUrlByWidth:function(e,t){var a;return null==e||(a=e.lastIndexOf("."))<0?"":e.substring(0,a)+"_"+t+e.substring(a,e.length)}},show:{moreButton:function(e,t,a){var n=$("#"+e).height();$("#"+e).css("height",t+"px"),t<n&&(null!=a&&""!=a?$("#"+a):$(".arrow_d")).show()}}},commentObj={goArtistDtl:function(e){MELON.WEBSVC.POC.link.goArtistDetail(e,0)},goVideoDtl:function(e,t){MELON.WEBSVC.POC.link.goMvDetail(e,t,"")},goAlbumDtl:function(e){MELON.WEBSVC.POC.link.goAlbumDetail(e)},goSongDtl:function(e){MELON.WEBSVC.POC.link.goSongDetail(e)},playSong:function(e,t,a){MELON.WEBSVC.POC.play.playSong(e,t)},playAlbum:function(e,t){MELON.WEBSVC.POC.play.playAlbum(e,t)},goLogIn:function(){melon.login.loginPopup(1)},goBuyProduct:function(e,t,a,n,r,i,o){MELON.WEBSVC.POC.buy.goBuyProduct(e,t,a,n,r,i,o)}},"MelonWebLinker.MelonLinker.1"),melonPlayerVersion__="5,14,613,13",melonPlayerFunc={getMelonPlayerObject:function(){var e="",t=navigator.userAgent.toUpperCase();return-1<t.indexOf("MSIE")||-1<t.indexOf("TRIDENT")?e=(e+='<OBJECT ID="MelonWebLinker" WIDTH="0" HEIGHT="0" ')+'codebase="'+DeployPhaseUtils.convertUrl("http://www.melon.com/resource/cab/webplayer/MelonWebLinker.cab#version=")+melonPlayerVersion__+'" classid="clsid:C6710B89-FB87-4CE8-A719-565767E70D27"></OBJECT>':-1<t.indexOf("SAFARI")||-1<t.indexOf("APPLEWEBKIT/5")||-1<t.indexOf("MAC")?e+='<object id="MelonWebLinker" type="application/x-melonweblinker" width="0" height="0" ></object>':-1<t.indexOf("FIREFOX")?(e='<object id="MelonWebLinker" type="application/x-melonweblinker" width="0" height="0">',e+="</object>"):(t.indexOf("CHROME"),e+='<object id="MelonWebLinker" type="application/x-melonweblinker" width="0" height="0" ></object>'),e},chkMelonPlayerObject:function(){try{return!!new ActiveXObject(melonPlayerPakage__)}catch(e){return!1}},browser:function(){var e=navigator.userAgent.toUpperCase();return-1<e.indexOf("MSIE")||-1<e.indexOf("TRIDENT")?"ie":-1<e.indexOf("OPR")||-1<e.indexOf("OPERA")?"opera":-1<e.indexOf("CHROME")?"chrome":-1<e.indexOf("SAFARI")?"safari":-1<e.indexOf("MAC")?"chrome":-1<e.indexOf("FIREFOX")?"firefox":-1<e.indexOf("APPLEWEBKIT/5")?"safari":-1<e.indexOf("EDGE")?"edge":"none"}},PARAM_DELIMITER="\v",PARAM_DELIMITER_END=":",itemFlagArray=new Array,itemIdArray=new Array,contentFlagArray=new Array,playItem="",downloadItem="",PLAYER_RETURN="",PLAYER_RETURN_SUCCESS="RETURN_TOBROWSER_NEED_NOTHING",LOGIN_KEY_CHECK="",LOGIN_ID_CHECK="",MELON_PLAYER_OCX_HTTP_HOME=DeployPhaseUtils.convertUrl("http://www.melon.com"),IMAGE_HOME=(void 0!==httpWww&&null!=httpWww&&""!=httpWww&&(MELON_PLAYER_OCX_HTTP_HOME=httpWww),DeployPhaseUtils.convertUrl("http://cdnimg.melon.co.kr")),player={ocxPlay:function(e,t,a,n){void 0===n&&(n=""==getMemberKey()?0:getMemberKey());var r="";if(1<t.length)for(var i=0;i<t.length;i++)i<t.length-1&&0;else t[0];if(0<a.length)for(i=0;i<a.length;i++)r+=t[i]+PARAM_DELIMITER+a[i]+PARAM_DELIMITER+n+PARAM_DELIMITER+e+PARAM_DELIMITER+PARAM_DELIMITER_END;player.melonplayerPlay(e,t,a,r)},melonplayerActualPlay:function(e){var t=getCookie("IS_INPUT_AUTHENTICATION_ADULT_PWD"),t=(isMemberAdult(),e+=" /a "+("Y"==t?"1":"0")+isRealNameFlag()+("0"==isMemberAdult()?"0":"1")+("3"==getMemberAuthFlg()?"2":"2"==getMemberAuthFlg()||"5"==getMemberAuthFlg()?"1":"0"),$("body").append(melonPlayerFunc.getMelonPlayerObject()),document.getElementById("MelonWebLinker"));if(-1<e.indexOf("ie"))if(melonPlayerFunc.chkMelonPlayerObject()){if(t&&null!=t){try{t.MelOnInvoke(e)}catch(e){}setCookie("melon_player_setup_status","0",-1,"/","")}}else"1"!=getCookie("melon_player_setup_status")?(alert(" 멜론플레이어가 정상적으로 설치되지 않았습니다.\n 멜론플레이어 설치가 필요합니다."),setCookie("melon_player_setup_status","1",10,"/","")):setTimeout("melonplayerActualPlay('"+e+"')",1e3);else{if(-1<e.indexOf("chrome"))for(var a=!1,n=0;n<navigator.plugins.length;n++)navigator.plugins[n].name,-1<navigator.plugins[n].name.indexOf("MelOnWebLinker")&&(a=!0);else for(a=!1,n=0;n<navigator.plugins.length;n++)-1<navigator.plugins[n].name.indexOf("MelOnWebLinker")&&(a=!0);a?t.MelOnInvoke(e):window.open(DeployPhaseUtils.convertUrl("http://www.melon.com/plugin/popup/plugin_install.htm"),"_blank","width=560, height=330, location=no,menubar=no,toolbar=no,scrollbars=yes,resizable=no,status=no")}},melonplayerActualPlaySocket:function(e,t,a){var n=getCookie("IS_INPUT_AUTHENTICATION_ADULT_PWD"),n=(isMemberAdult(),"Y"==n?"1":"0"),r=isRealNameFlag(),i="0"==isMemberAdult()?"0":"1",o=getMemberAuthFlg(),o="3"==o?"2":"2"==o||"5"==o?"1":"0",l="smart"==t?"smartradio":"play",s=getCookie("MPS");if(null==s||s.indexOf("MELONPLAYER")<0)var c={USERID:getMemberId()+","+getMemberToken(),USERNO:getMemberKey(),COMMAND:l,BROWSER:navigator.userAgent,SESSIONAUTH:n,REALNAMETYPE:r,ADULTTYPE:i,PASSWORDAUTOOPTION:o,LOGINTIME:"201506041145",LIST:a},d=($.fn.chkNotifyInstalled(),0),m=setInterval(function(){$.isNotifyInstalled&&$.fn.socketPlay(JSON.stringify(c)),5!=++d&&!$.isNotifyInstalled||(clearInterval(m),$.isNotifyInstalled)},1500);else if(1<a.length){for(var _=new MelOnAPIHelper,p=0;p<a.length;p++)_.append(a[p].itemIDType,a[p].itemID,a[p].statisticID);var u=unescape(JSON.stringify(_).replace(/\\u/g,"%u"));"smart"==t?MelonAPI.action("smartRadioDetailTabOpen",u):MelonAPI.action("listenMusic",u)}else for(p=0;p<a.length;p++){u=unescape(JSON.stringify(a[p]).replace(/\\u/g,"%u"));"smart"==t?MelonAPI.action("smartRadioDetailTabOpen",u):MelonAPI.action("listenMusic",u)}},melonplayerActualPlayHighVdo:function(e){var t=getCookie("IS_INPUT_AUTHENTICATION_ADULT_PWD"),t=(isMemberAdult(),e+=" /a "+("Y"==t?"1":"0")+isRealNameFlag()+("0"==isMemberAdult()?"0":"1")+"1",$("body").append(melonPlayerFunc.getMelonPlayerObject()),document.getElementById("MelonWebLinker"));if(-1<e.indexOf("ie"))if(melonPlayerFunc.chkMelonPlayerObject()){if(t&&null!=t){try{t.MelOnInvoke(e)}catch(e){}setCookie("melon_player_setup_status","0",-1,"/","")}}else"1"!=getCookie("melon_player_setup_status")?(alert(" 멜론플레이어가 정상적으로 설치되지 않았습니다.\n 멜론플레이어 설치가 필요합니다."),setCookie("melon_player_setup_status","1",10,"/","")):setTimeout("melonplayerActualPlay('"+e+"')",1e3);else{if(-1<e.indexOf("chrome"))for(var a=!1,n=0;n<navigator.plugins.length;n++)navigator.plugins[n].name,-1<navigator.plugins[n].name.indexOf("MelOnWebLinker")&&(a=!0);else for(a=!1,n=0;n<navigator.plugins.length;n++)-1<navigator.plugins[n].name.indexOf("MelOnWebLinker")&&(a=!0);a?t.MelOnInvoke(e):window.open(DeployPhaseUtils.convertUrl("http://www.melon.com/plugin/popup/plugin_install.htm"),"_blank","width=560, height=330, location=no,menubar=no,toolbar=no,scrollbars=yes,resizable=no,status=no")}},melon_ocx_message:function(e){return 0==e?PLAYER_RETURN_SUCCESS:1==e?(confirm("음악을 듣기 위해서는 멜론 플레이어가 설치되어 있어야 합니다..\n멜론 플레이어를 설치하시겠습니까?")&&(document.location.href=DeployPhaseUtils.convertUrl("http://appsvr.melon.com/cabv40/Melon4Setup.exe")),"RETURN_TOBROWSER_NEED_INSTALL"):-1==e?(alert("쿠키 정보가 없습니다 : ERROR_CODE=[RETURN_TOBROWSER_FAILURE_COOKIE]"),"RETURN_TOBROWSER_FAILURE_COOKIE"):-2==e?(alert("오류가 발생했습니다. 잠시 후에 다시 이용해 주십시오."),"RETURN_TOBROWSER_FAILURE_HTTPCALL"):-3==e?(alert("오류가 발생했습니다. 잠시 후에 다시 이용해 주십시오."),"RETURN_TOBROWSER_FAILURE_HTTPCALL_STATUS"):-4==e?PLAYER_RETURN_SUCCESS:-5==e?(alert("사용자 정보가 불충합니다. 잠시 후에 다시 이용해 주십시오."),"RETURN_TOBROWSER_FAILURE"):-6==e?(alert("서버와의 통신상에 Error가 발생했습니다. \n잠시 후에 다시 이용해 주십시오."),"RETURN_TOBROWSER_FAILURE"):-10001==e?(alert("오류가 발생했습니다. 잠시 후에 다시 이용해 주십시오."),"RETURN_TOBROWSER_FAILURE"):-10204==e?(alert("권리사의 요청으로 서비스가 일시 중지된 곡입니다."),"RETURN_TOBROWSER_FAILURE"):-10201==e?(alert("음악 정보가 존재하지 않습니다."),"RETURN_TOBROWSER_FAILURE"):-10202==e?(alert("앨범 정보가 존재하지 않습니다."),"RETURN_TOBROWSER_FAILURE"):-10203==e?(alert("상품 정보가 존재하지 않습니다."),"RETURN_TOBROWSER_FAILURE"):-10300==e?(alert("구매하지 않은 음악입니다."),"RETURN_TOBROWSER_FAILURE"):-10301==e?(alert("선물 받지 않은 음악입니다."),"RETURN_TOBROWSER_FAILURE"):-10302==e?(alert("다운로드 기간이 지났습니다."),"RETURN_TOBROWSER_FAILURE"):-10406==e||-10409==e?(alert("오류가 발생했습니다. 잠시 후에 다시 이용해 주십시오."),"RETURN_TOBROWSER_FAILURE"):-10207==e?(location.href="/cds/common/web/popnotice_list.htm?ptype=NL","RETURN_TOBROWSER_FAILURE"):e<0?(alert("오류가 발생했습니다. 잠시 후에 다시 이용해 주십시오."),"RETURN_TOBROWSER_FAILURE"):""},melonplayerPlay:function(e,t,a,n){var r="/c ",i=String(a).split(","),o=melonPlayerFunc.browser(),l=getCookie("MPS"),l=null==l||l.indexOf("MELONPLAYER")<0,s=new Object,c=[];if(""==e&&(e="58611"),"smart"==t){var d=n.replace(//gi,"^").split("^");l?"chrome"==o||"edge"==o||"safari"==o||"firefox"==o?(s={CHID:d[0],CHINFO:d[1],CHYEAR:d[2],STATISTICID:d[3]},c.push(s),player.melonplayerActualPlaySocket(e,t,c)):(r+="smartradio /b "+melonPlayerFunc.browser()+" /i "+getMemberId()+" /n "+getMemberKey()+" /s "+n,"21"==t?player.melonplayerActualPlayHighVdo(r):player.melonplayerActualPlay(r)):(s={chinfo:d[1],chid:d[0],chname:"smart",genreyear:"",channelgubun:"A",statisticID:d[3]},c.push(s),player.melonplayerActualPlaySocket(e,t,c))}else if("smart"!=t)if(l)if("chrome"==o||"edge"==o||"safari"==o||"firefox"==o){for(var m=0;m<a.length;m++)s={ITEMFLAG:t[m],ITEMID:a[m],FRIENDNO:getMemberKey(),STATISTICID:e},c.push(s);player.melonplayerActualPlaySocket(e,t,c)}else n=("4"!=t?a:i).length+PARAM_DELIMITER+n,r+="play /b "+melonPlayerFunc.browser()+" /i "+getMemberId()+","+getMemberToken()+" /n "+getMemberKey()+" /s "+n,"21"==t?player.melonplayerActualPlayHighVdo(r):player.melonplayerActualPlay(r);else{for(m=0;m<a.length;m++)s={userNo:getMemberKey(),itemIDType:t[m],itemID:a[m],statisticID:e},c.push(s);player.melonplayerActualPlaySocket(e,t,c)}}};$.isNotifyInstalled=!1,$.fn.chkNotifyInstalled=function(){$.isNotifyInstalled=!1;var t=3,a=0;$("#notifyFrame").length<1&&$('<iframe id="notifyFrame" name="notifyFrame" width=0 height=0 src="" style="display:none;"></iframe>').appendTo("body");try{var e={reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:2500,reconnectionAttempts:t,"force new connection":!0};"ie"==melonPlayerFunc.browser()&&navigator.userAgent.indexOf("Trident")<0&&(e={reconnection:!0,timeout:3e3,reconnectionDelay:1e3,reconnectionDelayMax:2500,reconnectionAttempts:t,"force new connection":!0}),socketio=io.connect("http://127.0.0.1:46286",e)}catch(e){}socketio.on("connect",function(){try{$.isNotifyInstalled=!0,a=0;var e={USERID:getMemberId(),USERNO:getMemberKey(),COMMAND:"compversion",BROWSER:navigator.userAgent,VERSIONNO:"51562415"};socketio.emit("query",JSON.stringify(e))}catch(e){}}),socketio.on("result",function(e){e=JSON.parse(e);if(socketio.close(),"-10001"==e.STATUS){$.isNotifyInstalled=!1,t=7,a=0,navigator.userAgent.toUpperCase().indexOf("MSIE 9");try{$("#notifyFrame").attr("src","MelOnNtfy2:melonhandler")}catch(e){}}}),socketio.on("connect_error",function(){if(1==++a)try{$("#notifyFrame").attr("src","MelOnNtfy2:melonhandler")}catch(e){}else if(t<=a){a=0;try{socketio.close()}catch(e){}$.isNotifyInstalled=!1,window.open(DeployPhaseUtils.convertUrl("http://www.melon.com/plugin/popup/melonnotify_install.htm"),"melonnotify_install","width=560, height=330, location=no,menubar=no,toolbar=no,scrollbars=yes,resizable=no,status=no")}}),socketio.on("disconnect",function(){})},$.fn.optShift=function(){var a=0,n=0,r=this;r.click(function(e){if(n=r.index(e.target),e.shiftKey){a<n&&(e=n,n=a,a=e);for(var t=n;t<a;t++)r.eq(t).is(":disabled")||r.eq(t).checked(!0)}a=n})},$.fn.socketPlay=function(e){var t=0,a="http://127.0.0.1:46286";if($("#notifyFrame").length<1&&$('<iframe id="notifyFrame" name="notifyFrame" width=0 height=0 src="" style="display:none;"></iframe>').appendTo("body"),"undefined"==typeof socketio)try{var n={reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:1e3,reconnectionAttempts:3,"force new connection":!0};"ie"==melonPlayerFunc.browser()&&navigator.userAgent.indexOf("Trident")<0&&(n={reconnection:!0,timeout:3e3,reconnectionDelay:1e3,reconnectionDelayMax:1e3,reconnectionAttempts:3,"force new connection":!0}),socketio=io.connect(a,n)}catch(e){}else if(socketio.disconnected)try{n={reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:1e3,reconnectionAttempts:3,"force new connection":!0};"ie"==melonPlayerFunc.browser()&&navigator.userAgent.indexOf("Trident")<0&&(n={reconnection:!0,timeout:3e3,reconnectionDelay:1e3,reconnectionDelayMax:1e3,reconnectionAttempts:3,"force new connection":!0}),socketio=io.connect(a,n)}catch(e){}socketio.on("connect_error",function(){if(1==++t)try{$("#notifyFrame").attr("src","MelOnNtfy2:melonhandler")}catch(e){}else if(3<=t){window.open(DeployPhaseUtils.convertUrl("http://www.melon.com/plugin/popup/melonnotify_install.htm"),"melonnotify_install","width=560, height=330, location=no,menubar=no,toolbar=no,scrollbars=yes,resizable=no,status=no"),t=0;try{socketio.close()}catch(e){}}}),socketio.on("connect",function(){t=0;try{socketio.emit("query",e)}catch(e){}}),socketio.on("disconnect",function(){try{$("#notifyFrame").attr("src","")}catch(e){}}),socketio.on("result",function(e){socketio.close();try{$("#notifyFrame").attr("src","")}catch(e){}})}}(),MelOnAPIHelper.prototype.append=function(e,t,a){var n=this.LIST.length;this.LIST[n]={itemIDType:e,itemID:t,statisticID:a}},MelOnAPIHelper.prototype.stringify=function(){return JSON.stringify(this)};var _FLASH_INSTALLED=!1;try{var v=0;void 0!==navigator.plugins&&"object"==typeof navigator.plugins["Shockwave Flash"]&&(_FLASH_INSTALLED=!0);try{v=parseFloat(new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").match(/(.\d?),/)[1],10),(_FLASH_INSTALLED||5<v)&&(_FLASH_INSTALLED=!0)}catch(e){}}catch(e){_FLASH_INSTALLED=!1}getBrowserName=function(){var e=navigator.userAgent.split(" ")[0],t=0<e.length?navigator.userAgent.replace(e,""):navigator.userAgent;return 0<=e.indexOf("Opera")||0<=t.indexOf("Opera")||0<=e.indexOf("OPR")||0<=t.indexOf("OPR")?"Opera":0<=t.indexOf("MSIE")||0<=t.indexOf("Edge")||null!==t.match("(Windows NT 6.3|Windows NT 6.2|Windows NT 6.1|Windows NT 10.0)")&&0<=t.indexOf("Trident")?"Internet Explorer":0<=t.indexOf("Firefox")?"Firefox":0<=t.indexOf("Chrome")?"Google Chrome":0<=t.indexOf("Safari")?"Safari":0<=t.indexOf("Gecko")?"Gecko":0<=t.indexOf("Mozilla")?"Netscape":""},webPlayerFlashAlert=function(){var e=['<div class="layer_popup small" style="width:384px; display:none;" >','<h1 class="layer_title">설치안내</h1>','<div class="layer_cntt">','<div class="box_default">','<p class="txt_emphs">Adobe Flash Player 설치안내</p>',"<p>멜론 웹플레이어를 사용하시려면 <br/> Adobe Flash Player가 설치되어 있어야 합니다.</p>","<p>[확인]버튼을 클릭하면, 설치 사이트로 이동합니다.</p>","</div>",'<div class="wrap_btn_c">','<button type="button" title="확인" class="btn_emphs_small" data-role="ok"><span class="odd_span"><span class="even_span">확인</span></span></button>','<button type="button" title="취소" class="btn_emphs02_small d_close" data-role="cancel"><span class="odd_span"><span class="even_span">취소</span></span></button>',"</div>","</div>",'<button type="button" title="닫기" class="btn_close d_close" data-role="ok"><span class="odd_span">닫기</span></button>','<span class="shadow"></span>',"</div>"].join(""),t=$(e).appendTo("body").find("div.d_content").html("").end();return new MELONTKT.PBPGN.Modal(t,{onOk:function(){window.open("http://get.adobe.com/kr/flashplayer/","flashurl"),self.close()}}).on("modalhidden",function(){t.remove()})};var CM=MELON.WEBSVC.CM||(MELON.WEBSVC.CM={});function cmCheckedLog(e){}function MelOnAPIHelper(){this.LIST=Array()}!function(){var contsIdList,DestinationIP="http://127.0.0.1:46286";MELON.WEBSVC.CM.CONT={getDomainMelon:function(){var e=location.host;return"decop.melon.com"==e||"vod.melon.com"===e||"live.melon.com"===e||"ticket.melon.com"===e||"m.ticket.melon.com"===e?e="www.melon.com":"localhost"==e&&(e="localhost:8080"),"https://"+e},getContsIdListFromAlbumId:function(e){$.ajax({dataType:"json",async:!1,url:"/cm/download/song/listContsIdFromAlbumId.json",data:{albumId:e},success:function(e){contsIdList=e.LIST}})},goBuyProduct:function(e,t,a,n,r,i,o){var l=0<navigator.userAgent.indexOf("Edge"),s=MELON.WEBSVC.POC.play.browser();"UNITY"===(l||"chrome"===s||"safari"===s||"firefox"===s?"UNITY":"ie"===s?"OCX":"OLDPLUGIN")?MELON.WEBSVC.CM.CONT.goBuyProductUnity(e,t,a,n,r,i,o):MELON.WEBSVC.CM.CONT.goBuyProductPrevVersion(e,t,a,n,r,i,o)},goBuyProductUnity:function(e,t,a,n,r,i,o){var l,s=getCookie("MPS");"100"!=r&&null!=s&&0<=s.indexOf("MELONPLAYER")?MELON.WEBSVC.CM.CONT.goBuyProductNext(e,t,a,n,r,i,o):($.fn.chkNotifyInstalled(),l=setInterval(function(){$.isNotifyInstalled&&MELON.WEBSVC.CM.CONT.goBuyProductNext(e,t,a,n,r,i,o);$.isNotifyInstalled&&(clearInterval(l),cmCheckedLog("retry cnt:1/$.isNotifyInstalled:"+$.isNotifyInstalled),$.isNotifyInstalled)},1e3))},goBuyProductPrevVersion:function(formName,contsId,contsType,paramsName,buyType,menuId,exceptAll){var isPlugInSetup=!1,fromMPS=getCookie("MPS"),idx=0,domainVar=MELON.WEBSVC.CM.CONT.getDomainMelon(),cnt=0;if(""!=formName&&null!=formName)try{cnt=$("form[name="+formName+"] input:checkbox[name="+paramsName+"]:checked").length}catch(e){}else{formName="tmpFormByComm20140221";var tmpFormByComm20140221=$("#tmpFormByComm20140221");0==tmpFormByComm20140221.length?(tmpFormByComm20140221=document.createElement("form"),tmpFormByComm20140221.name="tmpFormByComm20140221",tmpFormByComm20140221.id="tmpFormByComm20140221",tmpFormByComm20140221.method="POST",$("body").append(tmpFormByComm20140221)):tmpFormByComm20140221.innerHTML="",cnt=$("input:checkbox[name="+paramsName+"]:checked").length}if("0"==buyType||"100"==buyType){if(0==cnt&&""==contsId)return void("3C0001"==contsType?alert("곡을 선택해 주세요."):"3C0003"==contsType?alert("다운받을 강의를 선택해 주세요."):"3B0001"==contsType?alert("앨범을 선택해 주세요."):alert("다운받을 컨텐츠를 선택해 주세요."))}else if(("2"==buyType||"3"==buyType||"4"==buyType||"5"==buyType)&&0==cnt&&""==contsId)return void("3C0001"==contsType?alert("곡을 선택해 주세요."):"3C0003"==contsType?alert("다운받을 강의를 선택해 주세요."):alert("다운받을 컨텐츠를 선택해 주세요."));var params="?formName="+formName+"&byContsId="+contsId+"&contsType="+contsType+"&paramsName="+paramsName+"&buyType="+buyType+"&menuId="+menuId,url="",browser=MELON.WEBSVC.POC.play.browser();if("ie"==browser)url=domainVar+"/cm/download/comm/updateOcx.htm"+params;else{for(var idx=0;idx<navigator.plugins.length;idx++)if(-1<navigator.plugins[idx].name.indexOf("MelOnWebLinker")){isPlugInSetup=!0;break}url=DeployPhaseUtils.convertUrl("https://www.melon.com/plugin/popup/plugin_install.htm")}if("ie"!=browser&&isPlugInSetup||MELON.WEBSVC.POC.play.chkMelonPlayerObject())if("100"!=buyType&&null!=fromMPS&&0<=fromMPS.indexOf("MELONPLAYER")){var info=new MelOnAPIHelper,contsTypeNum="";if("3C0001"==contsType?contsTypeNum="1":"3B0001"==contsType?(contsTypeNum="2","1"===exceptAll&&(contsTypeNum="1",MELON.WEBSVC.CM.CONT.getContsIdListFromAlbumId(contsId))):"3C0003"==contsType?contsTypeNum="4":"3C0002"==contsType&&(contsTypeNum="21"),""==paramsName){var obj=eval(formName);if("1"===exceptAll)for(var x=0;x<contsIdList.length;x++)info.append(contsTypeNum,contsIdList[x],menuId);else"2"==contsTypeNum?info.append(contsTypeNum,contsId,menuId,1):info.append(contsTypeNum,contsId,menuId);MelonAPI.action("contentsDownload",info.stringify())}else if("2"==contsTypeNum)info.append(contsTypeNum,contsId,menuId,1),MelonAPI.action("contentsDownload",info.stringify());else if("1"===exceptAll){for(var x=0;x<contsIdList.length;x++)info.append(contsTypeNum,contsIdList[x],menuId);MelonAPI.action("contentsDownload",info.stringify())}else{var obj=eval("document."+formName);if(null==obj)for(var j=0;j<document.forms.length;j++)if(document.forms[j].id==formName){obj=document.forms[j];break}if(null!=obj){for(var i=0;i<obj.elements.length;i++)"checkbox"==obj.elements[i].type&&obj.elements[i].name==paramsName&&obj.elements[i].checked&&info.append(contsTypeNum,obj[i].value,menuId);MelonAPI.action("contentsDownload",info.stringify())}}}else isMelonLogin()?MELON.WEBSVC.CM.CONT.commDl(formName,contsId,contsType,paramsName,buyType,menuId,exceptAll):MELON.WEBSVC.POC.login.loginPopupLayerd();else isMelonLogin()?window.open(url,"chkOcx","width=578,height=616, scrollbars=yes"):MELON.WEBSVC.POC.login.loginPopupLayerd()},goBuyProductNext:function(formName,contsId,contsType,paramsName,buyType,menuId,exceptAll){var isPlugInSetup=!1,fromMPS=getCookie("MPS"),idx=0,domainVar=MELON.WEBSVC.CM.CONT.getDomainMelon(),cnt=0;if(""!=formName&&null!=formName)try{cnt=$("form[name="+formName+"] input:checkbox[name="+paramsName+"]:checked").length}catch(e){}else{formName="tmpFormByComm20140221";var tmpFormByComm20140221=$("#tmpFormByComm20140221");0==tmpFormByComm20140221.length?(tmpFormByComm20140221=document.createElement("form"),tmpFormByComm20140221.name="tmpFormByComm20140221",tmpFormByComm20140221.id="tmpFormByComm20140221",tmpFormByComm20140221.method="POST",$("body").append(tmpFormByComm20140221)):tmpFormByComm20140221.innerHTML="",cnt=$("input:checkbox[name="+paramsName+"]:checked").length}if("0"==buyType||"100"==buyType){if(0==cnt&&""==contsId)return void("3C0001"==contsType?alert("곡을 선택해 주세요."):"3C0003"==contsType?alert("다운받을 강의를 선택해 주세요."):"3B0001"==contsType?alert("앨범을 선택해 주세요."):alert("다운받을 컨텐츠를 선택해 주세요."))}else if(("2"==buyType||"3"==buyType||"4"==buyType||"5"==buyType)&&0==cnt&&""==contsId)return void("3C0001"==contsType?alert("곡을 선택해 주세요."):"3C0003"==contsType?alert("다운받을 강의를 선택해 주세요."):alert("다운받을 컨텐츠를 선택해 주세요."));var params="?formName="+formName+"&byContsId="+contsId+"&contsType="+contsType+"&paramsName="+paramsName+"&buyType="+buyType+"&menuId="+menuId,url="",browser=MELON.WEBSVC.POC.play.browser();if("ie"==browser)url=domainVar+"/commerce/mypage/product/web/producthistory_prodList.htm";else{for(var idx=0;idx<navigator.plugins.length;idx++)if(-1<navigator.plugins[idx].name.indexOf("MelOnWebLinker")){isPlugInSetup=!0;break}url=DeployPhaseUtils.convertUrl("https://www.melon.com/commerce/mypage/product/web/producthistory_prodList.htm")}if("100"!=buyType&&null!=fromMPS&&0<=fromMPS.indexOf("MELONPLAYER")){var info=new MelOnAPIHelper,contsTypeNum="";if("3C0001"==contsType?contsTypeNum="1":"3B0001"==contsType?(contsTypeNum="2","1"===exceptAll&&(contsTypeNum="1",MELON.WEBSVC.CM.CONT.getContsIdListFromAlbumId(contsId))):"3C0003"==contsType?contsTypeNum="4":"3C0002"==contsType&&(contsTypeNum="21"),""==paramsName){var obj=eval(formName);if("1"===exceptAll)for(var x=0;x<contsIdList.length;x++)info.append(contsTypeNum,contsIdList[x],menuId);else"2"==contsTypeNum?info.append(contsTypeNum,contsId,menuId,1):info.append(contsTypeNum,contsId,menuId);MelonAPI.action("contentsDownload",info.stringify())}else if("2"==contsTypeNum)info.append(contsTypeNum,contsId,menuId,1),MelonAPI.action("contentsDownload",info.stringify());else if("1"===exceptAll){for(var x=0;x<contsIdList.length;x++)info.append(contsTypeNum,contsIdList[x],menuId);MelonAPI.action("contentsDownload",info.stringify())}else{var obj=eval("document."+formName);if(null==obj)for(var j=0;j<document.forms.length;j++)if(document.forms[j].id==formName){obj=document.forms[j];break}if(null!=obj){for(var i=0;i<obj.elements.length;i++)"checkbox"==obj.elements[i].type&&obj.elements[i].name==paramsName&&obj.elements[i].checked&&info.append(contsTypeNum,obj[i].value,menuId);MelonAPI.action("contentsDownload",info.stringify())}}}else isMelonLogin()?MELON.WEBSVC.CM.CONT.commDl(formName,contsId,contsType,paramsName,buyType,menuId,exceptAll):MELON.WEBSVC.POC.login.loginPopupLayerd()},goBuyProductArr:function(e,t,a,n,r){var i=document.createElement("form"),o=i.innerHTML="",l="",s="";if(null!=e&&0<e.length){if("3C0001"===t||"3C0003"===t)for(var s="arrContsId",c=0;c<e.length;c++)o+="<input type='checkbox' name='arrContsId' value='"+e[c]+"' checked />";else l=e[0];i.name="commerceArrUniqueForm",i.method="POST",i.id="commerceArrUniqueForm",i.innerHTML=o,i.style.display="none",0==$("#commerceArrUniqueForm").length||$("#commerceArrUniqueForm").remove(),$("body").append(i),MELON.WEBSVC.CM.CONT.goBuyProduct("commerceArrUniqueForm",l,t,s,a,n,r)}},goProduct:function(e,t,a,n){MELON.WEBSVC.CM.CONT.goBuyProductArr(e,t,0,n,0)},informUrl:function(e,t,a,n,r,i,o){var l=MELON.WEBSVC.CM.CONT.getDomainMelon(),s="",e="?formName="+e+"&byContsId="+t+"&contsType="+a+"&paramsName="+n+"&buyType="+r+"&menuId="+i;switch(a){case"3C0001":s=100==parseInt(r)?"/cm/download/song/listFlacView.htm":"/cm/download/song/listView.htm";break;case"3B0001":s="/cm/download/song/listAlbumView.htm";break;case"3C0002":s="/cm/download/mv/listView.htm";break;case"3C0003":s="/cm/download/lang/listView.htm"}return 0==r||10==r||100==r?s=0==r||100==r?"3B0001"==a?l+s+"?paramsName=albumId&albumId="+t+"&exceptAll="+o+"&contsType="+a+"&menuId="+i:l+s+e:l+s+o:3==r?s=l+s+(e+="&changeTabTo=MP3"):4==r?s=l+s+(e+="&changeTabTo=DCF"):5==r||2==r?s=l+s+(e+="&changeTabTo=BUYSONG"):6==r&&(s=l+s+(e+="")),s},commDl:function(e,t,a,n,r,i,o){var l=$("form[name="+e+"]"),e=MELON.WEBSVC.CM.CONT.informUrl(e,t,a,n,r,i,o);"10"==r?document.location.href=e:(window.open("","billingPopup","width=834,height=714, scrollbars=yes"),l.attr("target","billingPopup"),l.attr("action",e),l.attr("method","post"),l.submit())}}}(),MelOnAPIHelper.prototype.append=function(e,t,a,n){var r=this.LIST.length;this.LIST[r]={itemIDType:e,itemID:t,isAlbumOnly:n,statisticID:a}},MelOnAPIHelper.prototype.stringify=function(){return JSON.stringify(this)},Object.defineProperty(Date.prototype,"YYYYMMDDHHMISS",{value:function(){function e(e){return(e<10?"0":"")+e}return this.getFullYear()+e(this.getMonth()+1)+e(this.getDate())+e(this.getHours())+e(this.getMinutes())+e(this.getSeconds())}}),(c=>{function e(e){return Array.prototype.slice.call(e)}function t(){return c().bind.apply(c(c.address),Array.prototype.slice.call(arguments)),c.address}function U(){return("/"+M.pathname.replace(new RegExp(y.state),"")+M.search+(_()?"#"+_():"")).replace(j,"/")}function n(e){return e=e.toString(),(y.strict&&"/"!=e.substr(0,1)?"/":"")+e}function a(e,t){return parseInt(e.css(t),10)}function r(){var e;O||(e=p(),decodeURI(x)!=decodeURI(e)&&(P&&b<7?M.reload():(P&&!k&&y.history&&S(g,50),x=e,u(C))))}function H(){if(L&&-1!=q){for(var e,t=L.substr(q+1).split("&"),a=0;a<t.length;a++)e=t[a].split("="),/^(autoUpdate|history|strict|wrap)$/.test(e[0])&&(y[e[0]]=isNaN(e[1])?/^(true|yes)$/i.test(e[1]):0!==parseInt(e[1],10)),/^(state|tracker)$/.test(e[0])&&(y[e[0]]=e[1]);L=h}x=p()}function R(){var e;K||(K=!0,H(),c('a[rel*="address:"]').address(),y.wrap&&(e=c("body"),c("body > *").wrapAll('<div style="padding:'+(a(e,"marginTop")+a(e,"paddingTop"))+"px "+(a(e,"marginRight")+a(e,"paddingRight"))+"px "+(a(e,"marginBottom")+a(e,"paddingBottom"))+"px "+(a(e,"marginLeft")+a(e,"paddingLeft"))+'px;" />').parent().wrap('<div id="'+f+'" style="height:100%;overflow:auto;position:relative;'+(v&&!window.statusbar.visible?"resize:both;":"")+'" />'),c("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"}),v)&&c('<style type="text/css" />').appendTo("head").text("#"+f+"::-webkit-resizer { background-color: #fff; }"),P&&!k&&(e=N.getElementsByTagName("frameset")[0],(o=N.createElement((e?"":"i")+"frame")).src=Y()+":"+C,e?(e.insertAdjacentElement("beforeEnd",o),e[e.cols?"cols":"rows"]+=",0",o.noResize=!0,o.frameBorder=o.frameSpacing=0):(o.style.display="none",o.style.width=o.style.height=0,o.tabIndex=-1,N.body.insertAdjacentElement("afterBegin",o)),S(function(){c(o).bind("load",function(){var e=o.contentWindow;(x=e[f]!==d?e[f]:"")!=p()&&(u(C),M.hash=x)}),o.contentWindow[f]===d&&g()},50)),S(function(){s("init"),u(C)},1),m()||(P&&7<b||!P&&k?w.addEventListener?w.addEventListener(T,r,C):w.attachEvent&&w.attachEvent("on"+T,r):$(r,50)),"state"in window.history&&c(window).trigger("popstate"))}var d,i,o,l,G,s,m,_,p,Y,u,F,g,h,f,T,W,B,V,C,y,E,b,v,P,w,N,A,M,$,S,j,k,L,q,I,O,K,z,D,x;c.address=(s=function(e){return e=c.extend(c.Event(e),function(){for(var e={},t=c.address.parameterNames(),a=0,n=t.length;a<n;a++)e[t[a]]=c.address.parameter(t[a]);return{value:c.address.value(),path:c.address.path(),pathNames:c.address.pathNames(),parameterNames:t,parameters:e,queryString:c.address.queryString()}}.call(c.address)),c(c.address).trigger(e),e},m=function(){return A.pushState&&y.state!==d},_=function(){var e=M.href.indexOf("#");return-1!=e?M.href.substr(e+1):""},p=function(){return(m()?U:_)()},Y=function(){return"javascript"},u=function(e){return S(F,10),s(W).isDefaultPrevented()||s(e?B:V).isDefaultPrevented()},F=function(){var e,t;"null"!==y.tracker&&y.tracker!==h&&(e=c.isFunction(y.tracker)?y.tracker:w[y.tracker],t=(M.pathname+M.search+(c.address&&!m()?c.address.value():"")).replace(/\/\//,"/").replace(/^\/$/,""),c.isFunction(e)?e(t):c.isFunction(w.urchinTracker)?w.urchinTracker(t):w.pageTracker!==d&&c.isFunction(w.pageTracker._trackPageview)?w.pageTracker._trackPageview(t):w._gaq!==d&&c.isFunction(w._gaq.push)&&w._gaq.push(["_trackPageview",decodeURI(t)]))},g=function(){var e=Y()+":"+C+";document.open();document.writeln('<html><head><title>"+N.title.replace(/\'/g,"\\'")+"</title><script>var "+f+' = "'+encodeURIComponent(p()).replace(/\'/g,"\\'")+(N.domain!=M.hostname?'";document.domain="'+N.domain:"")+"\";<\/script></head></html>');document.close();";b<7?o.src=e:o.contentWindow.location.replace(e)},f="jQueryAddress",T="hashchange",W="change",B="internalChange",y={autoUpdate:!(C=!(V="externalChange")),history:!(h=null),strict:!0,wrap:C},i={},E=(E=navigator.userAgent).toLowerCase(),(E={browser:(E=/(chrome)[ \/]([\w.]+)/.exec(E)||/(webkit)[ \/]([\w.]+)/.exec(E)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(E)||/(msie) ([\w.]+)/.exec(E)||E.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(E)||[])[1]||"",version:E[2]||"0"}).browser&&(i[E.browser]=!0,i.version=E.version),i.chrome?i.webkit=!0:i.webkit&&(i.safari=!0),E=i,b=parseFloat(E.version),v=E.webkit||E.safari,P=!c.support.opacity,w=(()=>{try{return top.document!==d&&top.document.title!==d?top:window}catch(e){return window}})(),N=w.document,A=w.history,M=w.location,$=setInterval,S=setTimeout,j=/\/{2,9}/g,E=navigator.userAgent,k="on"+T in w,L=c("script:last").attr("src"),q=L?L.indexOf("?"):-1,I=N.title,z=!0,D=K=O=C,x=p(),P&&(b=parseFloat(E.substr(E.indexOf("MSIE")+4)),N.documentMode&&N.documentMode!=b&&(b=8!=N.documentMode?7:8),l=N.onpropertychange,N.onpropertychange=function(){l&&l.call(N),N.title!=I&&-1!=N.title.indexOf("#"+p())&&(N.title=I)}),A.navigationMode&&(A.navigationMode="compatible"),"complete"==document.readyState?G=setInterval(function(){c.address&&(R(),clearInterval(G))},50):(H(),c(R)),c(window).bind("popstate",function(){decodeURI(x)!=decodeURI(p())&&(x=p(),u(C))}).bind("unload",function(){w.removeEventListener?w.removeEventListener(T,r,C):w.detachEvent&&w.detachEvent("on"+T,r)}),{bind:function(){return t.apply(this,e(arguments))},unbind:function(){return function(){return c().unbind.apply(c(c.address),Array.prototype.slice.call(arguments)),c.address}.apply(this,e(arguments))},init:function(){return t.apply(this,["init"].concat(e(arguments)))},change:function(){return t.apply(this,[W].concat(e(arguments)))},internalChange:function(){return t.apply(this,[B].concat(e(arguments)))},externalChange:function(){return t.apply(this,[V].concat(e(arguments)))},baseURL:function(){var e=M.href;return-1!=e.indexOf("#")&&(e=e.substr(0,e.indexOf("#"))),e=/\/$/.test(e)?e.substr(0,e.length-1):e},autoUpdate:function(e){return e!==d?(y.autoUpdate=e,this):y.autoUpdate},history:function(e){return e!==d?(y.history=e,this):y.history},state:function(e){var t;return e!==d?(y.state=e,t=U(),y.state!==d&&(A.pushState?"/#/"==t.substr(0,3)&&M.replace(y.state.replace(/^\/$/,"")+t.substr(2)):"/"!=t&&t.replace(/^\/#/,"")!=_()&&S(function(){M.replace(y.state.replace(/^\/$/,"")+"/#"+t)},1)),this):y.state},strict:function(e){return e!==d?(y.strict=e,this):y.strict},tracker:function(e){return e!==d?(y.tracker=e,this):y.tracker},wrap:function(e){return e!==d?(y.wrap=e,this):y.wrap},update:function(){return D=!0,this.value(x),D=C,this},title:function(e){return e!==d?(S(function(){I=N.title=e,z&&o&&o.contentWindow&&o.contentWindow.document&&(o.contentWindow.document.title=e,z=C)},50),this):N.title},value:function(e){if(e===d)return n(x);if(e=n(e),x!=(e="/"==e?"":e)||D){if(x=e,y.autoUpdate||D){if(u(!0))return this;m()?A[y.history?"pushState":"replaceState"]({},"",y.state.replace(/\/$/,"")+(""===x?"/":x)):(O=!0,!v&&x==p()||(y.history?M.hash="#"+x:M.replace("#"+x)),P&&!k&&y.history&&S(g,50),v?S(function(){O=C},1):O=C)}return this}},path:function(e){var t,a;return e!==d?(t=this.queryString(),a=this.hash(),this.value(e+(t?"?"+t:"")+(a?"#"+a:"")),this):n(x).split("#")[0].split("?")[0]},pathNames:function(){var e=this.path(),t=e.replace(j,"/").split("/");return"/"!=e.substr(0,1)&&0!==e.length||t.splice(0,1),"/"==e.substr(e.length-1,1)&&t.splice(t.length-1,1),t},queryString:function(e){var t;return e!==d?(t=this.hash(),this.value(this.path()+(e?"?"+e:"")+(t?"#"+t:"")),this):(e=x.split("?")).slice(1,e.length).join("?").split("#")[0]},parameter:function(e,t,a){var n;if(t!==d){var r=this.parameterNames(),i=[];for(t=t===d||t===h?"":t.toString(),n=0;n<r.length;n++){var o=r[n],l=this.parameter(o);"string"==typeof l&&(l=[l]),o==e&&(l=t===h||""===t?[]:a?l.concat([t]):[t]);for(var s=0;s<l.length;s++)i.push(o+"="+l[s])}return-1==c.inArray(e,r)&&t!==h&&""!==t&&i.push(e+"="+t),this.queryString(i.join("&")),this}if(t=this.queryString()){for(a=[],i=t.split("&"),n=0;n<i.length;n++)(t=i[n].split("="))[0]==e&&a.push(t.slice(1).join("="));if(0!==a.length)return 1!=a.length?a:a[0]}},parameterNames:function(){var e=[];if((t=this.queryString())&&-1!=t.indexOf("="))for(var t=t.split("&"),a=0;a<t.length;a++){var n=t[a].split("=")[0];-1==c.inArray(n,e)&&e.push(n)}return e},hash:function(e){return e!==d?(this.value(x.split("#")[0]+(e?"#"+e:"")),this):(e=x.split("#")).slice(1,e.length).join("#")}}),c.fn.address=function(a){return this.data("address")||this.on("click",function(e){if(e.shiftKey||e.ctrlKey||e.metaKey||2==e.which)return!0;var t=e.currentTarget;c(t).is("a")&&(e.preventDefault(),e=a?a.call(t):/address:/.test(c(t).attr("rel"))?c(t).attr("rel").split("address:")[1].split(" ")[0]:void 0===c.address.state()||/^\/?$/.test(c.address.state())?c(t).attr("href").replace(/^(#\!?|\.)/,""):c(t).attr("href").replace(new RegExp("^(.*"+c.address.state()+"|\\.)"),""),c.address.value(e))}).on("submit",function(e){var t=e.currentTarget;c(t).is("form")&&(e.preventDefault(),e=c(t).attr("action"),t=a?a.call(t):(-1!=e.indexOf("?")?e.replace(/&$/,""):e+"?")+c(t).serialize(),c.address.value(t))}).data("address",!0),this}})(jQuery),(p=>{var u,e={className:"autosizejs",append:"",callback:!1,resizeDelay:10,placeholder:!0},g=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],h=p('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>').data("autosize",!0)[0];(h.style.lineHeight="99px")===p(h).css("lineHeight")&&g.push("lineHeight"),h.style.lineHeight="",p.fn.autosize=function(_){return this.length?(_=p.extend({},e,_||{}),h.parentNode!==document.body&&p(document.body).append(h),this.each(function(){function n(){var a,n=!!window.getComputedStyle&&window.getComputedStyle(o,null);n?(0===(a=o.getBoundingClientRect().width)&&(a=parseInt(n.width,10)),p.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,t){a-=parseInt(n[t],10)})):a=Math.max(l.width(),0),h.style.width=a+"px"}function t(){var e,t,a;u!==o?(a={},u=o,h.className=_.className,r=parseInt(l.css("maxHeight"),10),p.each(g,function(e,t){a[t]=l.css(t)}),p(h).css(a),n(),window.chrome&&(t=o.style.width,o.style.width="0px",o.offsetWidth,o.style.width=t)):n(),h.value=!o.value&&_.placeholder?(p(o).attr("placeholder")||"")+_.append:o.value+_.append,h.style.overflowY=o.style.overflowY,t=parseInt(o.style.height,10),h.scrollTop=0,h.scrollTop=9e4,e=h.scrollTop,r&&r<e?(o.style.overflowY="scroll",e=r):(o.style.overflowY="hidden",e<i&&(e=i)),t!==(e+=s)&&(o.style.height=e+"px",c)&&_.callback.call(o,o)}function e(){clearTimeout(a),a=setTimeout(function(){var e=l.width();e!==m&&(m=e,t())},parseInt(_.resizeDelay,10))}var r,i,a,o=this,l=p(o),s=0,c=p.isFunction(_.callback),d={height:o.style.height,overflow:o.style.overflow,overflowY:o.style.overflowY,wordWrap:o.style.wordWrap,resize:o.style.resize},m=l.width();l.data("autosize")||(l.data("autosize",!0),"border-box"!==l.css("box-sizing")&&"border-box"!==l.css("-moz-box-sizing")&&"border-box"!==l.css("-webkit-box-sizing")||(s=l.outerHeight()-l.height()),i=Math.max(parseInt(l.css("minHeight"),10)-s||0,l.height()),l.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===l.css("resize")||"vertical"===l.css("resize")?"none":"horizontal"}),"onpropertychange"in o?"oninput"in o?l.on("input.autosize keyup.autosize",t):l.on("propertychange.autosize",function(){"value"===event.propertyName&&t()}):l.on("input.autosize",t),!1!==_.resizeDelay&&p(window).on("resize.autosize",e),l.on("autosize.resize",t),l.on("autosize.resizeIncludeStyle",function(){u=null,t()}),l.on("autosize.destroy",function(){u=null,clearTimeout(a),p(window).off("resize",e),l.off("autosize").off(".autosize").css(d).removeData("autosize")}),t())})):this}})(window.jQuery||window.$),((d,m)=>{var n=d.MELON||(d.MELON={}),c=(n.CMTPGN=n.CMTPGN||{},n.CMTPGN.Config=n.CMTPGN.Config||{},n.CMTPGN.Global=n.CMTPGN.Global||{},n.CMTPGN.Sqwidget=n.CMTPGN.Sqwidget||{},n.CMTPGN.Api=n.CMTPGN.Api||{},n.CMTPGN.Util=n.CMTPGN.Util||{},n.CMTPGN.Msg=n.CMTPGN.Msg||{},n.CMTPGN.Ui=n.CMTPGN.Ui||{},n.CMTPGN.Config),_=n.CMTPGN.Global,l=(n.CMTPGN.Sqwidget,n.CMTPGN.Api),p=n.CMTPGN.Util,r=n.CMTPGN.Msg,e=(n.CMTPGN.Util.log=function(){},n.CMTPGN.Util.isCmtpgnHashed=function(){var e=d.location?d.location.toString():"";return p.log("__util.isCmtpgnHashed() s=["+e+"]"),e&&-1!==e.indexOf("#cmtpgn=")},n.CMTPGN.Util.makeRefreshHashString=function(){return"cmtpgn=&focus="+(new Date).getTime()},n.CMTPGN.Util.makeCmtpgnUrlHashString=function(e,t,a,n,r,i){return!0===t?"cmtpgn=&pageNo="+(a=!0===p.isEmpty(a)?_.C_CMT_DFLT_PAGE_NO:a):(!0===p.isEmpty(a)&&(a=_.C_CMT_DFLT_PAGE_NO),!0===p.isEmpty(n)&&(n=_.C_CMT_DFLT_SORT_TYPE),!0===p.isEmpty(r)&&(r=_.C_CMT_DFLT_SRCH_TYPE),!0===p.isEmpty(m.trim(i))&&(i=_.C_CMT_DFLT_SRCH_WORD),"cmtpgn=&pageNo="+a+"&sortType="+n+"&srchType="+r+"&srchWord="+encodeURIComponent(i))},n.CMTPGN.Util.makeMusicSrchHashString=function(e,t,a,n){return"cmtpgn=&pageNo="+e+"&musicType="+t+"&sortType="+a+"&srchWord="+encodeURIComponent(n)},n.CMTPGN.Util.getXssFilterText=function(e){return e=!0!==p.isEmpty(e)?p.replaceAll(e,"\0",""):e},n.CMTPGN.Util.getValueFromUrl=function(e,t){e=decodeURIComponent(e);t=new RegExp("[#?&]"+t+"=([^&]+)(&|$)"),e=e.match(t);return e?e[1]:""},n.CMTPGN.Util.getValueFromCmtpgnUrl=function(e,t){e=decodeURIComponent(e);t=new RegExp("cmtpgn?.*[?&]"+t+"=([^&]+)(&|$)"),e=e.match(t);return e?e[1]:""},n.CMTPGN.Util.getValueFromHash=function(e,t){e=decodeURIComponent(e);t=new RegExp("[#?&]"+t+"=([^&]+)(&|$)"),e=e.match(t);return e?e[1]:""},n.CMTPGN.Util.getNumberOnly=function(e){e=e.match(/[0-9]+/g);return e?e[0]:"0"},n.CMTPGN.Util.getNumericDsplyFormat=function(e){return!0===p.isDefined(e)&&!0!==p.isEmpty(e)?999999<Number(e)?p.addComma("999999")+"+":p.addComma(e):"0"},n.CMTPGN.Util.getDateDsplyFormat=function(e){var t,a;return!0===p.isDefined(e)&&!0!==p.isEmpty(e)&&(t=4<=e.length?e.substring(0,4):"",a=6<=e.length?e.substring(4,6):"",e=8<=e.length?e.substring(6,8):"",""!==t)&&""!==a&&""!==e?t+"."+a+"."+e:""},n.CMTPGN.Util.getGuideDsplyFormat=function(e){if(!0===p.isEmpty(e))return"";for(var t=e.split("\n"),a="",n=0,r=t.length;n<r;n++)!0!==p.isEmpty(t[n])&&(a+='<p class="ancm d_cmtpgn_cmt_guide">'+t[n]+"</p>");return a},n.CMTPGN.Util.getHighlightDsplyFormat=function(e,t,a){t=new RegExp("("+t+")","gi");return e.replace(t,"<"+a+' class="text_search">$1</'+a+">")},n.CMTPGN.Util.getHighlightNameFormat=function(e,t){var a=new RegExp("("+t+")","gi"),n=e.replace(a,'<strong class="text_search">$1</strong>'),r=(p.log("getHighlightNameFormat, f=["+n+"]"),'<strong class="text_search">'+t+"</strong>"),e=new RegExp(r),i=n.match(e),o="";if(!0!==p.isEmpty(i)&&0<i.length){p.log("getHighlightNameFormat, match.length=["+i.length+"], match is",i);for(var l=0;l<i.length;l++)o+='<span class="txt">'+n.substring(0,n.indexOf(r))+"</span>"+r,n=n.substring(n.indexOf(r)+r.length,n.length);p.log("getHighlightNameFormat, matched, t=["+o+"], f=["+n+"]"),!0!==p.isEmpty(n)&&(o=o+'<span class="txt">'+n+"</span>"),p.log("getHighlightNameFormat, result, t=["+o+"], remain f=["+n+"]")}else o=n;return o},n.CMTPGN.Util.getCmtTextEditFormat=function(e){return!0!==p.isEmpty(e)?(e=(e=e.replace(/\s*/,"")).replace(/\s+$/,""),e=(e=(e=p.getXssFilterText(e)).replace(/\r\n/g,"\n")).replace(/\n/g,"\\n"),m("body").append('<div id="_realCmntContText" style="display:none;"></div>'),m("#_realCmntContText").html(e),e=m("#_realCmntContText").html(),m("#_realCmntContText").remove(),e.replace(/\\n/g,"\n")):""},n.CMTPGN.Util.getCmtTextDsplyFormat=function(e){return!0!==p.isEmpty(e)?(e=(e=e.replace(/\s*/,"")).replace(/\s+$/,""),p.getXssFilterText(e)):""},n.CMTPGN.Util.getBreakWordCheckFormat=function(e){return e},n.CMTPGN.Util.getTextSize=function(e){if(!0===p.isEmpty(e))return 0;if(!0!==_.C_TEXT_ELLIPSE_BY_BYTE)return e.length;for(var t=0,a=0,n=e.length;a<n;a++)t+=255<e.charCodeAt(a)?2:1;return t},n.CMTPGN.Util.getTextByte=function(e){for(var t=0,a=0,n=e.length;a<n;a++)t+=255<e.charCodeAt(a)?2:1;return t},n.CMTPGN.Util.findEllipseCutOffset=function(e,t){if(!0===p.isEmpty(e))return 0;if(!0!==_.C_TEXT_ELLIPSE_BY_BYTE)return e.length>t?t:e.length;for(var a=e,n=0,r=0,r=0,i=a.length;r<i;r++)if(t<(n+=255<a.charCodeAt(r)?2:1))return r;return r},n.CMTPGN.Util.findLineBreakOffset=function(e,t){var a=p.getTextDsplyLines(e);if(t<a)for(;t<a;)e=e.substring(0,e.length-1),a=p.getTextDsplyLines(e);return e.length},n.CMTPGN.Util.getEditAreaRect=function(e,t,a){var n={width:0,height:0};switch(e){case _.C_TEMPLATE_TYPE_PC_SUMRY:case _.C_TEMPLATE_TYPE_PC_REVIEW:case _.C_TEMPLATE_TYPE_PC_EVALUE:case _.C_TEMPLATE_TYPE_PC_EVENT:case _.C_TEMPLATE_TYPE_PC_QNA:switch(t){case _.C_TEXTAREA_TYPE_LARGE:switch(a){case _.C_TEXT_DUMMY_LEVEL_WRITE:n.width=780,n.height=35;break;case _.C_TEXT_DUMMY_LEVEL_MODIFY:n.width=620,n.height=35;break;default:n.width=652,n.height=0}break;case _.C_TEXTAREA_TYPE_MEDIUM:switch(a){case _.C_TEXT_DUMMY_LEVEL_WRITE:n.width=510,n.height=35;break;case _.C_TEXT_DUMMY_LEVEL_MODIFY:n.width=337,n.height=35;break;default:n.width=449,n.height=0}break;case _.C_TEXTAREA_TYPE_SMALL:switch(a){case _.C_TEXT_DUMMY_LEVEL_WRITE:n.width=354,n.height=61;break;case _.C_TEXT_DUMMY_LEVEL_MODIFY:n.width=354,n.height=50;break;default:n.width=338,n.height=0}}break;case _.C_TEMPLATE_TYPE_PC_LIST:switch(t){case _.C_TEXTAREA_TYPE_LARGE:switch(a){case _.C_TEXT_DUMMY_LEVEL_WRITE:case _.C_TEXT_DUMMY_LEVEL_MODIFY:n.width=780,n.height=35}break;case _.C_TEXTAREA_TYPE_MEDIUM:switch(a){case _.C_TEXT_DUMMY_LEVEL_WRITE:case _.C_TEXT_DUMMY_LEVEL_MODIFY:n.width=593,n.height=35}break;case _.C_TEXTAREA_TYPE_SMALL:switch(a){case _.C_TEXT_DUMMY_LEVEL_WRITE:n.width=354,n.height=61;break;case _.C_TEXT_DUMMY_LEVEL_MODIFY:n.width=354,n.height=50}}break;case _.C_TEMPLATE_TYPE_MOBLE_WRITE:switch(a){case _.C_TEXT_DUMMY_LEVEL_WRITE:n.width=354,n.height=61;break;case _.C_TEXT_DUMMY_LEVEL_MODIFY:n.width=354,n.height=50}break;case _.C_TEMPLATE_TYPE_MOBLE_LIST:switch(t){case _.C_TEXTAREA_TYPE_LARGE:switch(a){case _.C_TEXT_DUMMY_LEVEL_WRITE:case _.C_TEXT_DUMMY_LEVEL_MODIFY:n.width=780,n.height=35}break;case _.C_TEXTAREA_TYPE_MEDIUM:switch(a){case _.C_TEXT_DUMMY_LEVEL_WRITE:case _.C_TEXT_DUMMY_LEVEL_MODIFY:n.width=593,n.height=35}break;case _.C_TEXTAREA_TYPE_SMALL:switch(a){case _.C_TEXT_DUMMY_LEVEL_WRITE:n.width=354,n.height=61;break;case _.C_TEXT_DUMMY_LEVEL_MODIFY:n.width=354,n.height=50}break;default:n.width=244,n.height=35}}return p.log("__util.getEditAreaRect using templateType=["+e+"], textareaType=["+t+"], dummyLevel=["+a+"], RECT.width=["+n.width+"], RECT.height=["+n.height+"]"),n},n.CMTPGN.Util.getAdcmtInputWidth=function(e,t){var a=0;switch(e){case _.C_TEMPLATE_TYPE_PC_SUMRY:case _.C_TEMPLATE_TYPE_PC_REVIEW:case _.C_TEMPLATE_TYPE_PC_EVALUE:case _.C_TEMPLATE_TYPE_PC_EVENT:case _.C_TEMPLATE_TYPE_PC_QNA:switch(t){case _.C_TEXTAREA_TYPE_LARGE:a=540;break;case _.C_TEXTAREA_TYPE_MEDIUM:a=269;break;case _.C_TEXTAREA_TYPE_SMALL:a=240}break;case _.C_TEMPLATE_TYPE_PC_LIST:switch(t){case _.C_TEXTAREA_TYPE_LARGE:a=705;break;case _.C_TEXTAREA_TYPE_MEDIUM:a=425;break;case _.C_TEXTAREA_TYPE_SMALL:a=325}}return p.log("__util.getAdcmtInputWidth using templateType=["+e+"], textareaType=["+t+"], width=["+a+"]"),a},n.CMTPGN.Util.getAtachMultipleArtistDsplyMaxWidth=function(e,t,a){var n=0;switch(e){case _.C_TEMPLATE_TYPE_PC_SUMRY:case _.C_TEMPLATE_TYPE_PC_REVIEW:case _.C_TEMPLATE_TYPE_PC_EVALUE:case _.C_TEMPLATE_TYPE_PC_EVENT:case _.C_TEMPLATE_TYPE_PC_QNA:switch(t){case _.C_TEXTAREA_TYPE_LARGE:switch(a){case _.C_ATACH_TYPE_MUSIC_SONG:case _.C_ATACH_TYPE_MUSIC_ALBUM:n=270;break;case _.C_ATACH_TYPE_VIDEO:n=280}break;case _.C_TEXTAREA_TYPE_MEDIUM:switch(a){case _.C_ATACH_TYPE_MUSIC_SONG:case _.C_ATACH_TYPE_MUSIC_ALBUM:case _.C_ATACH_TYPE_VIDEO:n=140}break;case _.C_TEXTAREA_TYPE_SMALL:switch(a){case _.C_ATACH_TYPE_MUSIC_SONG:n=95;break;case _.C_ATACH_TYPE_MUSIC_ALBUM:case _.C_ATACH_TYPE_VIDEO:n=200}}break;case _.C_TEMPLATE_TYPE_PC_LIST:switch(t){case _.C_TEXTAREA_TYPE_LARGE:switch(a){case _.C_ATACH_TYPE_MUSIC_SONG:n=270;break;case _.C_ATACH_TYPE_MUSIC_ALBUM:n=580;break;case _.C_ATACH_TYPE_VIDEO:n=500}break;case _.C_TEXTAREA_TYPE_MEDIUM:switch(a){case _.C_ATACH_TYPE_MUSIC_SONG:n=210;break;case _.C_ATACH_TYPE_MUSIC_ALBUM:n=420;break;case _.C_ATACH_TYPE_VIDEO:n=380}break;case _.C_TEXTAREA_TYPE_SMALL:switch(a){case _.C_ATACH_TYPE_MUSIC_SONG:n=95;break;case _.C_ATACH_TYPE_MUSIC_ALBUM:case _.C_ATACH_TYPE_VIDEO:n=200}}}return p.log("__util.getAtachMultipleArtistDsplyMaxWidth using templateType=["+e+"], textareaType=["+t+"], atachType=["+a+"], width=["+n+"]"),n},n.CMTPGN.Util.setDummyTextAreaRect=function(e,t,a){e=p.getEditAreaRect(e,t,a),t=m("#"+c.C_CMT_DUMMY_TEXTAREA_NAME);Number(t.width())!==e.width&&t.width(e.width)},n.CMTPGN.Util.getTextDsplyLines=function(e){var t=m("#"+c.C_CMT_DUMMY_TEXTAREA_NAME),e=(t.val(e),parseInt(t.css("lineHeight"),10)),e=(isNaN(e)&&(e=10.5),document.getElementById(c.C_CMT_DUMMY_TEXTAREA_NAME).scrollHeight,Math.floor(document.getElementById(c.C_CMT_DUMMY_TEXTAREA_NAME).scrollHeight/e));return t.val(""),e},n.CMTPGN.Util.getCmtSumryDsplyInfo=function(e,t,a){if(!0===p.isEmpty(a))return{dsplyText:"",expandBtn:!1};a=p.getCmtTextEditFormat(a),p.setDummyTextAreaRect(e,t,_.C_TEXT_DUMMY_LEVEL_DSPLY);for(var n,r=a.split("\n"),i=[],o=r.length>_.C_CMT_TEXT_DSPLY_LINES?r.length:_.C_CMT_TEXT_DSPLY_LINES,l=0;l<o;l++)n=r[l],p.log("__util.getCmtSumryDsplyInfo testText["+l+"]=["+n+"]"),!0===p.isEmpty(n)?i.push("\n"):i.push(n+"\n");var s,c,e=i.join(""),t=p.findLineBreakOffset(e,_.C_CMT_TEXT_DSPLY_LINES),d=e.substring(0,t);return p.log("__util.getCmtSumryDsplyInfo fullText=["+a+"]"),p.log("__util.getCmtSumryDsplyInfo logicalText=["+e+"]"),p.log("__util.getCmtSumryDsplyInfo offsetText=["+d+"]"),p.log("__util.getCmtSumryDsplyInfo fullLength=["+a.length+"], logicalLength=["+e.length+"], offsetLength=["+t+"]"),a.length<=e.length&&a.length<=d.length?(s=a.split("\n").join("<br />"),c=!1,p.log("__util.getCmtSumryDsplyInfo USING origText")):(s=d.substring(0,d.length).split("\n").join("<br />"),c=!0,p.log("__util.getCmtSumryDsplyInfo USING ellipseText")),!0===c&&(s+=_.C_TEXT_ELLIPSE_TEXT_TAIL),{expandBtn:c,dsplyText:s}},n.CMTPGN.Util.getCmtSumryDsplyText=function(e){var t=p.getTextSize(e),a=p.findEllipseCutOffset(e,160);return p.log("__util.getCmtSumryDsplyText textSize=["+t+"], ellipseCutOffset=["+a+"], ellipseCutBase=[160]"),160<t?e.substring(0,a)+_.C_TEXT_ELLIPSE_TEXT_TAIL:e},n.CMTPGN.Util.getCmtSumryTitleText=function(e){var t;return!0===p.isEmpty(e)?"":(t=(e=p.getCmtTextEditFormat(e)).split("\n"),p.isDefined(t.length)&&0<t.length?t[0]:e)},n.CMTPGN.Util.adjustMultipleArtistDsply=function(e){var t=e.find(".d_cmtpgn_multiartist_ellipsis_tester");setTimeout(function(){t.each(function(e){m(this).closest(".ellipsis").is("div")?(p.log("adjustMultipleArtistDsply() d_cmtpgn_multiartist_ellipsis_tester IN, html=["+m(this).html()+"], width=["+m(this).width()+"], p-width=["+m(this).closest("div").width()+"], target=["+m(this).closest("div").next().is(".d_cmtpgn_multiple_artist")+"]"),m(this).width()>m(this).closest("div").width()&&m(this).closest("div").next(".d_cmtpgn_multiple_artist").css("display","inline")):(p.log("adjustMultipleArtistEdit() d_cmtpgn_multiartist_ellipsis_tester IN, html=["+m(this).html()+"], width=["+m(this).width()+"], p-width=["+m(this).parent().width()+"], target=["+m(this).parent().next().is(".d_cmtpgn_multiple_artist")+"]"),m(this).width()>m(this).parent().width()&&m(this).parent().next(".d_cmtpgn_multiple_artist").css("display","inline"))})},0)},n.CMTPGN.Util.adjustCmtAtachText=function(e){p.adjustMultipleArtistDsply(e),e.find(".d_cmtpgn_multiline_ellipsis").multilineEllipsis(_.C_ATACH_TITLE_DSPLY_LINES)},n.CMTPGN.Util.setSpamTimer=function(e){p.log("@__util.setSpamTimer() executed. time=["+e+"]"),0<Number(e)&&(p.setCookie(_.C_TIMER_COOKIE_NAME,(new Date).getTime()),p.log("__util.setSpamTimer() setted. C_TIMER_COOKIE_NAME=["+_.C_TIMER_COOKIE_NAME+"]=["+p.getCookie(_.C_TIMER_COOKIE_NAME)+"]")),p.log("@__util.setSpamTimer() executed done.")},n.CMTPGN.Util.checkSpamTimer=function(e){if(p.log("@__util.checkSpamTimer() executed. time=["+e+"]"),0<Number(e)){var t=60*Number(e)*1e3,a=p.getCookie(_.C_TIMER_COOKIE_NAME),n=(new Date).getTime();if(p.log("__util.checkSpamTimer() checked. timer=["+_.C_TIMER_COOKIE_NAME+"]=["+a+"] vs current=["+n+"]"),a&&0<t){n=t-(n-a);if(p.log("__util.checkSpamTimer() alerted. 재등록시간 제한=["+t+" ms] vs 잔여=["+n+" ms, "+Math.round(n/6e4)+" min]"),0<n)return alert(p.format(r.MW003,e)),!1}}return p.log("@__util.checkSpamTimer() executed done."),!0},n.CMTPGN.Util.getImageUploadName=function(e){p.log("@__util.getImageUploadName() executed.");var t=new Date,a=t.getHours(),a=a<10?"0"+a:a,n=t.getMinutes(),n=n<10?"0"+n:n,r=t.getSeconds(),r=r<10?"0"+r:r,t=t.getMilliseconds(),t=t<10?"000"+t:t<100?"00"+t:t<1e3?"0"+t:t,a="hhmmss_ms".replace(/hh/g,a).replace(/mm/g,n).replace(/ss/g,r).replace(/ms/g,t)+"."+e.substr(e.lastIndexOf(".")+1);return p.log("@__util.getImageUploadName() executed done. targetFileName=["+a+"]"),a},n.CMTPGN.Util.getImageUploadPath=function(e){p.log("@__util.getImageUploadPath() executed. memberKey=["+e+"]");var t=new Date,a=t.getFullYear(),n=t.getMonth()+1,n=n<10?"0"+n:n,t=t.getDate(),t=t<10?"0"+t:t,a="yyyyMMdd".replace(/yyyy/g,a).replace(/MM/g,n).replace(/dd/g,t),n=(p.log("__util.getImageUploadPath() executed. datePath=["+a+"]"),""),n=5<e.length?e.substring(e.length-5):4<e.length?"0"+e.substring(e.length-4):3<e.length?"00"+e.substring(e.length-3):2<e.length?"000"+e.substring(e.length-2):1<e.length?"0000"+e.substring(e.length-1):"00000",t=(p.log("__util.getImageUploadPath() executed. memberPath=["+n+"]"),n.substring(0,3)),e=n.substring(3,5),n=(p.log("__util.getImageUploadPath() executed. memberPrePath=["+t+"], memberPrePath=["+e+"]"),"/"+a+"/"+t+"/"+e);return p.log("__util.getImageUploadPath() executed done. targetFilePath=["+n+"]"),n},n.CMTPGN.Util.isDefined=function(e){return void 0!==e},n.CMTPGN.Util.isArray=Array.isArray||function(e){return e&&!!e.push},n.CMTPGN.Util.isEmpty=function(e,t){return!0!==p.isDefined(t)||!0!==p.isDefined(n.WEBSVC.tmpInput)||"placeholder"in n.WEBSVC.tmpInput?null==e||""===e||p.isArray(e)&&0===e.length:null==e||""===e||p.isArray(e)&&0===e.length||m(t).attr("placeholder")===m(t).val()},n.CMTPGN.Util.isString=function(e){return"string"==typeof e},n.CMTPGN.Util.isBoolean=function(e){return"boolean"==typeof e},n.CMTPGN.Util.isElement=function(e){return!!e&&1===e.nodeType},n.CMTPGN.Util.isTextNode=function(e){return!!e&&"#text"===e.nodeName},n.CMTPGN.Util.addComma=function(e){for(var e=(e+="").split("."),t=e[0],e=1<e.length?"."+e[1]:"",a=/(\d+)(\d{3})/;a.test(t);)t=t.replace(a,"$1,$2");return t+e},n.CMTPGN.Util.replaceAll=function(e,t,a){return t.constructor===RegExp?e.replace(new RegExp(t.toString().replace(/^\/|\/$/gi,""),"gi"),a):e.split(t).join(a)},n.CMTPGN.Util.toArray=function(e){return Array.prototype.slice.apply(e,Array.prototype.slice.call(arguments,1))},n.CMTPGN.Util.format=function(e){var a=p.toArray(arguments).slice(1);return e.replace(/\{([0-9]+)\}/g,function(e,t){return a[t]})},n.CMTPGN.Util.setCookie=function(e,t,a){a=a||{};e=e+"="+d.escape(t)+(a.expires?"; expires="+a.expires.toGMTString():"")+(a.path?"; path="+a.path:"")+(a.domain?"; domain="+a.domain:"")+(a.secure?"; secure":"");d.document.cookie=e},n.CMTPGN.Util.getCookie=function(e){var t=";"+d.document.cookie.replace(/ /g,"")+";",e=";"+e+"=",a=t.indexOf(e);return-1!==a?(e=t.indexOf(";",a+=e.length),d.unescape(t.substr(a,e-a))):""},n.CMTPGN.Util.removeCookie=function(e){d.document.cookie=e+"=;expires=Fri, 31 Dec 1987 23:59:59 GMT;"},n.CMTPGN.Util.parseUrl=function(e){p.isDefined(e)&&2<e.length&&"/"===e[0]&&"/"===e[1]?e=d.location.protocol+e:p.isDefined(e)||(e=d.location.href);for(var t={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},a=t.parser[t.strictMode?"strict":"loose"].exec(e),n={},r=14;r--;)n[t.key[r]]=a[r]||"";e={};return""!==n.protocol&&(e.scheme=n.protocol),""!==n.host&&(e.host=n.host),""!==n.port&&(e.port=n.port),""!==n.user&&(e.user=n.user),""!==n.password&&(e.pass=n.password),""!==n.path&&(e.path=n.path),""!==n.query&&(e.query=n.query),""!==n.anchor&&(e.fragment=n.anchor),e},n.CMTPGN.Util.parseQuery=function(e){if(!e)return{};for(var t,a=((e=0<e.length&&0<e.indexOf("?")?e.substr(e.indexOf("?")+1):e)+"").split("&"),n={},r=0,i=a.length,r=0;r<i;r++)t=a[r].split("="),n[d.unescape(t[0])]=d.unescape(t[1]).replace(/[+]/g," ");return n},n.CMTPGN.Util.popupCoords=function(e,t){var a=d.screenLeft||d.screenX,n=d.screenTop||d.screenY;return{left:a+(d.outerWidth||d.document.documentElement.clientWidth)/2-e/2,top:n+(d.outerHeight||d.document.documentElement.clientHeight)/2-t/2-25}},n.CMTPGN.Util.openPopup=function(e,t,a,n,r){r=m.extend({menubar:"no",toolbar:"no",resizable:"yes",scrollbars:"yes"},r);var i=p.popupCoords(a=a||600,n=n||400);d.open(e,t,"app_,menubar="+r.menubar+",toolbar="+r.toolbar+",resizable="+r.resizable+",scrollbars="+r.scrollbars+",location=yes,height="+n+",width="+a+",top="+i.top+",left="+i.left)},n.CMTPGN.Util.buildResourcePath=function(e,t,a,n){function r(e){return 0===e.search(/^[a-z]+:\/\//)||0===e.search(/^\//)}return e=m.trim(e),t=m.trim(t),a=m.trim(a),n=m.trim(n),p.log("buildResourcePath in host=["+e+"], path=["+t+"], item=["+a+"], ext=["+n+"]"),!0!==r(a)&&(a="/"+a),0<n.length&&a.lastIndexOf("."+n)!==a.length-n.length-1&&(a+="."+n),!0!==r(t)&&(t="/"+t),0<e.length&&e.match(/\/$/),p.log("buildResourcePath out host+path+item+ext=["+e+t+a+"]"),e+t+a},n.CMTPGN.Util.validUrl=function(e){return!!(e=m.trim(e))&&/^https?:\/\/([\w\-]+\.)+/.test(e)},n.CMTPGN.Util.textLength=function(e){return(e||"").length},n.CMTPGN.Ui.customTag=function(e){m(e).each(function(e,t){var n=t.getElementsByTagName("input"),r=Array();for(a=0;a<n.length;a++)"checkbox"!=n[a].type&&"radio"!=n[a].type||"styled"!=n[a].className||"SPAN"!=n[a].parentNode.firstElementChild.nodeName&&(r[a]=document.createElement("span"),r[a].className=n[a].type,1==n[a].checked&&(position="checkbox"==n[a].type?"0 -"+2*checkboxHeight+"px":"0 -"+2*radioHeight+"px",r[a].style.backgroundPosition=position),n[a].parentNode.insertBefore(r[a],n[a]),n[a].onchange=Custom.clear,n[a].getAttribute("disabled")?r[a].className=r[a].className+=" disabled":(r[a].onmousedown=Custom.pushed,r[a].onmouseup=Custom.check));var i,o,l,s=t.getElementsByTagName("select"),c=Array();for(a=0;a<s.length;a++)if("styled"==s[a].className){for(o=s[a].getElementsByTagName("option"),l=o[0].childNodes[0].nodeValue,i=document.createTextNode(l),b=0;b<o.length;b++)1==o[b].selected&&(i=document.createTextNode(o[b].childNodes[0].nodeValue));c[a]=document.createElement("span"),c[a].className="select",c[a].id="select"+s[a].name,c[a].appendChild(i),s[a].parentNode.insertBefore(c[a],s[a]),s[a].getAttribute("disabled")?s[a].previousSibling.className=s[a].previousSibling.className+=" disabled":s[a].onchange=Custom.choose}})},_.C_REQUEST_HANDLER=[],_.C_STATUS_SUCCESS="0",_.C_STATUS_FAIL="1",_.C_STATUS_TIMEOUT="999",_.C_ERROR_CODE_SUCCESS="200",_.C_ERROR_CODE_INVALID_REQUEST="400",_.C_ERROR_CODE_NEED_LOGIN="401",_.C_ERROR_CODE_NO_AUTHORITY="403",_.C_ERROR_CODE_NOT_FOUND="404",_.C_ERROR_CODE_INTERNAL_ERROR="500",_.C_EMPTY_KEY=-1,_.C_TEMPLATE_TYPE_PC_SUMRY="pc-summary-type",_.C_TEMPLATE_TYPE_PC_REVIEW="pc-review-type",_.C_TEMPLATE_TYPE_PC_EVALUE="pc-evalue-type",_.C_TEMPLATE_TYPE_PC_EVENT="pc-event-type",_.C_TEMPLATE_TYPE_PC_QNA="pc-qna-type",_.C_TEMPLATE_TYPE_PC_LIST="pc-list-type",_.C_TEMPLATE_TYPE_MOBLE_LIST="mobile-list-page",_.C_TEMPLATE_TYPE_MOBLE_VIEW="mobile-view-page",_.C_TEMPLATE_TYPE_MOBLE_WRITE="mobile-write-page",_.C_PAGE_TYPE_GENERIC="generic-page",_.C_PAGE_TYPE_SONG="song-page",_.C_PAGE_TYPE_PHOTO="photo-page",_.C_PAGE_TYPE_GUESTBOOK="guestbook-page",_.C_TEXTAREA_TYPE_LARGE="large-size",_.C_TEXTAREA_TYPE_MEDIUM="medium-size",_.C_TEXTAREA_TYPE_SMALL="small-size",_.C_TABLE_HEADER_TYPE_MAX="max",_.C_TABLE_HEADER_TYPE_MID="mid",_.C_TABLE_HEADER_TYPE_MIN="min",_.C_TABLE_COLSPAN_SIZE_MAP=[],_.C_TABLE_COLSPAN_SIZE_MAP.max=7,_.C_TABLE_COLSPAN_SIZE_MAP.mid=6,_.C_TABLE_COLSPAN_SIZE_MAP.min=5,_.C_TEXT_DUMMY_LEVEL_WRITE=1,_.C_TEXT_DUMMY_LEVEL_MODIFY=2,_.C_TEXT_DUMMY_LEVEL_DSPLY=3,_.C_TIMER_COOKIE_NAME="TIMERCOOKIE",_.C_ATACH_ALLOW_EXT_LIST=["png","jpg","jpeg","gif"],_.C_SITE_URL_TITLE_MAP=[],_.C_SITE_URL_TITLE_MAP["www.youtube.com"]="YouTube",_.C_SITE_URL_TITLE_MAP["m.youtube.com"]="YouTube",_.C_SITE_URL_TITLE_MAP["youtube.com"]="YouTube",_.C_SITE_URL_TITLE_MAP["youtu.be"]="YouTube",_.C_SITE_NAME_MAP=[],_.C_SITE_NAME_MAP.facebook="페이스북",_.C_SITE_NAME_MAP.twitter="트위터",_.C_SITE_NAME_MAP.cyworld="싸이월드",_.C_SITE_NAME_MAP.nateon="네이트온",_.C_SITE_NAME_MAP.youtube="유튜브",_.C_CHNL_SNS_PAGE_MAP=[],_.C_CHNL_SNS_PAGE_MAP[101]="art",_.C_CHNL_SNS_PAGE_MAP[102]="alb",_.C_CHNL_SNS_PAGE_MAP[104]="mvd",_.C_CHNL_SNS_PAGE_MAP[302]="oab",_.C_CHNL_SNS_PAGE_MAP[303]="oab",_.C_CHNL_SNS_PAGE_MAP[304]="ply",_.C_CHNL_SNS_PAGE_MAP[305]="apl",_.C_CHNL_SNS_PAGE_MAP[501]="mus",_.C_CMT_INITIAL_TOTAL_CNT=-1,_.C_CMT_INITIAL_VALID_CNT=-1,_.C_CMT_INITIAL_START_SEQ=-1,_.C_CMT_INITIAL_PAGE_SIZE=-1,_.C_CMT_SORT_TYPE_RECENT=0,_.C_CMT_SORT_TYPE_RECM=1,_.C_CMT_SORT_TYPE_ADCMT=2,_.C_CMT_SRCH_TYPE_NONE=0,_.C_CMT_SRCH_TYPE_MEMBER=1,_.C_CMT_SRCH_TYPE_CONTS=2,_.C_CMT_MIN_SRCH_WORD=1,_.C_CMT_MAX_SRCH_WORD=100,_.C_CMT_DFLT_PAGE_NO=1,_.C_CMT_DFLT_SORT_TYPE=_.C_CMT_SORT_TYPE_RECENT,_.C_CMT_DFLT_SRCH_TYPE=_.C_CMT_SRCH_TYPE_CONTS,_.C_CMT_DFLT_SRCH_WORD="",_.C_ALBUM_DFLT_SRCH_IMG=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/default/noAlbum_38.jpg"),_.C_ARTIST_DFLT_SRCH_IMG=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/default/noArtist_34.jpg"),_.C_VIDEO_DFLT_SRCH_IMG=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/default/noMovie_16x9_60.jpg"),_.C_ALBUM_DFLT_DSPLY_IMG=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/default/noAlbum_114.jpg"),_.C_ARTIST_DFLT_DSPLY_IMG=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/default/noArtist_100.jpg"),_.C_VIDEO_DFLT_DSPLY_IMG=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/default/noMovie_16x9_240.jpg"),_.C_PHOTO_DFLT_DSPLY_IMG=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/default/noAlbum_200.jpg"),_.C_MYPAGE_DFLT_DSPLY_IMG=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr//resource/image/cmt/web/common/noArtist02_54.jpg"),_.C_MOBILE_VIDEO_DFLT_SRCH_IMG=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/cds/comment/mobile2/thumb_music_default_03.jpg"),_.C_MOBILE_VIDEO_DFLT_DSPLY_IMG=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/cds/comment/mobile2/thumb_music_default_03.jpg"),_.C_MOBILE_ALBUM_DFLT_SRCH_IMG=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/cds/comment/mobile2/thumb_music_default.jpg"),_.C_MOBILE_ALBUM_DFLT_DSPLY_IMG=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/cds/comment/mobile2/thumb_music_default.jpg"),_.C_MOBILE_ARTIST_DFLT_SRCH_IMG=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/cds/comment/mobile2/thumb_default_02.jpg"),_.C_MOBILE_ARTIST_DFLT_DSPLY_IMG=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/cds/comment/mobile2/thumb_default_02.jpg"),_.C_CMT_TEXT_DSPLY_LINES=21,_.C_ATACH_TITLE_DSPLY_LINES=2,_.C_ATACH_SUBTITLE_DSPLY_LINES=1,_.C_TEXT_ELLIPSE_BY_BYTE=!0,_.C_TEXT_ELLIPSE_TEXT_TAIL=" ..",_.C_ATACH_TYPE_TEXT="text",_.C_ATACH_TYPE_MUSIC="music",_.C_ATACH_TYPE_MUSIC_SONG="music_song",_.C_ATACH_TYPE_MUSIC_ALBUM="music_album",_.C_ATACH_TYPE_MUSIC_ARTIST="music_artist",_.C_ATACH_TYPE_IMAGE="image",_.C_ATACH_TYPE_VIDEO="video",_.C_ATACH_TYPE_LINK="link",_.C_ATACH_TYPE_LINK_VIDEO="link_video",_.C_ATACH_TYPE_LINK_GENRL="link_genrl",_.C_ATACH_MELON_SRCH_TYPE_SONG="song",_.C_ATACH_MELON_SRCH_TYPE_ALBUM="album",_.C_ATACH_MELON_SRCH_TYPE_ARTIST="artist",_.C_ATACH_MELON_SRCH_TYPE_VIDEO="video",_.C_ATACH_MELON_SORT_TYPE_RATE=0,_.C_ATACH_MELON_SORT_TYPE_POPULAR=1,_.C_ATACH_MELON_SORT_TYPE_RECENT=2,_.C_ATACH_MELON_SORT_TYPE_NAME=3,_.C_ATACH_MELON_SRCH_TYPE_SONG_INITIAL_SORT_TYPE=_.C_ATACH_MELON_SORT_TYPE_RATE,_.C_ATACH_MELON_SRCH_TYPE_ALBUM_INITIAL_SORT_TYPE=_.C_ATACH_MELON_SORT_TYPE_RECENT,_.C_ATACH_MELON_SRCH_TYPE_ARTIST_INITIAL_SORT_TYPE=_.C_ATACH_MELON_SORT_TYPE_RATE,_.C_ATACH_MELON_SRCH_TYPE_VIDEO_INITIAL_SORT_TYPE=_.C_ATACH_MELON_SORT_TYPE_RATE,_.C_ATACH_MELON_DSPLY_SUGGEST_SIZE=10,_.C_ATACH_MELON_DSPLY_SUGGEST_AR_SIZE=3,_.C_ATACH_MELON_DSPLY_SUGGEST_SO_SIZE=3,_.C_ATACH_MELON_DSPLY_SUGGEST_AL_SIZE=2,_.C_ATACH_MELON_DSPLY_PAGE_SIZE=5,_.C_ATACH_MELON_DSPLY_GROUP_SIZE=5,_.C_ATACH_MELON_DFLT_PAGE_NO=1,_.C_ATACH_MELON_MIN_SRCH_WORD=1,_.C_ATACH_MELON_MAX_SRCH_WORD=100,_.C_MELON_LANDING_TYPE_SONG_PAGE="song-page-landing",_.C_MELON_LANDING_TYPE_ALBUM_PAGE="album-page-landing",_.C_MELON_LANDING_TYPE_ARTIST_PAGE="artist-page-landing",_.C_MELON_LANDING_TYPE_VIDEO_PAGE="video-page-landing",_.C_API_NAME_PGN_LOAD="pgn.load",_.C_API_NAME_CMT_LIST="cmt.list",_.C_API_NAME_CMT_INFORM="cmt.inform",_.C_API_NAME_CMT_REG="cmt.reg",_.C_API_NAME_CMT_UPDT="cmt.updt",_.C_API_NAME_CMT_DEL="cmt.del",_.C_API_NAME_CMT_VIEW="cmt.view",_.C_API_NAME_ADCMT_LIST="adcmt.list",_.C_API_NAME_ADCMT_REG="adcmt.reg",_.C_API_NAME_ADCMT_DEL="adcmt.del",_.C_API_NAME_RECM_REG="recm.reg",_.C_API_NAME_REPRT_REG="reprt.reg",_.C_API_NAME_REPRT_INFORM_ILLEGAL_REPRT_URL="reprt.informIllegalReprtUrl",_.C_API_NAME_ATACH_MELON_SRCH="atach.melon.srch",_.C_API_NAME_ATACH_MELON_SRCH_SUGGEST="atach.melon.srch.suggest",_.C_API_NAME_ATACH_MELON_SRCH_SUGGEST_CONTS="atach.melon.srch.suggestConts",_.C_API_NAME_ATACH_LINK_VIDEO_OEMBED="atach.link.video.oembed",_.C_API_NAME_ATACH_IMAGE_CDN_AUTH="atach.image.cdn.auth",p.parseUrl());function i(r,e,t,a,i,o){document.domain="melon.com",p.log("@_callApi() executed. reqId=["+(o?o.reqId:"N/A")+"], api=["+r+"], url=["+e+"], type=["+a+"]"),!0!==p.isDefined(o)&&(o={}),m.extend(o,{reqId:r+"."+(new Date).getTime(),reqMethod:a,reqTime:(new Date).getTime()}),_.C_REQUEST_HANDLER[o.reqId]=o,p.log("@_callApi() executed. reqId=["+o.reqId+"], api=["+r+"], url=["+e+"], type=["+a+"], data is",t),p.log("@_callApi() executed. reqId=["+o.reqId+"], api=["+r+"], url=["+e+"], type=["+a+"], backdata is",o);var n,l=_.C_REQUEST_HANDLER[o.reqId],s=i,t=(!0===p.isDefined(l.loader)&&-1<c.C_LOADING_DELAY&&d.setTimeout(function(){p.log("_callApi() loading handler executed. reqId=["+o.reqId+"], loading handler execution=["+(!0!==p.isEmpty(_.C_REQUEST_HANDLER[l.reqId])?"DO-LOADING":"DO-NOTHING")+"], editingCmtSeq=["+p.isDefined(l.editingCmtSeq)+"]"),!0!==p.isEmpty(_.C_REQUEST_HANDLER[o.reqId])&&(p.isDefined(l.editingCmtSeq)?l.loader(l.editingCmtSeq):l.loader())},c.C_LOADING_DELAY),d.setTimeout(function(){var e;p.log("_callApi() timeout handler executed. reqId=["+o.reqId+"], timeout handler execution=["+(!0!==p.isEmpty(_.C_REQUEST_HANDLER[o.reqId])?"DO-FALLBACK":"DO-NOTHING")+"]"),!0!==p.isEmpty(_.C_REQUEST_HANDLER[l.reqId])&&(_.C_REQUEST_HANDLER[l.reqId]=null,s)&&((e={}).STATUS=_.C_STATUS_TIMEOUT,e.backdata=l,s(e))},c.C_TIMEOUT_DELAY),t=t,p.log("_serializeData() executed. data is",t),n={},m.each(t,function(a,e){p.log("_serializeData() key=["+a+"], value=["+e+"], typeof(value)=["+typeof e+"]"),!0===p.isArray(e)?m.each(e,function(e,t){p.log("_serializeData() innerKey=["+e+"], innerValue=["+t+"], typeof(innerValue)=["+typeof t+"]"),n[a+"["+e+"]"]=t}):!0===p.isDefined(e)&&(n[a]=e)}),p.log("_serializeData() executed done. _data is",n),n);_.G_IMGUPHANDLER=_imageAtachUploadHandler,null!==a&&"GET"===a.toUpperCase()?m.executeApi({api:r,url:e,type:a,data:m.extend({_method:a},t),callback:i,backdata:o,success:function(e){var t,a,n=!1;!0!==p.isEmpty(_.C_REQUEST_HANDLER[o.reqId])?(p.log("_callApi() success. reqId=["+o.reqId+"], request handler is exists. CALLBACK & FLUSH."),t=(new Date).getTime(),a=_.C_REQUEST_HANDLER[o.reqId].reqTime,_.C_REQUEST_HANDLER[o.reqId]=null,p.log("_callApi() success. reqId=["+o.reqId+"] execution time=["+t+" - "+a+"]=["+(t-a)+" ms]")):(p.log("_callApi() success. reqId=["+o.reqId+"], request handler is empty. ABANDON."),n=!0),p.log("_callApi() success. reqId=["+o.reqId+"], abandon=["+n+"]"),!0!==p.isDefined(e)&&((e={}).STATUS=_.C_STATUS_FAIL,e.ERRORCODE=_.C_ERROR_CODE_INTERNAL_ERROR),e.backdata=o,!0!==n&&i&&(r===_.C_API_NAME_ATACH_IMAGE_CDN_AUTH&&(e.STATUS=_.C_STATUS_SUCCESS),i(e))}}):(_.G_BACKDATA=o,_.G_CALLBACK=i,e={api:r,url:e,type:a,data:m.extend({_method:a},t),callback:i,backdata:o,success:function(e){var t,a,n=!1;!0!==p.isEmpty(_.C_REQUEST_HANDLER[o.reqId])?(p.log("_callApi() success. reqId=["+o.reqId+"], request handler is exists. CALLBACK & FLUSH."),t=(new Date).getTime(),a=_.C_REQUEST_HANDLER[o.reqId].reqTime,_.C_REQUEST_HANDLER[o.reqId]=null,p.log("_callApi() success. reqId=["+o.reqId+"] execution time=["+t+" - "+a+"]=["+(t-a)+" ms]")):(p.log("_callApi() success. reqId=["+o.reqId+"], request handler is empty. ABANDON."),n=!0),p.log("_callApi() success. reqId=["+o.reqId+"], abandon=["+n+"]"),!0!==p.isDefined(e)&&((e={}).STATUS=_.C_STATUS_FAIL,e.ERRORCODE=_.C_ERROR_CODE_INTERNAL_ERROR),e.backdata=o,!0!==n&&i&&(r===_.C_API_NAME_ATACH_IMAGE_CDN_AUTH&&(e.STATUS=_.C_STATUS_SUCCESS),i(e))}},m("#d_cmtpgn_tunnel_frame")[0].contentWindow.postMessage(JSON.parse(JSON.stringify(e)),"*"))}c.C_CMTPGN_VER="",c.C_IS_LOCAL=-1<e.host.indexOf("local.cmt.melon.com"),c.C_CHARSET="utf-8",c.C_AUTOMATIC=!1,c.C_MELON_HOST=DeployPhaseUtils.convertUrl("https://ticket.melon.com"),c.C_CDN_UPLOAD_HOST=DeployPhaseUtils.convertUrl("https://cmtimgup.melon.com"),c.C_CDN_DOWNLOAD_HOST=DeployPhaseUtils.convertUrl("https://cmtimg.melon.co.kr"),c.C_CMT_HOST=!0===c.C_IS_LOCAL?"http://local.cmt.melon.com:8080":DeployPhaseUtils.convertUrl("https://cmt.melon.com"),c.C_BASE_PATH="/cmt",c.C_PLUGIN_PATH="/plugin",c.C_PLUGIN_VERSION_PATH=p.isEmpty(c.C_CMTPGN_VER)?"":"/"+c.C_CMTPGN_VER,c.C_TEMPLATE_PATH=c.C_PLUGIN_VERSION_PATH+"/template",c.C_HTML_PATH=c.C_PLUGIN_VERSION_PATH+"/html",c.C_API_PATH="/api",c.C_API_VERSION_PATH=p.isEmpty(c.C_CMTPGN_VER)?"":"/"+c.C_CMTPGN_VER,c.C_API_PREFIX=c.C_API_VERSION_PATH+"/api_",c.C_TUNNEL_HTML="melonweb_cmtpgn_tunnel2.html",c.C_TUNNEL_HTML_URL=p.buildResourcePath(c.C_CMT_HOST,c.C_BASE_PATH+c.C_PLUGIN_PATH+c.C_TEMPLATE_PATH,c.C_TUNNEL_HTML),c.C_REPRT_HTML="cmtpgn_popup_reprt.htm",c.C_REPRT_HTML_URL=p.buildResourcePath("","/common/popup",c.C_REPRT_HTML),c.C_YOUTUBE_HTML="melonweb_cmtpgn_popup_youtube.html",c.C_YOUTUBE_HTML_URL=p.buildResourcePath(c.C_CMT_HOST,c.C_BASE_PATH+c.C_PLUGIN_PATH+c.C_HTML_PATH,c.C_YOUTUBE_HTML),c.C_M_IMAGE_VIEW_HTML="melonweb_cmtpgn_m_image_view.html",c.C_M_IMAGE_VIEW_HTML_URL=p.buildResourcePath(c.C_CMT_HOST,c.C_BASE_PATH+c.C_PLUGIN_PATH+c.C_HTML_PATH,c.C_M_IMAGE_VIEW_HTML),c.C_CDN_THUMBNAIL_POSTFIX="/melon/resize/192x192/",c.C_CDN_ORIGINAL_POSTFIX="/melon/resize/496x496/",c.C_CDN_AUTH_URL=c.C_CDN_UPLOAD_HOST+"/auth/authhs_jsonp.php",c.C_CDN_UPLOAD_URL=c.C_CDN_UPLOAD_HOST+"/hs_upload_jsonp_html2.php",c.C_TEMPLATE_FILE_MAP=[],c.C_TEMPLATE_FILE_MAP[_.C_TEMPLATE_TYPE_PC_SUMRY]=!0===c.C_IS_LOCAL?"melonweb_cmtpgn_template_pc_sumry_type.html":"melonweb_cmtpgn_template_pc_sumry_type.js",c.C_TEMPLATE_FILE_MAP[_.C_TEMPLATE_TYPE_PC_REVIEW]=!0===c.C_IS_LOCAL?"melonweb_cmtpgn_template_pc_sumry_type.html":"melonweb_cmtpgn_template_pc_review_type.js",c.C_TEMPLATE_FILE_MAP[_.C_TEMPLATE_TYPE_PC_EVALUE]=!0===c.C_IS_LOCAL?"melonweb_cmtpgn_template_pc_sumry_type.html":"melonweb_cmtpgn_template_pc_evalue_type.js",c.C_TEMPLATE_FILE_MAP[_.C_TEMPLATE_TYPE_PC_EVENT]=!0===c.C_IS_LOCAL?"melonweb_cmtpgn_template_pc_sumry_type.html":"melonweb_cmtpgn_template_pc_event_type.js",c.C_TEMPLATE_FILE_MAP[_.C_TEMPLATE_TYPE_PC_QNA]=!0===c.C_IS_LOCAL?"melonweb_cmtpgn_template_pc_sumry_type.html":"melonweb_cmtpgn_template_pc_qna_type.js",c.C_MELON_LANDING_BASE_URL_MAP=[],c.C_MELON_LANDING_BASE_URL_MAP[_.C_MELON_LANDING_TYPE_SONG_PAGE]=c.C_MELON_HOST+"/song/detail.htm?songId=",c.C_MELON_LANDING_BASE_URL_MAP[_.C_MELON_LANDING_TYPE_ALBUM_PAGE]=c.C_MELON_HOST+"/album/detail.htm?albumId=",c.C_MELON_LANDING_BASE_URL_MAP[_.C_MELON_LANDING_TYPE_ARTIST_PAGE]=c.C_MELON_HOST+"/artist/index.htm?artistId=",c.C_MELON_LANDING_BASE_URL_MAP[_.C_MELON_LANDING_TYPE_VIDEO_PAGE]=c.C_MELON_HOST+"/video/detail.htm?mvId=",c.C_LOADING_DELAY=4e3,c.C_TIMEOUT_DELAY=12e3,c.C_CMT_DUMMY_FORM_NAME="d_cmtpgn_dummy_form",c.C_CMT_DUMMY_TEXTAREA_NAME="d_cmtpgn_dummy_textarea",c.C_POC_CONTS_DOWNLOAD_AVAIL_COUNT=200,c.C_POC_CONTS_TYPE_SONG_CODE="3C0001",c.C_POC_CONTS_TYPE_ALBUM_CODE="3B0001",c.C_POC_BUY_TYPE_ME_CODE=0,c.C_POC_BUY_TYPE_ALBUM_SONG_CODE=1,c.C_ALBUM_VA_REP_ARTIST_ID=2727,r.MW000="로그인 후 작성하실 수 있습니다.",r.MW001="로그인 후 작성하실 수 있습니다. 로그인 하시겠습니까?",r.MW002="죄송합니다.\n관리자에 의해 글쓰기가 제한되었습니다.\n1:1문의하기를 통해 제한 해제를 요청해주세요.",r.MW003="죄송합니다.\n도배글 등을 방지하기 위해 {0}분간 사용이 제한됩니다.\n잠시 후 다시 시도해주시기 바랍니다.",r.MW004="죄송합니다.\n도배글 등을 방지하기 위해 붙여넣기를 하실 수 없습니다.",r.MW005="입력하신 글자 수가 초과되었습니다.",r.MW006="작성하신 글 중 {0} 은(는) 금칙어 입니다. 수정 후 등록해주세요.",r.MW007="{0}자 이상의 글을 작성해주세요.",r.MW008="등록이 완료되었습니다.",r.MW009="좋아요 반영되었습니다.",r.MW010="좋아요를 취소 하시겠습니까?",r.MW011="로그인 후 사용하실 수 있습니다. 로그인 하시겠습니까?",r.MW042="삭제하시겠습니까?\n다른 회원님들께서 작성하신 댓글도 함께 삭제됩니다.",r.MW050="이미지 용량이 너무 큽니다. {0} 이하로 등록해주세요.",r.MW051="이미지 파일은 {0}만 등록 가능합니다.",r.MW064="링크 첨부는 유튜브 영상 링크만 가능합니다.",r.MW065="수정을 취소하시겠습니까?",r.MW066="삭제하시겠습니까?",r.MW067="신고 내용이 접수되었습니다.",r.MW112="추천 되었습니다.",r.MW113="비추천 되었습니다.",r.MW114="이미 추천 하셨습니다.",r.MW115="이미 비추천 하셨습니다.",r.CMTPGN000="접속이 지연되고 있습니다.\n잠시 후 다시 이용해 주시기 바랍니다.\n이용에 불편을 드려 대단히 죄송합니다",r.CMTPGN001="첨부 가능한 설정이 아닙니다.",r.CMTPGN002="업로드 중 오류가 발생했습니다. 잠시후 이용해주세요.",r.CMTPGN003="글번호가 생성되지 않았습니다. 잠시후 이용해주세요.",r.CMTPGN004="첨부 실행 정보가 없습니다.",r.CMTPGN005="더보기 할 내용이 없습니다.",r.CMTPGN006="작성자가 아닙니다.",r.CMTPGN007="본인이 작성한 글은 추천 또는 비추천 할 수 없습니다.",r.CMTPGN008="본인이 작성한 글은 신고할 수 없습니다.",r.CMTPGN009="삭제된 글을 삭제할 수 없습니다.",r.CMTPGN010="삭제된 글을 삭제할 수 없습니다.",r.CMTPGN011="삭제된 글에는 댓글을 작성할 수 없습니다.",r.CMTPGN012="삭제된 글에는 댓글을 작성할 수 없습니다.",r.CMTPGN013="삭제된 글을 추천 또는 비추천 할 수 없습니다.",r.CMTPGN014="삭제된 글을 추천 또는 비추천 할 수 없습니다.",r.CMTPGN015="삭제된 글을 신고할 수 없습니다.",r.CMTPGN016="삭제된 글을 신고할 수 없습니다.",r.CMTPGN017="영상정보 확인이 안되는 유튜브 링크입니다.",r.CMTPGN018="음악 첨부된 {0} 글",r.CMTPGN019="사진 첨부된 {0} 글",r.CMTPGN020="영상 첨부된 {0} 글",r.CMTPGN021="링크 첨부된 {0} 글",r.CMTPGN998="접속이 지연되고 있습니다.\n잠시 후 다시 확인해 주시기 바랍니다.\n이용에 불편을 드려 대단히 죄송합니다",r.CMTPGN999="접속이 지연되고 있습니다.\n잠시 후 다시 이용해 주시기 바랍니다.\n이용에 불편을 드려 대단히 죄송합니다",r.CMTPGN101="검색할 항목을 선택해주세요.",r.CMTPGN102="검색어를 입력해주세요.",r.CMTPGN103="검색어는 최소 {0}자 이상 입력해주세요.",r.CMTPGN104="검색어는 최대 {0}자 이하 입력해주세요.",r.CMTPGN105="내용을 입력해주세요.",r.CMTPGN106="{0}자 이상, {1}자 이하의 글로 작성해주세요.",r.CMTPGN107="첨부는 최대 {0}개만 가능합니다.",r.CMTPGN108="첨부할 이미지파일을 선택해주세요.",r.CMTPGN109="http:// 를 포함한 링크주소를 입력하세요.",r.CMTPGN110="첨부가능한 링크주소가 아닙니다.",r.CMTPGN111="첨부제한된 링크주소 입니다.",r.CMTPGN112="신고사유를 선택해주세요.",r.CMTPGN113="기타사유를 입력해주세요.",r.CMTPGN114="이미 요청을 처리중 입니다. 잠시만 기다려 주세요.",r.CMTPGN115="글수정은 한개씩 가능합니다. 수정중인 글을 완료후 수정해주세요.",r.CMTPGN116="읽기만 가능한 페이지입니다.",r.CMTPGN301="등록하시겠습니까?",r.CMTPGN302="등록되었습니다.",r.CMTPGN303="수정하시겠습니까?",r.CMTPGN304="수정되었습니다.",r.CMTPGN305="저장하시겠습니까?",r.CMTPGN306="저장되었습니다.",r.CMTPGN307="삭제하시겠습니까?\n다른 회원님들께서 작성하신 댓글도 함께 삭제됩니다.",r.CMTPGN308="삭제되었습니다.",r.CMTPGN309="신고하시겠습니까?",r.CMTPGN310="신고되었습니다.",r.CMTPGN501="Facebook 계정연결이 필요합니다.\n계정 연결 후 다시 시도해주세요.",r.CMTPGN502="Facebook 계정연결 유효기간이 만료되었습니다. \n연결된 Facebook 계정을 해제 후\n다시 연결하여 시도해주세요.",r.CMTPGN503="Twitter 계정연결이 필요합니다.\n계정 연결 후 다시 시도해주세요.",r.CMTPGN504="Twitter 계정연결 유효기간이 만료되었습니다.\n연결된 Twitter 계정을 해제 후\n다시 연결하여 시도해주세요.",r.CMTPGN505="죄송합니다.\n잠시 후 다시 시도해주세요.",r.CMTPGN506="동시쓰기 처리중 오류가 발생했습니다.",r.CMTPGN601="앨범페이지로 이동하시겠습니까?",r.CMTPGN602="이 곡은 권리사의 요청으로 앨범단위 구매만 가능합니다. 앨범페이지로 이동하시겠습니까?",r.CMTPGN603="이 앨범에는 권리사의 요청으로 앨범단위 구매만 가능한 곡이 포함되어 있습니다. 앨범페이지로 이동하시겠습니까?",r.CMTPGN604="이 앨범은 할인이 적용됩니다. 앨범페이지로 이동하시겠습니까?",r.CMTPGN605="앨범 수록곡이 200곡 초과 일 시 앨범다운은 200곡까지만 가능합니다. 앨범페이지로 이동하시겠습니까?",r.CMTPGN701="* 게시된 글의 저작권은 글을 작성한 회원에게 있으며 게시물로 인해 발생하는 문제는 게시자 본인에게 책임이 있습니다.",r.CMTPGN702="댓글을 입력해 주세요.",r.CMTPGN703="* 게시된 글의 저작권은 글을 작성한 회원에게 있으며 게시물로 인해 발생하는 문제는 게시자 본인에게 책임이 있습니다.\n* 게시판에 고객님의 연락처, 주소 등의 개인정보가 포함된 글을 올리실 경우에는 타인에게 해당 정보가 노출될 수 있으니 게재를 삼가하여 주시기 바랍니다.",r.CDN02="업로드한 파일이 HTML 폼에서 지정한 MAX_FILE_SIZE 지시어보다 큽니다.",r.CDN03="파일이 일부분만 전송되었습니다.",r.CDN04="파일이 전송되지 않았습니다.",r.CDN06="서버의 임시 폴더가 없습니다.",r.CDN07="디스크에 파일 쓰기를 실패했습니다.",r.CDN08="확장에 의해 파일 업로드가 중지되었습니다.",r.CDN09="업로드 도중 에러가 발생 되었습니다.",r.CDN91="이미지 용량이 너무 큽니다. 10MB 이하로 등록해주세요.",r.CDN94="업로드 인증이 실패했습니다.",r.CDN95="인증키가 없습니다.",r.CDN96="overWrite 파라메터가 없습니다.",r.CDN98="uploadFile 파라메터가 없습니다.",r.CDN99="POST Method 로 전송되지 않았습니다.",p.log("melon_cmtpgn_api.js LOADED.");var o=c.C_CMT_HOST+c.C_BASE_PATH+c.C_API_PATH+c.C_API_PREFIX;n.CMTPGN.Api.pgn={},n.CMTPGN.Api.cmt={},n.CMTPGN.Api.adcmt={},n.CMTPGN.Api.recm={},n.CMTPGN.Api.reprt={},n.CMTPGN.Api.atach={},n.CMTPGN.Api.atach.melon={},n.CMTPGN.Api.atach.image={},n.CMTPGN.Api.atach.image.cdn={},n.CMTPGN.Api.atach.link={},n.CMTPGN.Api.atach.link.video={},n.CMTPGN.Api.pgn.load=function(e,t,a){return i(_.C_API_NAME_PGN_LOAD,o+"loadPgn.json",e,"GET",t,a)},n.CMTPGN.Api.cmt.list=function(e,t,a){return i(_.C_API_NAME_CMT_LIST,o+"listCmt.json",e,"GET",t,a)},n.CMTPGN.Api.cmt.inform=function(e,t,a){return i(_.C_API_NAME_CMT_INFORM,o+"informCmt.json",e,"GET",t,a)},n.CMTPGN.Api.cmt.reg=function(e,t,a){return i(_.C_API_NAME_CMT_REG,o+"insertCmt.json",e,"POST",t,a)},n.CMTPGN.Api.cmt.updt=function(e,t,a){return i(_.C_API_NAME_CMT_UPDT,o+"updateCmt.json",e,"POST",t,a)},n.CMTPGN.Api.cmt.del=function(e,t,a){return i(_.C_API_NAME_CMT_DEL,o+"deleteCmt.json",e,"POST",t,a)},n.CMTPGN.Api.cmt.view=function(e,t,a){return i(_.C_API_NAME_CMT_VIEW,o+"storeCmtView.json",e,"POST",t,a)},n.CMTPGN.Api.adcmt.list=function(e,t,a){return i(_.C_API_NAME_ADCMT_LIST,o+"listAdcmt.json",e,"GET",t,a)},n.CMTPGN.Api.adcmt.reg=function(e,t,a){return i(_.C_API_NAME_ADCMT_REG,o+"insertAdcmt.json",e,"POST",t,a)},n.CMTPGN.Api.adcmt.del=function(e,t,a){return i(_.C_API_NAME_ADCMT_DEL,o+"deleteAdcmt.json",e,"POST",t,a)},n.CMTPGN.Api.recm.reg=function(e,t,a){return i(_.C_API_NAME_RECM_REG,o+"insertRecm.json",e,"POST",t,a)},n.CMTPGN.Api.reprt.reg=function(e,t,a){return i(_.C_API_NAME_REPRT_REG,o+"insertReprt.json",e,"POST",t,a)},n.CMTPGN.Api.reprt.informIllegalReprtUrl=function(e,t,a){return i(_.C_API_NAME_REPRT_INFORM_ILLEGAL_REPRT_URL,o+"informIllegalReprtUrl.json",e,"POST",t,a)},n.CMTPGN.Api.atach.melon.srch=function(e,t,a){return i(_.C_API_NAME_ATACH_MELON_SRCH,o+"listMusic.json",e,"GET",t,a)},n.CMTPGN.Api.atach.melon.suggest=function(e,t,a){return i(_.C_API_NAME_ATACH_MELON_SRCH_SUGGEST,o+"listMusicKeyword.json",e,"GET",t,a)},n.CMTPGN.Api.atach.melon.suggestConts=function(e,t,a){return i(_.C_API_NAME_ATACH_MELON_SRCH_SUGGEST_CONTS,o+"listMusicKeywordConts.json",e,"GET",t,a)},n.CMTPGN.Api.atach.image.cdn.auth=function(e,t,a){var n=c.C_CDN_AUTH_URL;return i(_.C_API_NAME_ATACH_IMAGE_CDN_AUTH,n,e,"GET",t,a)},n.CMTPGN.Api.atach.link.video.oembed=function(e,t,a){i(_.C_API_NAME_ATACH_LINK_VIDEO_OEMBED,o+"informOembed.json",e,"GET",t,a)},m.extend({executeApi:function(e){p.log("executeApi() settings is",e);var t={api:void 0,url:void 0,data:void 0,callback:void 0,backdata:void 0,type:"POST",success:function(e){},error:function(e){}};e&&m.extend(t,e),null!==t.type&&"GET"===t.type.toUpperCase()?(p.log("executeApi() using _ajaxJSONP() REQUESTING=["+e.url+"]"),m.ajax({async:!0,dataType:"jsonp",type:"GET",api:t.api,url:t.url,data:t.data,callback:t.callback,backdata:t.backdata,success:t.success,error:t.error})):(p.log("executeApi() using _ajaxIFRAME() REQUESTING=["+e.url+"]"),_ajaxIFRAME())}}),m.fn.multilineEllipsis=function(o){return this.each(function(){var e=m(this),t=e.text(),a=e.width(),n=e.height(),r=parseInt(e.css("line-height"),10)||16,i=(p.log("multilineEllipsis() text=["+t+"], width=["+a+"], height=["+n+"], lineHeight=["+r+"], lines=["+Math.round(n/r)+"]"),Math.round(n/r));if(o<i){for(;o<i;)e.text(e.text().substring(0,e.text().length-1)),i=Math.round(e.height()/r);t=e.text(),a=p.getTextByte(t),n=(p.log("multilineEllipsis() breaking-text=["+t+"], length=["+t.length+"], byte=["+a+"]"),p.findEllipseCutOffset(t,10<a?a-10:a));e.text(t.substring(0,n)+_.C_TEXT_ELLIPSE_TEXT_TAIL),p.log("multilineEllipsis() ellipsis-text=["+e.text()+"], length=["+e.text().length+"], byte=["+p.getTextByte(e.text())+"]")}})},m.fn.singlelineEllipsis=function(){return this.each(function(){var e=m(this),t=e.text(),a=e.width(),n=e.height(),r=parseInt(e.css("line-height"),10)||16,i=(p.log("singlelineEllipsis() text=["+t+"], width=["+a+"], height=["+n+"], lineHeight=["+r+"], lines=["+Math.round(n/r)+"]"),Math.round(n/r));if(1<i){for(;1<i;)e.text(e.text().substring(0,e.text().length-1)),i=Math.round(e.height()/r);t=e.text(),a=p.getTextByte(t),n=(p.log("singlelineEllipsis() breaking-text=["+t+"], length=["+t.length+"], byte=["+a+"]"),p.findEllipseCutOffset(t,10<a?a-10:a));e.text(t.substring(0,n)+_.C_TEXT_ELLIPSE_TEXT_TAIL),p.log("singlelineEllipsis() ellipsis-text=["+e.text()+"], length=["+e.text().length+"], byte=["+p.getTextByte(e.text())+"]")}})},!0===p.isDefined(n.WEBSVC)&&(n.WEBSVC.define("CMTPGN.CmtTextCounter",function(){var s=n.WEBSVC.browser,t=n.WEBSVC.string.byteLength,c=n.WEBSVC.string.charsByByte,e=n.WEBSVC.Class({name:"CmtTextCounter",$extend:n.PBPGN.View,$statics:{ON_TEXTCOUNT_CHANGE:"textcounterchange"},defaults:{countType:"char",limit:100,limitClassName:""},initialize:function(e,t){this.supr(e,t);var r=this;r.currentLength=0,r.placeholder="placeholder"in n.WEBSVC.tmpInput?"":r.$el.attr("placeholder"),n.WEBSVC.browser.isGecko&&r._forceKeyup(),r.on("keydown keypress keyup cut paste blur",function(e){var t=e.which||e.keyCode,a=r._checkLimit(),n=r._checkNext();if("keydown"===e.type||"keypress"===e.type){if(n&&13===t)return r._truncateValue(),r.trigger("textcounterchange",[r.currentLength]),e.preventDefault(),!1}else"keyup"===e.type&&a&&(alert("입력하신 글자 수가 초과되었습니다."),this.focus());"blur"!=e.type&&r.trigger("textcounterchange",[r.currentLength])}),r._checkLimit(),r.trigger("textcounterchange",[r.currentLength])},textLength:function(e){return"byte"===this.options.countType?t(e):(e||"").length},_checkLimit:function(){var e=this,t=e.options,a=!1,n="";return!0!==p.isEmpty(t.limitClassName)?m(e.$el[0]).parent().find(t.limitClassName).each(function(e){n+=m(m(this)[0]).val()}):n=m(e.$el[0]).val(),e.currentLength=e.textLength(n),e.currentLength>t.limit&&(e._truncateValue(),a=!0),a},_checkNext:function(){var e=this,t=e.options,a=!1,n="";return!0!==p.isEmpty(t.limitClassName)?m(e.$el[0]).parent().find(t.limitClassName).each(function(e){n+=m(m(this)[0]).val()}):n=m(e.$el[0]).val(),e.currentLength=e.textLength(n),a=e.currentLength>=t.limit?!0:a},_truncateValue:function(){var t,e,a,n=this,r=n.$el,i=n.options,o=n.options.limit,l=s.isOldIE&&r[0].value===n.placeholder?"":m(r[0]).val();0===o?(m(r[0]).val(n.placeholder),n.currentLength=o):o<n.currentLength&&(!0===p.isEmpty(i.limitClassName)?(e="byte"===n.options.countType?c(l,o):o,r[0].blur(),m(r[0]).val(l.substring(0,e)),r[0].focus(),n.currentLength=o):(t=0,r.prevAll(i.limitClassName).each(function(e){"none"!==m(this).css("display")&&(t+=n.textLength(m(m(this)[0]).val()))}),e=n.textLength(m(r[0]).val()),a=0,r.nextAll(i.limitClassName).each(function(e){"none"!==m(this).css("display")&&(a+=n.textLength(m(m(this)[0]).val()))}),i=t+e+a-o,r[0].blur(),m(r[0]).val(l.substring(0,e-i)),r[0].focus(),n.currentLength=t+e+a-i))},_forceKeyup:function(){var e,t=this,a=t.$el[0],n=d,r=document,i=r.createEvent?function(){var e;n.KeyEvent?(e=r.createEvent("KeyEvents")).initKeyEvent("keyup",!0,!0,n,!1,!1,!1,!1,65,0):((e=r.createEvent("UIEvents")).initUIEvent("keyup",!0,!0,n,1),e.keyCode=65),a.dispatchEvent(e)}:function(){var e=r.createEventObject();e.keyCode=65,a.fireEvent("onkeyup",e)};t.timer=null,t.on("focus",function(){t.timer||(t.timer=setInterval(function(){e!==a.value&&(e=a.value,i())},60))}).on("blur",function(){t.timer&&(clearInterval(t.timer),t.timer=null)})},destroy:function(){this.timer&&clearInterval(this.timer),this.supr()}});return n.WEBSVC.bindjQuery(e,"cmtTextCounter"),e}),n.WEBSVC.define("CMTPGN.CmtTextControl",function(){var a=n.WEBSVC.Class({name:"CmtTextControl",$extend:n.PBPGN.View,$statics:{ON_INIT:"init",ON_CHANGE:"textcontrolchange"},defaults:{countType:"char",limit:100,limitTarget:"",limitClassName:"",allowPaste:!1},initialize:function(e,t){!1!==this.supr(e,t)&&(this._initTextControl(),this.trigger(a.ON_INIT))},_initTextControl:function(){var a,e=this,t=e.options;t.allowPaste||e.on("paste",function(e){e.preventDefault(),alert("죄송합니다. \n도배글 등을 방지하기 위해 붙여넣기를 하실 수 없습니다.")}),e.textCounter=e.subviews.counter=new n.CMTPGN.CmtTextCounter(e.$el,{countType:t.countType,limit:t.limit,limitClassName:t.limitClassName,on:{textcounterchange:(a=m(e.options.limitTarget),function(e,t){a.html(t)})}})},destroy:function(){this.supr()}});return n.WEBSVC.bindjQuery(a,"cmtTextControl"),a}),n.WEBSVC.define("CMTPGN.CmtMelonKeywordSuggest",function(){var o=n.WEBSVC.browser,e=n.WEBSVC.Class({name:"CmtMelonKeywordSuggest",$extend:n.PBPGN.View,defaults:{min:_.C_ATACH_MELON_MIN_SRCH_WORD,max:_.C_ATACH_MELON_MAX_SRCH_WORD,cnt:_.C_ATACH_MELON_DSPLY_SUGGEST_SIZE,arCnt:_.C_ATACH_MELON_DSPLY_SUGGEST_AR_SIZE,soCnt:_.C_ATACH_MELON_DSPLY_SUGGEST_SO_SIZE,alCnt:_.C_ATACH_MELON_DSPLY_SUGGEST_AL_SIZE,api:l.atach.melon.suggest,backdata:void 0,callback:void 0,execution:"button"},initialize:function(e,t){this.supr(e,t);var r=this,i=r.$el;r.placeholder=i.attr("placeholder"),r.timerId=null,n.WEBSVC.browser.isGecko&&r._forceKeyup(),r.on("keydown",function(e){var t,a,n;switch(e.which||e.keyCode){case 13:e.stopPropagation(),e.preventDefault(),m(i[0]).parent().find(r.options.execution).trigger("click");break;case 27:"block"===m(i[0]).parent().find(".d_cmtpgn_atach_suggest_keyword").css("display")&&(e.stopPropagation(),e.preventDefault(),m(i[0]).parent().find(".d_cmtpgn_atach_suggest_keyword").hide());break;case 38:e.stopPropagation(),e.preventDefault(),m(i[0]).parent().find(".d_cmtpgn_atach_suggest_keyword").hide();break;case 40:e.stopPropagation(),e.preventDefault(),n=(a=(t=m(i[0]).parent().find(".d_cmtpgn_atach_suggest_keyword")).find("li")).length,p.log("CmtMelonKeywordSuggest INPUT go DOWN. CNT=["+n+"]"),0<n&&(p.log("CmtMelonKeywordSuggest INPUT go DOWN. DSPLY=["+t.css("display")+"]"),"block"===t.css("display")?("cate"==a.attr("class")?a.eq(1):a.eq(0)).children().focus():t.show())}}),r.on("keyup",function(e){switch(e.which||e.keyCode){case 13:case 27:case 38:case 40:break;default:var t={},a=!o.isOldIE||i&&i[0].value!==r.placeholder?i[0].value:"",n=r.options;!0!==p.isEmpty(m.trim(a))&&a.length>=n.min?(t.srchWord=a,0<i.attr("class").indexOf("d_cmtpgn_atach_music_srch_input")?(t.dsplyCnt=0,t.arDsplyCnt=n.arCnt,t.soDsplyCnt=n.soCnt,t.alDsplyCnt=n.alCnt,l.atach.melon.suggestConts(t,n.callback,n.backdata)):(t.dsplyCnt=n.cnt,l.atach.melon.suggest(t,n.callback,n.backdata))):(t.STATUS=_.C_STATUS_SUCCESS,t.backdata=n.backdata,n.callback(t))}})},_forceKeyup:function(){var e,t=this,a=t.$el[0],n=d,r=d.document,i=r.createEvent?function(){var e;n.KeyEvent?(e=r.createEvent("KeyEvents")).initKeyEvent("keyup",!0,!0,n,!1,!1,!1,!1,65,0):((e=r.createEvent("UIEvents")).initUIEvent("keyup",!0,!0,n,1),e.keyCode=65),a.dispatchEvent(e)}:function(){var e=r.createEventObject();e.keyCode=65,a.fireEvent("onkeyup",e)};t.timer=null,t.on("focus",function(){t.timer||(t.timer=d.setInterval(function(){e!==a.value&&(e=a.value,i())},60))}).on("blur",function(){t.timer&&(d.clearInterval(t.timer),t.timer=null,t.timerId="")})},destroy:function(){this.timer&&d.clearInterval(this.timer)&&this.supr()}});return n.WEBSVC.bindjQuery(e,"cmtMelonKeywordSuggest"),e})),d.addEventListener("message",function(e){e=e.data;var t,a=!1,n=(null==(backdata=_.G_BACKDATA)&&(backdata=new Object),_.G_IMGUPHANDLER);p.isDefined(e.STATUS)&&(p.isDefined(e.code)?n(e):(!0!==p.isEmpty(_.C_REQUEST_HANDLER[backdata.reqId])?(p.log("_callApi() success. reqId=["+backdata.reqId+"], request handler is exists. CALLBACK & FLUSH."),n=(new Date).getTime(),t=_.C_REQUEST_HANDLER[backdata.reqId].reqTime,_.C_REQUEST_HANDLER[backdata.reqId]=null,p.log("_callApi() success. reqId=["+backdata.reqId+"] execution time=["+n+" - "+t+"]=["+(n-t)+" ms]")):(p.log("_callApi() success. reqId=["+backdata.reqId+"], request handler is empty. ABANDON."),a=!0),p.log("_callApi() success. reqId=["+backdata.reqId+"], abandon=["+a+"]"),!0!==p.isDefined(e)&&((e={}).STATUS=_.C_STATUS_FAIL,e.ERRORCODE=_.C_ERROR_CODE_INTERNAL_ERROR),e.backdata=backdata,!0!==a&&(_.G_CALLBACK(e),_.G_BACKDATA=new Object,_.g_CALLBACK=new Object)))},!1)})(window,jQuery),!function(window,$){var self=window,document=window.document,tim,ready,splitdoc,Template,Widget;function getScript(e,t,a){function l(e,t,a){var n,r=a.charset,i=a.keep,o=a.target,a=o.document,l=a.getElementsByTagName("head")[0],s=a.createElement("script");s.type="text/javascript",s.charset=r,s.onload=s.onreadystatechange=function(){var e=this.readyState;n||e&&"complete"!==e&&"loaded"!==e||(s.onload=s.onreadystatechange=null,i||l.removeChild(s),n=!0,t.call(o))},s.async=!0,s.src=e,l.appendChild(s)}var n=self,r="string"==typeof e?l:function(e,t,a){for(var n=e.length,r=0,i=function(){++r===n&&t.call(a.target)},o=0;o<n;o++)l(e[o],i,a)};(a=a||{}).charset||(a.charset="utf-8"),a.target||(a.target=n),r.call(n,e,t=t||function(){},a)}var splitdoc=(()=>{function h(e){return e.replace(/^[\0\t\n\v\f\r\s]+|[\0\t\n\v\f\r\s]+$/g,"")}function a(e,t){var e=null!=e?String(e):"",a=t&&void 0!==t.doctype?t.doctype:"<!doctype html>",n=t&&void 0!==t.charset?t.charset:"utf-8",r=t&&void 0!==t.charsetmeta?t.charsetmeta:"<meta charset='"+n+"'>",i=t&&void 0!==t.title?t.title:"",t=t&&void 0!==t.body?t.body:"",o=e.match(/<!doctype html[^>]*>/i),l=e.match(/<html([^>]*)>/i),s=e.match(/<head([^>]*)>([\w\W]*?)<\/head>/i),c=e.match(/<body([^>]*)>([\w\W]*?)<\/body>/i),a=o?o[0]:a,l=l?l[1]:"",d=s?s[1]:"",m=s?h(s[2]):"",_=m.match(/<meta charset=['"]?([\w\-]+)['"]?\s*\/?>|<meta http-equiv=["']Content-Type["'] content=["']text\/html;\s*charset=([\w\-]+)["']\s*\/?>/),r=_?h(_[0]):r,n=_?_[1]||_[2]:n,p=m.match(/<title([^>]*)>([\w\W]*?)<\/title>/i),u=h(p?p[2]:i),g=c?c[1]:"",c=h(c?c[2]:o||s?t||"":e);p||(m="<title>"+i+"</title>"+m),_||(m=r+m),this.doctype=a,this.htmlAttr=l,this.headAttr=d,this.headContents=m,this.charset=n,this.title=u,this.bodyAttr=g,this.bodyContents=c}return a.prototype={head:function(){return"<head"+this.headAttr+">"+this.headContents+"</head>"},body:function(){return"<body"+this.bodyAttr+">"+this.bodyContents+"</body>"},html:function(){return"<html"+this.htmlAttr+">"+this.head()+this.body()+"</html>"},toString:function(){return this.doctype+this.html()}},function(e,t){return new a(e,t)}})(),ready=(t=>{var a,n,r,i=t.document,o=i.documentElement,l=i.addEventListener,s=i.attachEvent,c=[],d="DOMContentLoaded",m="onreadystatechange";function _(){var e=0,t=c.length;if(!a)for(a=!0;e<t;e+=1)c[e]()}function p(){if(!a){try{o.doScroll("left")}catch(e){return void t.setTimeout(p,1)}_()}}function u(){l?(i.removeEventListener(d,u,!1),_()):s&&"complete"===i.readyState&&(i.detachEvent(m,u),_())}return function(e){if(c.push(e),a)return e();if(!n)if(n=!0,l)i.addEventListener(d,u,!1),t.addEventListener("load",_,!1);else if(s){i.attachEvent(m,u),t.attachEvent("onload",_);try{r=!t.frameElement}catch(e){}o.doScroll&&r&&p()}}})(window),tim=(()=>{var t=new RegExp("{{([a-z0-9_][\\.a-z0-9_]*)}}","gi");return function(e,o){return e.replace(t,function(e,t){for(var a=t.split("."),n=a.length,r=o,i=0;i<n;i++){if(void 0===(r=r[a[i]]))return"";if(i===n-1)return r}})}})(),MELON=window.MELON||(window.MELON={}),__config=(MELON.CMTPGN=MELON.CMTPGN||{},MELON.CMTPGN.Config=MELON.CMTPGN.Config||{},MELON.CMTPGN.Global=MELON.CMTPGN.Global||{},MELON.CMTPGN.Sqwidget=MELON.CMTPGN.Sqwidget||{},MELON.CMTPGN.Api=MELON.CMTPGN.Api||{},MELON.CMTPGN.Util=MELON.CMTPGN.Util||{},MELON.CMTPGN.Msg=MELON.CMTPGN.Msg||{},MELON.CMTPGN.Config),__global=MELON.CMTPGN.Global,__sqwidget=MELON.CMTPGN.Sqwidget,__api=MELON.CMTPGN.Api,__util=MELON.CMTPGN.Util,__msg=MELON.CMTPGN.Msg;MELON.CMTPGN.Sqwidget=window.MELON.CMTPGN.Sqwidget={version:"0.3.1",widgets:[],settings:{automatic:__config.C_AUTOMATIC,charset:__config.C_CHARSET,cmtHost:__config.C_CMT_HOST,basePath:__config.C_BASE_PATH,pluginPath:__config.C_PLUGIN_PATH,templatePath:__config.C_TEMPLATE_PATH,tunnelHtml:__config.C_TUNNEL_HTML,templateFileMap:__config.C_TEMPLATE_FILE_MAP},dependencyRegister:{},widgetTemplates:{},widgetTemplatesByType:{},globalConfig:function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&void 0!==this.settings[t]&&(this.settings[t]=e[t]);return this.settings},getConfig:function(e){return MELON.CMTPGN.Sqwidget.settings[e]},thisDomScript:function(){var e=document.getElementsByTagName("script");return e[e.length-1]},getScript:function(e,t,a){var n,r;if(MELON.CMTPGN.Sqwidget.getConfig("cache"))for(r=(e="string"==typeof e?[e]:e).length,n=0;n<r;n+=1)e[n]=MELON.CMTPGN.Sqwidget.cacheUrl(e[n],0);getScript(e,t,a)},templateText:function(e){var t;e&&e.type&&(t=this.widgetTemplatesByType[e.type])&&t.templateText(e.template)},hasMinVersion:function(e,t){return t<=e},jQueryIsLoaded:function(e){var t;return $||(t=window.jQuery)&&t.fn&&t.fn.jquery&&this.hasMinVersion(t.fn.jquery,e||this.settings.jQuery.minVersion)&&($=t),$},onjQueryReady:function(e){e($)},ready:function(e){this.onjQueryReady(function(){MELON.CMTPGN.Sqwidget.domReady(e)})},domReady:function(e){jQuery().ready(e)},widgetsInDom:function(){var e,t=/^[\0\t\n\v\f\r\s]+|[\0\t\n\v\f\r\s]+$/g,a=/^.*\/([\w]+)(?:\.[^\/]+)?$|^([\w]+)(?:\..*)?$/,n=[];function l(e){return e.replace(t,"")}function r(e){if(!e)return{};function t(e){return e.split("").reverse().join("")}for(var a,n,r=t(e).split(/;(?!\\)/),i=r.length,o={};i;--i)-1!==(n=(a=(a=t(r[i-1])).replace("\\;",";")).indexOf(":"))&&(o[l(a.slice(0,n))]=l(a.slice(n+1)));return o}if((e=document.getElementById("d_cmtpgn"))&&(s=e.getAttribute("data-sqwidget"),c=e.getAttribute("data-sqwidget-settings"),s)){var i,o,s=r(s),c=r(c);switch(__util.log("@sqwidget.js, widgetsInDom, dataSqwidget is ",s),__util.log("@sqwidget.js, widgetsInDom, dataSqwidgetSettings is ",c),c.readOnly=$.trim(s.readOnly)||"false",c.templateType=$.trim(s.templateType)||"",c.pageType=$.trim(s.pageType)||"",c.textareaType=$.trim(s.textareaType)||"",c.mymusicKey=$.trim(s.mymusicKey)||__global.C_EMPTY_KEY,!0!==__util.isEmpty(s.templateType)&&!0!==__util.isEmpty(this.getConfig("templateFileMap"))[s.templateType]&&(o=(i=__util.buildResourcePath("","/resource/script/web/common",this.getConfig("templateFileMap")[s.templateType])).replace(a,"$1$2"),s.src=i),c.templateType){case __global.C_TEMPLATE_TYPE_PC_SUMRY:case __global.C_TEMPLATE_TYPE_PC_REVIEW:case __global.C_TEMPLATE_TYPE_PC_EVALUE:case __global.C_TEMPLATE_TYPE_PC_EVENT:case __global.C_TEMPLATE_TYPE_PC_QNA:case __global.C_TEMPLATE_TYPE_PC_LIST:case __global.C_TEMPLATE_TYPE_MOBLE_LIST:case __global.C_TEMPLATE_TYPE_MOBLE_VIEW:case __global.C_TEMPLATE_TYPE_MOBLE_WRITE:break;default:return void alert("CMTPGN: 지원하지 않는 templateType")}if(c.templateType===__global.C_TEMPLATE_TYPE_PC_SUMRY||c.templateType===__global.C_TEMPLATE_TYPE_PC_REVIEW||c.templateType===__global.C_TEMPLATE_TYPE_PC_EVALUE||c.templateType===__global.C_TEMPLATE_TYPE_PC_EVENT||c.templateType===__global.C_TEMPLATE_TYPE_PC_QNA){switch(c.pageType){case __global.C_PAGE_TYPE_GENERIC:case __global.C_PAGE_TYPE_SONG:case __global.C_PAGE_TYPE_PHOTO:case __global.C_PAGE_TYPE_GUESTBOOK:break;default:return void alert("CMTPGN: 지원하지 않는 pageType")}switch(c.textareaType){case __global.C_TEXTAREA_TYPE_LARGE:case __global.C_TEXTAREA_TYPE_MEDIUM:case __global.C_TEXTAREA_TYPE_SMALL:break;default:return void alert("CMTPGN: 지원하지 않는 textareaType")}}if(c.templateType===__global.C_TEMPLATE_TYPE_PC_LIST){if(c.pageType!==__global.C_PAGE_TYPE_GENERIC)return void alert("CMTPGN: 지원하지 않는 pageType");if(c.textareaType!==__global.C_TEXTAREA_TYPE_LARGE)return void alert("CMTPGN: 지원하지 않는 textareaType")}__util.log("@sqwidget.js, widgetsInDom, widgetType=["+o+"]"),n.push(Widget(this,o,e,s,c))}return n},getTemplate:function(e,t){__util.log("@sqwidget.js, getTemplate, templateFile=["+e+"]");var a,e=jQuery.trim(e);return __util.log("@sqwidget.js, getTemplate, fileName=["+e+"]"),(a=this.widgetTemplates[e])||(a=Template(this,e,t),this.widgetTemplates[e]=a),a},getTemplateByType:function(e){return __util.log("@sqwidget.js, getTemplateByType, templateType=["+e+"]"),this.widgetTemplatesByType[e]},setTemplateType:function(e,t){(this.widgetTemplatesByType[t]=e).config.type=t},addDependency:function(e,t){var a=null,n={};e.getConfig("cmtHost",this.getConfig("cmtHost")),e.getConfig("basePath",this.getConfig("basePath")),e.getConfig("pluginPath",this.getConfig("pluginPath"));t?"string"==typeof t?a=t:(a=t[0],"object"==typeof t[1]?n=t[1]:t[1],"object"==typeof t[2]&&(n=t[2])):a=null,a&&0<a.length&&(t=this.dependencyRegister[a])&&(__util.log("@sqwidget.js, adding dependency (already exists): "+a),t.clients.push(e),t.loaded?(__util.log("@sqwidget.js, setting plugin (already loaded): "+a),e.setPlugin(t.name,t.module,n)):__util.log("@sqwidget.js, waiting for plugin load: "+a))},getDependencyRegister:function(){return this.dependencyRegister},checkDependencies:function(e){var t,a;for(a in this.dependencyRegister)if(this.dependencyRegister.hasOwnProperty(a))if(this.dependencyRegister[a].loaded){for(t=0;t<this.dependencyRegister[a].clients.length;t+=1)if(this.dependencyRegister[a].clients[t]===e&&void 0===e.plugins[this.dependencyRegister[a].name])return!1}else for(t=0;t<this.dependencyRegister[a].clients.length;t+=1)if(this.dependencyRegister[a].clients[t]===e)return!1;return!0},plugin:function(a,n,e){__util.log("@sqwidget.js, plugin=["+a+"]");var r=this.dependencyRegister[a];void 0===r?this.dependencyRegister[a]={name:a,module:n,loaded:!0,version:e,clients:[],config:{}}:(r.name=a,r.module=n,r.loaded=!0,r.version=e,jQuery.each(r.clients,function(e,t){t.setPlugin(a,n,r.config)}))},runAll:function(){jQuery.each(this.widgetTemplates,function(e,t){t.runAll()})},clearWidgets:function(){return MELON.CMTPGN.Sqwidget.widgets.length=0,jQuery.each(MELON.CMTPGN.Sqwidget.widgetTemplatesByType,function(e,t){t.widgets&&t.widgets.length&&(t.widgets.length=0)}),this},startWidgets:function(){var e=MELON.CMTPGN.Sqwidget.widgets=MELON.CMTPGN.Sqwidget.widgetsInDom();return __util.log("@sqwidget.js, startWidgets, widgets is",e),jQuery.each(e,function(e,t){t.init()}),jQuery.each(e,function(e,t){t.checkRun()}),this},restartWidgets:function(){var e=MELON.CMTPGN.Sqwidget.widgets;if(!(e.length<1)){__util.log("@sqwidget.js, restartWidgets, oldWidgets is",e),__util.log("@sqwidget.js, restartWidgets, getting widgetsInDom");for(var t=MELON.CMTPGN.Sqwidget.widgetsInDom(),a=0;a<e.length;a++)__util.log("@sqwidget.js, restartWidgets, truncate old html=["+e[a].getId()+"]"),jQuery("#"+e[a].getId()).html(""),e[a].reset(t[a].getDataSqwidget(),t[a].getSettings());for(var n=0;n<e.length;n++)__util.log("@sqwidget.js, restartWidgets, oldWidgets[j]=["+e[n].toString()+"]"),e[n].checkReRun();return this}__util.log("@sqwidget.js, restartWidgets, oldWidgets.length < 1, call startWidgets()"),this.startWidgets()}},MELON.CMTPGN.Sqwidget.onjQueryReady(function(e){var i=e,o="sqwidget";window.MELON.CMTPGN.Sqwidget=MELON.CMTPGN.Sqwidget=i.extend(MELON.CMTPGN.Sqwidget,{widgets:[],isElement:function(e){return e&&1===e.nodeType},isJQuery:function(e){return e&&!!e.jquery},isUrl:function(e){return/^https?:\/\/[\-\w]+\.\w[\-\w]+\S*$/.test(e)},rand:function(e){var t=Math;return t.floor(t.random()*t.pow(10,e||4))},cssPresets:{contentonly:{margin:0,padding:0,borderWidth:0}},notifyGlobalWindow:function(n,e,r){i.each(e,function(e,a){try{i(n).bind(a,function(){var e,t;i(window).trigger((t=t||"-",e?"string"==typeof e?(__util.log("@MELON.CMTPGN.Sqwidget.onjQueryReady, return namespace + delimiter + props=["+o+t+e+"]"),o+t+e):(__util.log("@MELON.CMTPGN.Sqwidget.onjQueryReady, return [namespace].concat(props).join(delimiter)=["+[o].concat(e).join(t)+"]"),[o].concat(e).join(t)):(__util.log("@MELON.CMTPGN.Sqwidget.onjQueryReady, return namespace=["+o+"]"),o)),{type:(r||n.type)+"."+a,origin:this})})}catch(e){__util.log("catch",e)}})},urlParam:function(e,t,a){return e+(/\?/.test(e)?"&":"?")+t+"="+a},timeChunk:function(e){var t=new Date(2009,0,1).getTime(),a=864e5*e,n=(new Date).getTime();return e?(e=n-n%Math.round(a),Number(((e-t)/864e5).toFixed(6))||0):n},cacheUrl:function(e,t){return this.urlParam(e,"cache",this.timeChunk(t))},preload:function(e){i.each(i.isArray(e)?e:[e],function(e,t){i("<img src='"+t+"' />")})},prototype:i.extend(function(){},{insert:function(e,t,a){t=this.insertPosition=i(t||this.insertPosition||this.thisDomScript());return!!t&&(e?(t[a||"after"](e),i(e)):t)},truncate:function(e,t,a){t=String(e).replace(new RegExp("^((\\W*\\w*\\b){0,"+t+"}\\.?).*$","m"),"$1");return t+(t.length<e.length?a||"…":"")},repeat:function(e,t){return 0<t?new Array(t+1).join(e):""},leadingZeroes:function(e,t){return this.repeat("0",(t||2)-String(e).length)+e},atomDate:function(e){var t,a;return t=(e=e.replace(/z$/i,"+00:00")).split(/[\-T:+]/),a=Number,8===t.length&&(e=e.substr(19,1),new Date(Date.UTC(a(t[0]),a(t[1]-1),a(t[2]),a(t[3]-a(e+t[6])),a(t[4]-a(e+t[7])),a(t[5]))))},loadCss:function(e,t){t=t||this.settings.cssCacheTime,i("head").append(/@|\{/m.test(e)?"<style type='text/css'>"+e+"</style>":"<link type='text/css' rel='stylesheet' href='"+(t?this.cacheUrl(e,t):e)+"' />")}})})}),Template=function(e,t,a){var n,r,i,o={},l=e,s=t,c=[],d={},m=[],_=[],p=[],u={name:"sqwidget_template",version:"1",title:"Generic sqwidget widget",desc:"-",url:"https://github.com/sqwidget",ui:"hostpage",basePath:null,pluginPath:null,templatePath:null,dependencies:{},settings:{}};function g(e){var t=splitdoc(e),a=[],e=t.headContents||e;null!==(t=t.bodyContents)&&(d.default=t),(t=jQuery(e)).filter("script[type='text/template'][id]").each(function(e,t){t=jQuery(t),d[t.attr("id")]=jQuery.trim(t.html())}),t.filter("script:not([type]), script[type='text/javascript'], script[type='application/javascript']").each(function(e,t){t=jQuery(t),m.push(t.html())}),t.filter("style").each(function(e,t){t=jQuery(t),_.push({text:t.html(),media:t.attr("media"),type:t.attr("type"),title:t.attr("title")})}),jQuery.each(_,function(e,t){var a=jQuery("<style>"+t.text+"</style>");a.attr({title:t.title,type:t.type,media:t.media}),jQuery("head").append(a)}),t.filter("link[rel='stylesheet']").each(function(e,t){t={media:(t=jQuery(t)).attr("media"),type:t.attr("type"),title:t.attr("title"),href:t.attr("href"),rel:t.attr("rel")};_.push(t),a.push(t)}),jQuery.each(a,function(e,t){var a;document.createStyleSheet?document.createStyleSheet(t.href):((a=jQuery("<link />")).attr({rel:t.rel,href:t.href,title:t.title,type:t.type,media:t.media}),jQuery("head").append(a))})}function h(){jQuery.each(c,function(e,t){t.onTemplateLoaded(o)})}a&&c.push(a),o.widgets=c,o.templateText=function(e){g(e),0===p.length?h():__util.log("@sqwidget.js, templateText error",p)},o.register=function(e){for(var t=0;t<c.length;t+=1)if(e===c[t])return void __util.log("@sqwidget.js, register widget === widgets[i] return;");c.push(e)},o.reinstall=function(e){for(var t=0;t<c.length;t+=1)if(e===c[t])return __util.log("@sqwidget.js, reinstall widget === widgets[i] re-install and return;"),__util.log("@sqwidget.js, reinstall widget === widgets[i] old widget is",c[t]),__util.log("@sqwidget.js, reinstall widget === widgets[i] new widget is",e),void(c[t]=e);c.push(e)},o.config=function(e){if(e){for(var t in e)e.hasOwnProperty(t)&&void 0!==u&&(u[t]=e[t]);l.setTemplateType(o,u.name)}return u},o.getConfig=function(e){return u[e]},o.getSetting=function(e){return u.settings[e]},o.loadDependencies=function(a){jQuery.each(u.dependencies,function(e,t){l.addDependency(a,t)})},o.getScripts=function(){return m},o.getTemplate=function(e){return d[e]},o.setPlugin=function(e,t){e,0},o.getStyles=function(){return _},o.runAll=function(){jQuery.each(this.widgets,function(e,t){t.checkRun()})},__util.log("@sqwidget.js, loadTemplate, templateType=["+s+"]");try{n=(r=-1===(r=s).indexOf("/")?"./"+r:r).match(/(.*)[\/\\]([^\/\\]+)\.\w+$/)[2]}catch(e){n=s}return __util.log("@sqwidget.js, loadTemplate, type=["+n+"]"),l.widgetTemplatesByType[n]=o,u.type=n,s.lastIndexOf(".js")===s.length-3?MELON.CMTPGN.Sqwidget.getScript(s):(__util.log("@sqwidget.js, TEMPLATE LOADING using templateType=["+s+"]"),r=__util.buildResourcePath(l.getConfig("cmtHost"),l.getConfig("basePath")+l.getConfig("pluginPath")+l.getConfig("templatePath"),l.getConfig("tunnelHtml")),__util.log("@sqwidget.js, TEMPLATE LOADING using TUNNEL=["+r+"]"),(i=jQuery('<iframe id="d_cmtpgn_tunnel_frame" name="d_cmtpgn_tunnel_frame" src="'+r+'" style="width:0; height:0; border:0;"></iframe>')).bind("load",function(){i[0].contentWindow.loadTemplate(s,function(e,t,a){0===e.length||"success"!==t?p.push("loading of template "+s+" failed."):(g(e),0),0===p.length?h():__util.log("@sqwidget.js, templating loading error",p)}),window.setTimeout(function(){i.remove()},300)}),jQuery("body").append(i)),o},Widget=function(sq,type,div,dataSq,dataSqSet){var widget={},sqwidget=sq,widgetType=type,container=div,dataSqwidget=dataSq,settings=dataSqSet,template=null,plugins={},readyFn=null,errorFn=null,loadingFn=null,readyRun=!1,templateLoaded=!1,dependenciesRequested=!1;function evalScript(script){eval(script.toString())}function allPluginsLoaded(){return dependenciesRequested&&sqwidget.checkDependencies(widget)}function props(e){var t,a=[];for(t in e)e.hasOwnProperty(t)&&a.push(t+': "'+e[t]+'"');return"{"+a.join(" ")+"}"}return widget.plugins=plugins,widget.allPluginsLoaded=allPluginsLoaded,widget.config=function(e){template.config(e)},widget.getContainer=function(){return container},widget.getReadyFn=function(){return readyFn},widget.getReadyRun=function(){return readyRun},widget.getId=function(){return(dataSqwidget.hasOwnProperty("id")?dataSqwidget:container).id},widget.onTemplateLoaded=function(e){templateLoaded=!0,template=e,widget.runController(template.getScripts()),widget.showLoading(),template.loadDependencies(widget),dependenciesRequested=!0,widget.checkRun(),__util.log("@sqwidget.js, widget.onTemplateLoaded",e)},widget.setPlugin=function(e,t,a){__util.log("@sqwidget.js, setting up plugin: "+e+" for widget "+widget.getId()+" config with",a),plugins[e]=t(sqwidget,widget,jQuery,a),allPluginsLoaded()&&widget.checkRun(),sqwidget.runAll()},widget.checkRun=function(){var e;__util.log("@sqwidget.js, widget.checkRun, widget is",widget),__util.log("@sqwidget.js, widget.checkRun, allPluginsLoaded=["+allPluginsLoaded()+"]"),allPluginsLoaded()&&(readyRun?__util.log("@sqwidget.js, widget.checkRun, readyRun"):(__util.log("@sqwidget.js, widget.checkRun, !readyRun"),readyRun=!0,readyFn?(e=jQuery(widget),__util.log("@sqwidget.js, calling widget.ready(): "+container.id),e.trigger("readyStart"),readyFn.call(widget),e.trigger("readyEnd")):widget.setTemplate("default",{},null)))},widget.checkReRun=function(){var e;__util.log("@sqwidget.js, widget.checkReRun, widget is",widget),__util.log("@sqwidget.js, widget.checkReRun, if(readyFn)=["+!!readyFn+"] is",readyFn),readyFn?(e=jQuery(widget),__util.log("@sqwidget.js, calling widget.ready(): "+container.id),e.trigger("readyStart"),readyFn.call(widget),e.trigger("readyEnd")):widget.setTemplate("default",{},null)},widget.getBodyElement=function(e){var e=widget.getId()+"_"+e,t=jQuery("#"+e);return t.length?t:(t=jQuery("<div></div>").attr("id",e).css("display","none"),jQuery("body").append(t),t)},widget.ui={head:function(e){jQuery("head").append(e)},body:function(e){jQuery(container).empty().append(e)}},widget.ready=function(e){readyFn=e},widget.loading=function(e){loadingFn=e},widget.error=function(e){errorFn=e},widget.getReadyFn=function(){return readyFn},widget.callReady=function(){return readyFn.call(widget)},widget.init=function(){__util.log("@sqwidget.js, widget.init dataSqwidget is",dataSqwidget),__util.log("@sqwidget.js, widget.init dataSqwidget settings is",settings);var e=sqwidget.getTemplate(dataSqwidget.src,widget);__util.log("@sqwidget.js, widget.init sqTemplate is",e),(template=e).register(widget)},widget.reset=function(e,t){__util.log("@sqwidget.js, widget.reset dataSqwidget is",dataSqwidget),__util.log("@sqwidget.js, widget.reset newDataSqwidget is",e),__util.log("@sqwidget.js, widget.reset dataSqwidget settings is",settings),__util.log("@sqwidget.js, widget.reset dataSqwidget newSettings is",t),dataSqwidget=e,settings=t,__util.log("@sqwidget.js, widget.reset overrided dataSqwidget is",dataSqwidget),__util.log("@sqwidget.js, widget.reset overrided dataSqwidget settings is",settings),__util.log("@sqwidget.js, widget.reset dataSqwidget widget is",widget);e=sqwidget.getTemplate(dataSqwidget.src,widget);__util.log("@sqwidget.js, widget.reset sqTemplate is",e),(template=e).reinstall(widget),__util.log("@sqwidget.js, widget.reset toString=["+widget.toString()+"]")},widget.getSetting=function(e,t){return settings[e]||template&&template.getSetting(e)||t},widget.getDataSqwidget=function(){return dataSqwidget},widget.getSettings=function(){return settings},widget.getConfig=function(e,t){return dataSqwidget[e]||template.getConfig(e)||sqwidget.getConfig(e)||t},widget.render=function(e,t,a){e=widget.renderTemplate(e,t),t=a||container;jQuery(t).html(e),__util.log("@sqwidget.js, widget.render=["+jQuery(t).parent().html()+"]")},widget.showLoading=function(){var e;0===jQuery(".sqwidget-placeholder",container).length&&(loadingFn?loadingFn.call(widget):(e=template.getTemplate("loading"))&&widget.render(e))},widget.renderWithTemplate=function(e,t){e=template.getTemplate(e);return widget.renderTemplate(e,t)},widget.setTemplate=function(e,t,a){e=template.getTemplate(e);e&&widget.render(e,t,a)},widget.renderTemplate=tim,widget.runController=function(a){jQuery.each(a,function(e,t){evalScript(a[e])})},widget.toString=function(){return"type: "+widgetType+" container id: "+div.id+" dataSqwidget: "+props(dataSqwidget)+" dataSqwidgetSettings: "+props(settings)},MELON.CMTPGN.Sqwidget.hasMinVersion(jQuery.fn.jquery,"1.4.1")||(widget.addEventListener=widget.removeEventListener=function(){}),widget},MELON.CMTPGN.Sqwidget.ready(function(){if(MELON.CMTPGN.Sqwidget.settings.automatic)return MELON.CMTPGN.Sqwidget.startWidgets()})}(window,jQuery);var isValidBpUser=function(e,a,n){var r=!1;return e&&$.each(e,function(e,t){t.MEMBERKEY==a.memberKey&&(null==n.dsplyRegDate||""==n.dsplyRegDate?null!=(new Date).YYYYMMDDHHMISS()&&(regDate=(new Date).YYYYMMDDHHMISS()):regDate=n.dsplyRegDate,t.SETDATE>regDate)&&(r=!0)}),r},perfRate=0;function checkPerfRate(e,t){rsrvList=null,$.ajax({type:"GET",dataType:"jsonp",url:DeployPhaseUtils.convertUrl("https://tktapi.melon.com/poc/performance/listReviewInfos.json?v=1&prodId=")+e+"&chnlSeq="+t,crossDomain:!0,xhrFields:{withCredentials:!0},async:!1,success:function(e){perfRate=e.data.rate;try{$("#perf_avr_rate_img").attr("class","ico_star point"+5*Math.round(10*perfRate/5)),$("#perf_avr_rate_txt").html(perfRate.toFixed(1))}catch(e){}}})}function addAdmUsrRate(e){$.ajax({type:"GET",dataType:"jsonp",url:DeployPhaseUtils.convertUrl("https://tktapi.melon.com/poc/performance/addReviewRate.json?v=1"),crossDomain:!0,xhrFields:{withCredentials:!0},async:!1,data:e,success:function(e){updateAvrRate()}})}var rsrvList=null;function checkRsrvList(e,t){rsrvList=null,$.ajax({type:"GET",dataType:"json",url:DeployPhaseUtils.convertUrl("https://ticket.melon.com/common/ajax/getRsrvMemberList.json?prodId=")+e+"&memberKey="+escape(t.toString()),crossDomain:!0,xhrFields:{withCredentials:!0},async:!1,success:function(e){rsrvList=e.memberKey}})}var bpList=null;function checkBpList(e){bpList=null,$.ajax({type:"GET",dataType:"jsonp",url:DeployPhaseUtils.convertUrl("https://tktapi.melon.com/survey/bpMemberlist.json?prodId=")+e,crossDomain:!0,xhrFields:{withCredentials:!0},async:!1,success:function(e){bpList=e.bpMemberlist}})}function addAdmCmt(e){$.ajax({type:"GET",dataType:"jsonp",url:DeployPhaseUtils.convertUrl("https://tktapi.melon.com/poc/qna/addCmt.json?v=1"),crossDomain:!0,xhrFields:{withCredentials:!0},async:!1,data:e,success:function(e){}})}function updateCmtCnt(e){$.ajax({type:"get",dataType:"jsonp",url:DeployPhaseUtils.convertUrl("https://cmt.melon.com/cmt/api/api_listCmtChnlContsSumm.json?pocId=WP15&cmtPocType=pc.web&chnlSeqList=916,917,918&contsRefValueList=")+e+","+e+","+e,async:!1,success:function(e){e.result&&$.each(e.result.cmtContsSummList,function(e,t){916==t.chnlSeq?$("#evalueCnt").html(t.totalCmtCnt):917==t.chnlSeq?$("#reviewCnt").html(t.totalCmtCnt):918==t.chnlSeq&&$("#qnaCnt").html(t.totalCmtCnt)})}})}function getFilePath(e){var t;return-1!=(t=e.lastIndexOf("."))?e.substring(t+1,e.len):""}function disp_file_path(e){var t=getFilePath(e.value);""==t?alert("올바른 파일을 입력하세요"):"gif"!=t.toLowerCase()&&"jpg"!=t.toLowerCase()&&"jpeg"!=t.toLowerCase()&&"png"!=t.toLowerCase()?alert("[ gif, jpg, jpeg, png ] 파일만 지원합니다"):(t=e.value,$(e).parent().find("#file_name").val(t))}WEBPOCIMG={defaultImg:function(e,t){var a="_500";0<(t=null!=t&&""!=t?t:$(e).width())&&t<=38?a="_38":38<t&&t<=52?a="_52":52<t&&t<=70?a="_70":70<t&&t<=120?a="_120":120<t&&t<=200?a="_200":200<t&&(a="_500"),altSrc=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/default/noAlbum")+a+".jpg",e.src=altSrc},defaultAlbumImg:function(e,t){var a="_500";0<(t=null!=t&&""!=t?t:$(e).width())&&t<=38?a="_38":38<t&&t<=52?a="_52":52<t&&t<=70?a="_70":70<t&&t<=120?a="_120":120<t&&t<=200?a="_200":200<t&&(a="_500"),altSrc=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/default/noAlbum")+a+".jpg",e.src=altSrc},defaultArtistImg:function(e,t){var a="_300";0<(t=null!=t&&""!=t?t:$(e).width())&&t<=34?a="_34":34<t&&t<=40?a="_40":40<t&&t<=54?a="_54":54<t&&t<=70?a="_70":70<t&&t<=100?a="_100":100<t&&t<=120?a="_120":120<t&&t<=160?a="_160":160<t&&t<=200?a="_200":200<t&&t<=300&&(a="_300"),altSrc=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/default/noArtist")+a+".jpg",e.src=altSrc},defaultDjImg:function(e){},defaultMvImg:function(e,t,a){null!=t&&""!=t||(t=$(e).width()),null!=a&&""!=a||(a=$(e).height());var n=Math.floor(4/3*10)/10,r=Math.floor(16/9*10)/10,a=Math.floor(t/a*10)/10,i="4x3",n="_"+(i=a!=n&&(a==r||1.5<a)?"16x9":"4x3")+"_640",r=(0<t&&t<=60?n="_"+i+"_60":60<t&&t<=120?n="_"+i+"_120":120<t&&t<=144?n="_"+i+"_144":144<t&&t<=240?n="_"+i+"_240":240<t&&t<=480?n="_"+i+"_480":480<t&&(n="_"+i+"_640"),DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/default/noMovie")+n+".jpg");e.src=r},defaultPlaylistImg:function(e,t){var a="_500";0<(t=null!=t&&""!=t?t:$(e).width())&&t<=38?a="_38":38<t&&t<=52?a="_52":52<t&&t<=70?a="_70":70<t&&t<=114?a="_114":114<t&&t<=120?a="_120":120<t&&t<=200?a="_200":200<t&&(a="_500"),altSrc=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/default/noAlbum")+a+".jpg",e.src=altSrc},defaultMemberImg:function(e,t){var a="_130";0<(t=null!=t&&""!=t?t:$(e).width())&&t<=40?a="_40":40<t&&t<=54?a="_54":54<t&&t<=72?a="_72":72<t&&t<=96?a="_96":96<t&&t<=112?a="_112":112<t&&(a="_130"),altSrc=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/default/noUser")+a+".jpg",e.src=altSrc},defaultPhotoImg:function(e,t){var a="_500";0<(t=null!=t&&""!=t?t:$(e).width())&&t<=200?a="_200":200<t&&(a="_500"),altSrc=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/default/noAlbum")+a+".jpg",e.src=altSrc},defaultShopImg:function(e,t){var a="_240",a=0<(t=null!=t&&""!=t?t:$(e).width())&&t<=240?"_240":240<t&&t<=300?"_256":"_305";altSrc=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/default/noProduct")+a+".jpg",e.src=altSrc},defaultShowwingImg:function(e,t){var a="_256",a=0<(t=null!=t&&""!=t?t:$(e).width())&&t<=300?"_256":"_313";altSrc=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/default/noShowing")+a+".jpg",e.src=altSrc},defaultTicketImg:function(e,t){var a="_256",a=0<(t=null!=t&&""!=t?t:$(e).width())&&t<=300?"_256":"_313";altSrc=DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/web/default/noTicket")+a+".png",e.src=altSrc}},WEBELLIPSIS={ellipsis:function(e,t,a){for(var n=$("."+e),r=0;r<n.length;r++)n.eq(r).width()>a&&n.eq(r).parent().parent().parent().find("."+t).show()}};var MELONWEB_CMTPGN_SCOPE_CONTEXT_MAP=[],MELONWEB_CMTPGN_IMAGE_CONTEXT=null,dataModule=(mt=>{var _t=mt.MELON||(mt.MELON={});_t.CMTPGN=_t.CMTPGN||{},_t.CMTPGN.Config=_t.CMTPGN.Config||{},_t.CMTPGN.Global=_t.CMTPGN.Global||{},_t.CMTPGN.Sqwidget=_t.CMTPGN.Sqwidget||{},_t.CMTPGN.Api=_t.CMTPGN.Api||{},_t.CMTPGN.Util=_t.CMTPGN.Util||{},_t.CMTPGN.Msg=_t.CMTPGN.Msg||{},_t.CMTPGN.Sqwidget.plugin("melonweb_cmtpgn_pc_sumry_type",function(e,i,v){function G(){!0!==w.isDefined(l)||!0!==l?(w.log("@_refreshHandler() executed. G_CMTPGN_RUNNABLE=["+l+"]"),R.run()):!0!==w.isDefined(O)||!0!==O?w.log("@_refreshHandler() executed. G_CMTPGN_INITIALIZED=["+O+"]"):(w.log("@_refreshHandler() executed. isCmtpgnHashed=["+w.isCmtpgnHashed()+"]"),R.page.refresh(),!0===w.isCmtpgnHashed()&&(0<A.prev().length?v(mt).scrollTop(A.prev().offset().top):v(mt).scrollTop(A.offset().top)))}function o(e,t,a,n){!0===w.isDefined(l)&&!0===l||(w.log("@_navigateHandler() executed. G_CMTPGN_RUNNABLE=["+l+"]"),R.run(e,t,a,n)),!0!==w.isDefined(O)||!0!==O?w.log("@_navigateHandler() executed. G_CMTPGN_INITIALIZED=["+O+"]"):(w.log("@_navigateHandler() executed. pageNo=["+e+"], sortType=["+t+"], srchType=["+a+"], srchWord=["+n+"]"),w.log("@_navigateHandler() executed. isCmtpgnHashed=["+w.isCmtpgnHashed()+"]"),R.page.navigate(e,t,a,n),!0===w.isCmtpgnHashed()&&(0<A.prev().length?v(mt).scrollTop(A.prev().offset().top):v(mt).scrollTop(A.offset().top)))}function Y(e){w.log("@_musicAtachSuggestHandler() executed. data is",e),R.callback.atach.music.suggest(e)}function F(e){w.log("@_videoAtachSuggestHandler() executed. data is",e),R.callback.atach.video.suggest(e)}var W,B,h=_t.CMTPGN.Config,P=_t.CMTPGN.Global,m=(_t.CMTPGN.Sqwidget,_t.CMTPGN.Api),w=_t.CMTPGN.Util,f=_t.CMTPGN.Msg,u=_t.WEBSVC,a=_t.CMTPGN.Ui,N=(w.log("@melonweb_cmtpgn_pc_sumry_type.js LOADED."),i),t="click.event.page.more",V="click.event.page.top",$="click.event.page.sort",j="change.event.page.srch",q="click.event.page.srch",K="keypress.event.page.srch",z="click.event.page.srch.cancel",X="click.event.cmt.input",Q="click.event.multiple.artist",Z="click.event.close.layer",J="click.event.syncpost",ee="click.event.atach.music",te="click.event.atach.music.suggest",ae="keydown.event.atach.music.suggest",ne="mouseenter.event.atach.music.suggest",re="focusin.event.atach.music.suggest",ie="focusout.event.atach.music.suggest",oe="click.event.atach.music.srch",le="click.event.atach.music.sort",se="click.event.atach.music.navigate",ce="click.event.atach.music.srch.dtl",de="click.event.atach.video",me="click.event.atach.video.suggest",_e="keydown.event.atach.video.suggest",pe="mouseenter.event.atach.video.suggest",ue="focusin.event.atach.video.suggest",ge="focusout.event.atach.video.suggest",he="click.event.atach.video.srch",fe="click.event.atach.video.sort",Te="click.event.atach.video.navigate",Ce="click.event.atach.image",ye="click.event.atach.link",Ee="change.event.atach.link",be="keypress.event.atach.link",ve="click.event.atach.del",Pe="click.event.atach.execute",we="click.event.cmt.reg",Ne="click.event.cmt.updt",Ae="click.event.cmt.del",Me="click.event.cmt.modify",Se="click.event.cmt.cancel",ke="focusin.event.adcmt.input",Le="click.event.adcmt.reg",Ie="keypress.event.adcmt.reg",Oe="click.event.adcmt.del",De="click.event.cmt.expand",xe="click.event.cmt.profile",Ue="click.event.cmt.collapse",He="expand.event.adcmt.list",Re="collapse.event.adcmt.list",Ge="click.event.recm",Ye="click.event.reprt.open",Fe="click.reprt.reson.type",We="click.event.reprt.close",Be="click.reprt.reg",Ve="click.event.cmt.acpt.detail",$e="click.event.photo.navi",je="click.event.photo.navi.first",qe="click.event.photo.navi.before",Ke="click.event.photo.navi.next",ze="click.event.photo.navi.end",Xe="click.event.photo.navi.recent",Qe="click.event.photo.navi.recm",Ze="click.event.photo.navi.adcmt",A=null,Je=!1,g=null,T=null,C=null,_=null,p=null,y="",E=null,b=null,et=null,M=null,tt=!1,s={isArtistMember:!1,isDjMember:!1,isBreakMember:!1,isBreakIp:!1,snsInfo:{}},S=null,c=null,k=null,d=null,r=null,L=0,I=0,l=!1,O=!1,at=!1,D=!1,x=!1,U=!1,nt=null,rt=null,it=!1,ot=null,lt=null,st=!1,H=!1,ct=!1,dt=[],R={},n=(R.controller=v.address,R.controller.location=mt.location.href,R.controller.value=v.address.value,R.controller.move=v.address.value,w.log("worker.controller.location=["+R.controller.location+"]"),w.log("worker.controller.value()=["+R.controller.value()+"]"),R.controller.strict(!1),R.controller.init(function(){w.log("worker.controller initialized. value=["+R.controller.value()+"]")}),R.controller.change(function(){if(CURRENT_CHNL_SEQ!=E)return!1;!0===w.isEmpty(R.controller.value())&&G(),w.log("worker.controller.change() value=["+R.controller.value()+"]"),w.log("worker.controller.change() parameter(focus)=["+w.getValueFromCmtpgnUrl(R.controller.value(),"focus")+"]"),w.log("worker.controller.change() parameter(pageNo)=["+w.getValueFromCmtpgnUrl(R.controller.value(),"pageNo")+"]"),w.log("worker.controller.change() parameter(sortType)=["+w.getValueFromCmtpgnUrl(R.controller.value(),"sortType")+"]"),w.log("worker.controller.change() parameter(srchType)=["+w.getValueFromCmtpgnUrl(R.controller.value(),"srchType")+"]"),w.log("worker.controller.change() parameter(srchWord)=["+w.getValueFromCmtpgnUrl(R.controller.value(),"srchWord")+"]");var e,t,a=R.controller.value(),n=w.getValueFromCmtpgnUrl(R.controller.value(),"focus");!0!==w.isEmpty(n)?G():(n=w.getValueFromCmtpgnUrl(a,"pageNo"),e=w.getValueFromCmtpgnUrl(a,"sortType"),t=w.getValueFromCmtpgnUrl(a,"srchType"),a=w.getValueFromCmtpgnUrl(a,"srchWord"),!0===w.isEmpty(n)&&(n=P.C_CMT_DFLT_PAGE_NO),(!0===w.isEmpty(e)||Number(e)!==P.C_CMT_SORT_TYPE_RECENT&&Number(e)!==P.C_CMT_SORT_TYPE_RECM&&Number(e)!==P.C_CMT_SORT_TYPE_ADCMT)&&(e=P.C_CMT_DFLT_SORT_TYPE),(!0===w.isEmpty(t)||Number(t)!==P.C_CMT_SRCH_TYPE_MEMBER&&Number(t)!==P.C_CMT_SRCH_TYPE_CONTS)&&(t=P.C_CMT_DFLT_SRCH_TYPE,a=P.C_CMT_DFLT_SRCH_WORD),o(n,e,t,a))}),mt._refreshHandler=G,mt._navigateHandler=o,mt._imageAtachUploadHandler=function(e){w.log("@_imageAtachUploadHandler() executed."),null!=MELONWEB_CMTPGN_IMAGE_CONTEXT?(MELONWEB_CMTPGN_IMAGE_CONTEXT.callback.atach.image(e),MELONWEB_CMTPGN_IMAGE_CONTEXT=null):R.callback.atach.image(e)},mt._musicAtachSuggestHandler=Y,mt._videoAtachSuggestHandler=F,R.run=function(e,t,a,n){w.log("@worker.run() executed."),W=i.getId(),Je=!(!w.isDefined(i.getSetting("readOnly"))||"true"!==i.getSetting("readOnly")),g=i.getSetting("templateType"),T=i.getSetting("pageType"),C=i.getSetting("textareaType"),M=i.getSetting("mymusicKey"),_=i.getSetting("cmtPocType"),p=i.getSetting("pocId"),y=i.getSetting("menuId"),E=i.getSetting("chnlSeq"),MELONWEB_CMTPGN_SCOPE_CONTEXT_MAP[g]=this,b=i.getSetting("contsRefValue"),et=i.getSetting("listPageUrl"),B=i.getSetting("listPageUrl"),tt=w.isDefined(i.getSetting("privateYn"))&&"Y"==i.getSetting("privateYn").toUpperCase(),w.log("worker.run() G_CONTAINER_ID=["+W+"], G_READ_ONLY=["+Je+"]"),w.log("worker.run() G_TEMPLATE_TYPE=["+g+"], G_PAGE_TYPE=["+T+"]"),w.log("worker.run() G_CMT_POC_TYPE=["+_+"], G_POC_ID=["+p+"], G_MENU_ID=["+y+"]"),w.log("worker.run() G_CHNL_SEQ=["+E+"], G_CONTS_REF_VALUE=["+b+"], G_CONTS_REF_URL=["+et+"]"),w.log("worker.run() G_LIST_PAGE_URL=["+B+"]");var r=!1;w.isDefined(W)&&(A=v("#"+W)),(!0!==w.isDefined(A)||A.length<1)&&(w.log("worker.run() CMTPGN: CONTAINER ID 지정필요"),r=!0),!0===w.isDefined(g)&&!0!==w.isEmpty(g)||(w.log("worker.run() CMTPGN: templateType 누락"),r=!0),!0===w.isDefined(T)&&!0!==w.isEmpty(T)||(w.log("worker.run() CMTPGN: pageType 누락"),r=!0),!0===w.isDefined(C)&&!0!==w.isEmpty(C)||(w.log("worker.run() CMTPGN: textareaType 누락"),r=!0),!0===w.isDefined(_)&&!0!==w.isEmpty(_)||(w.log("worker.run() CMTPGN: cmtPocType 누락"),r=!0),!0===w.isDefined(p)&&!0!==w.isEmpty(p)||(w.log("worker.run() CMTPGN: pocId 누락"),r=!0),!0===w.isDefined(y)&&!0!==w.isEmpty(y)||w.log("worker.run() CMTPGN: menuId 누락"),!0===w.isDefined(E)&&!0!==w.isEmpty(E)||(w.log("worker.run() CMTPGN: chnlSeq 누락"),r=!0),!0===w.isDefined(b)&&!0!==w.isEmpty(b)||(w.log("worker.run() CMTPGN: contsRefValue 누락"),r=!0),T!==P.C_PAGE_TYPE_GUESTBOOK||!w.isEmpty(M)&&Number(M)!==P.C_EMPTY_KEY||(M=b),!0===w.isDefined(B)&&!0!==w.isEmpty(B)||(w.log("worker.run() CMTPGN: listPageUrl 누락"),r=!0),!0!==r?(l=!0,w.log("worker.run() parameter checked, worker.initialize() execution."),R.initialize(e,t,a,n)):w.log("worker.run() parameter missed, worker.initialize() stop."),w.log("worker.run() G_CMTPGN_RUNNABLE=["+l+"]"),w.log("@worker.run() executed done.")},R.initialize=function(e,t,a,n){w.log("@worker.initialize() executed. G_CMTPGN_RUNNABLE=["+l+"]"),w.log("@worker.initialize() executed. pageNo=["+e+"], sortType=["+t+"], srchType=["+a+"], srchWord=["+n+"]");var r=R.controller.value(),e=(w.log("worker.initialize() addressValue=["+r+"]"),e||w.getValueFromCmtpgnUrl(r,"pageNo")),t=t||w.getValueFromCmtpgnUrl(r,"sortType"),a=a||w.getValueFromCmtpgnUrl(r,"srchType"),n=n||decodeURIComponent(w.getValueFromCmtpgnUrl(r,"srchWord")),r=(w.log("worker.initialize() initialPageNo=["+e+"], initialSortType=["+t+"], initialSrchType=["+a+"], initialSrchWord=["+n+"]"),!0===w.isEmpty(e)&&(e=P.C_CMT_DFLT_PAGE_NO),(!0===w.isEmpty(t)||Number(t)!==P.C_CMT_SORT_TYPE_RECENT&&Number(t)!==P.C_CMT_SORT_TYPE_RECM&&Number(t)!==P.C_CMT_SORT_TYPE_ADCMT)&&(t=P.C_CMT_DFLT_SORT_TYPE),(!0===w.isEmpty(a)||Number(a)!==P.C_CMT_SRCH_TYPE_MEMBER&&Number(a)!==P.C_CMT_SRCH_TYPE_CONTS)&&(a=P.C_CMT_DFLT_SRCH_TYPE,n=P.C_CMT_DFLT_SRCH_WORD),w.log("worker.initialize() reqPageNo=["+e+"], reqSortType=["+t+"], reqSrchType=["+a+"], reqSrchWord=["+n+"]"),{loader:R.render.cmt.loading.start}),i={},o=R.callback.pgn.load;i.cmtPocType=_,i.pocId=p,i.chnlSeq=Number(E),i.contsRefValue=b,T===P.C_PAGE_TYPE_GUESTBOOK&&(i.mypageMemberKey=Number(M)),i.totalCnt=P.C_CMT_INITIAL_TOTAL_CNT,i.validCnt=P.C_CMT_INITIAL_VALID_CNT,i.startSeq=P.C_CMT_INITIAL_START_SEQ,i.pageSize=P.C_CMT_INITIAL_PAGE_SIZE,i.pageNo=e,i.sortType=t,i.srchType=a,i.srchWord=n,918==E&&checkBpList(b),m.pgn.load(i,o,r),w.log("@worker.initialize() executed done.")},R.fallback={},R.fallback.page=function(){w.log("@worker.fallback.page() executed."),(T!==P.C_PAGE_TYPE_PHOTO?A.find("#d_cmtpgn_cmt_list_wrapper").show().html(N.renderWithTemplate("d_cmtpgn_fallback_wide_template")):(A.find("#d_cmtpgn_photo_inner_wrapper").wrap(N.renderWithTemplate("d_cmtpgn_photo_type_outer_wrapper_template")).show(),A.find("#d_cmtpgn_cmt_list_wrapper").show().html(N.renderWithTemplate("d_cmtpgn_fallback_small_template")))).find(".d_cmtpgn_fallback").show(),w.log("@worker.fallback.page() executed done.")},R.fallback.list=function(){w.log("@worker.fallback.list() executed."),A.find("#d_cmtpgn_cmt_list_wrapper").show().find("ul").hide().addBack().find(".d_cmtpgn_fallback").show().addBack().find(".d_cmtpgn_loading").hide().addBack().find(".d_cmtpgn_nodata").hide(),w.log("@worker.fallback.list() executed done.")},R.fallback.alert=function(e){w.log("@worker.fallback.alert() executed. data is",e),e=!(!0===w.isDefined(e.STATUS)&&e.STATUS===P.C_STATUS_TIMEOUT||!0===w.isDefined(e.ERRORCODE)&&e.ERRORCODE===P.C_ERROR_CODE_INTERNAL_ERROR||!0===w.isEmpty(e.ERRORMESSAGE))?e.ERRORMESSAGE:"GET"===e.backdata.reqMethod?f.CMTPGN999:f.CMTPGN998,alert(e),w.log("@worker.fallback.alert() executed done.")},R.page={},R.page.count=function(e){w.isDefined(e)?v(".d_cmtpgn_cnt").text(w.getNumericDsplyFormat(e)):v(".d_cmtpgn_cnt").text(w.getNumericDsplyFormat(k.totalCnt))},R.page.refresh=function(e,t,a,n){var r;w.log("@worker.page.refresh() executed. G_CMTPGN_RUNNABLE=["+l+"], G_CMTPGN_INITIALIZED=["+O+"]"),!0===w.isDefined(l)&&!0===l&&!0===w.isDefined(O)&&!0===O&&(w.log("worker.page.refresh() executed. refresh pageNo=["+e+"], sortType=["+t+"], srchType=["+a+"], srchWord=["+n+"]"),(r=A.find("#d_cmtpgn_cmt_write_box")).find(".d_cmtpgn_atach_box").remove(),r.find(".d_cmtpgn_char_cnt").text("0"),r.find(".d_cmtpgn_cmt_edit_area").hide(),r.find(".d_cmtpgn_cmt_guide").show(),!0===S.snsSyncpstUseFlag&&r.find(".d_cmtpgn_syncpost_btn").removeClass("on"),!0===S.secrtUseFlag&&!0===r.find(".d_cmtpgn_secrt_flag").is(":checked")&&r.find(".d_cmtpgn_secrt_flag").trigger("click"),k.totalCnt=P.C_CMT_INITIAL_TOTAL_CNT,k.validCnt=P.C_CMT_INITIAL_VALID_CNT,k.startSeq=P.C_CMT_INITIAL_START_SEQ,k.pageNo=!0!==w.isEmpty(e)?e:P.C_CMT_DFLT_PAGE_NO,k.sortType=!0!==w.isEmpty(t)?t:P.C_CMT_DFLT_SORT_TYPE,k.srchType=!0!==w.isEmpty(a)?a:P.C_CMT_DFLT_SRCH_TYPE,k.srchWord=!0!==w.isEmpty(n)?n:P.C_CMT_DFLT_SRCH_WORD,w.log("worker.page.refresh() reqPageNo=["+k.pageNo+"], reqSortType=["+k.sortType+"], reqSrchType=["+k.srchType+"], reqSrchWord=["+k.srchWord+"]"),k.pageSize=k.pageSize,r={loader:R.render.cmt.loading.start},e=R.callback.cmt.refresh,(t={}).cmtPocType=_,t.pocId=p,t.chnlSeq=Number(E),t.contsRefValue=b,T===P.C_PAGE_TYPE_GUESTBOOK&&(t.mypageMemberKey=Number(M)),t.totalCnt=k.totalCnt,t.validCnt=k.validCnt,t.startSeq=k.startSeq,t.pageSize=k.pageSize,t.pageNo=k.pageNo,t.sortType=k.sortType,t.srchType=k.srchType,t.srchWord=k.srchWord,m.cmt.list(t,e,r)),w.log("@worker.page.refresh() executed done.")},R.page.navigate=function(e,t,a,n){U=x=D=!1,w.log("@worker.page.navigate() executed. G_CMTPGN_RUNNABLE=["+l+"], G_CMTPGN_INITIALIZED=["+O+"]"),!0===w.isDefined(l)&&!0===l&&!0===w.isDefined(O)&&!0===O&&(w.log("worker.page.navigate() executed. navigate pageNo=["+e+"], sortType=["+t+"], srchType=["+a+"], srchWord=["+n+"]"),w.log("worker.page.navigate() controlled pageNo=["+k.pageNo+"], sortType=["+k.sortType+"], srchType=["+k.srchType+"], srchWord=["+k.srchWord+"]"),k.srchType===Number(a)&&k.srchWord===n||(k.totalCnt=P.C_CMT_INITIAL_TOTAL_CNT,k.validCnt=P.C_CMT_INITIAL_VALID_CNT,k.startSeq=P.C_CMT_INITIAL_START_SEQ,w.log("worker.page.navigate() CONTROLLED INFO !==  REQUESTED INFO, RE-LOAD.")),k.pageNo=e,k.sortType=t,k.srchType=a,k.srchWord=n,w.log("worker.page.navigate() reqPageNo=["+k.pageNo+"], reqSortType=["+k.sortType+"], reqSrchType=["+k.srchType+"], reqSrchWord=["+k.srchWord+"]"),e={loader:R.render.cmt.loading.start},t=R.callback.cmt.list,(a={}).cmtPocType=_,a.pocId=p,a.chnlSeq=Number(E),a.contsRefValue=b,T===P.C_PAGE_TYPE_GUESTBOOK&&(a.mypageMemberKey=Number(M)),a.totalCnt=k.totalCnt,a.validCnt=k.validCnt,a.startSeq=k.startSeq,a.pageSize=k.pageSize,a.pageNo=k.pageNo,a.sortType=k.sortType,a.srchType=k.srchType,a.srchWord=k.srchWord,m.cmt.list(a,t,e)),w.log("@worker.page.navigate() executed done.")},R.page.append=function(e,t,a,n){w.log("@worker.page.append() executed. G_CMTPGN_RUNNABLE=["+l+"], G_CMTPGN_INITIALIZED=["+O+"]"),!0===w.isDefined(l)&&!0===l&&!0===w.isDefined(O)&&!0===O&&(w.log("worker.page.append() append pageNo=["+e+"], sortType=["+t+"], srchType=["+a+"], srchWord=["+n+"]"),k.pageNo=e,k.sortType=t,k.srchType=a,k.srchWord=n,e=R.callback.cmt.list,(t={}).cmtPocType=_,t.pocId=p,t.chnlSeq=Number(E),t.contsRefValue=b,T===P.C_PAGE_TYPE_GUESTBOOK&&(t.mypageMemberKey=Number(M)),t.totalCnt=k.totalCnt,t.validCnt=k.validCnt,t.startSeq=k.startSeq,t.pageSize=k.pageSize,t.pageNo=k.pageNo,t.sortType=k.sortType,t.srchType=k.srchType,t.srchWord=k.srchWord,m.cmt.list(t,e)),w.log("@worker.page.append() executed done.")},R.callback={},R.callback.pgn={},R.callback.pgn.load=function(e){if(w.log("@worker.callback.pgn.load() executed. data is",e),e.STATUS!==P.C_STATUS_SUCCESS)R.render.cmt.loading.finish(!0),R.fallback.page();else{T!==P.C_PAGE_TYPE_PHOTO?A.find(".d_cmtpgn_nodata").after(N.renderWithTemplate("d_cmtpgn_fallback_wide_template")):A.find(".d_cmtpgn_nodata").after(N.renderWithTemplate("d_cmtpgn_fallback_small_template"));var t=e.result.snsInfo,a=e.result.chnlInfo,n=e.result.spamInfo,r=e.result.pageInfo,i=e.result.pagingInfo,o=e.result.topList,l=e.result.cmtList,e=e.result.myMemberInfo;switch(w.isDefined(e)&&(nt=e.memberKey,rt=e.mypageImg,it=e.artistFlag,lt=e.artistImage,st=e.ancmFlag),w.isDefined(mt.getMemberArtistId)&&(ot=mt.getMemberArtistId),w.log("worker.callback.pgn.load() snsInfo is ",t),w.log("worker.callback.pgn.load() chnlInfo is ",a),w.log("worker.callback.pgn.load() spamInfo is ",n),w.log("worker.callback.pgn.load() pageInfo is ",r),w.log("worker.callback.pgn.load() pagingInfo is ",i),w.log("worker.callback.pgn.load() topList is ",o),w.log("worker.callback.pgn.load() cmtList is ",l),w.log("worker.callback.pgn.load() myMemberInfo is ",e),!0===u.Auth.isMelonLogin()&&(w.log("worker.callback.pgn.load() __util.isDefined(window.getMemberArtistId=["+w.isDefined(mt.getMemberArtistId)+"]"),w.log("worker.callback.pgn.load() __util.isDefined(window.getMemberDjYn)=["+w.isDefined(mt.getMemberDjYn)+"]"),!0===w.isDefined(mt.getMemberArtistId)&&(w.log("worker.callback.pgn.load() getMemberArtistId()=["+getMemberArtistId()+"]"),s.isArtistMember=!0!==w.isEmpty(getMemberArtistId())&&"0"!==getMemberArtistId()),!0===w.isDefined(mt.getMemberDjYn)&&(w.log("worker.callback.pgn.load() getMemberDjYn()=["+getMemberDjYn()+"]"),s.isDjMember=!0!==w.isEmpty(getMemberDjYn())&&"Y"===getMemberDjYn().toUpperCase()),w.log("worker.callback.pgn.load() G_MEMBER_INFO.isArtistMember=["+s.isArtistMember+"]"),w.log("worker.callback.pgn.load() G_MEMBER_INFO.isDjMember=["+s.isDjMember+"]"),!0!==w.isEmpty(t))&&(s.snsInfo=t),s.isBreakMember=n.breakMemberFlag,s.isBreakIp=n.breakIpFlag,c=n,(S=a).atachUseFlag=S.atachUseFlag,S.snsSyncpstUseFlag=S.snsSyncpstUseFlag,S.adcmtUseFlag=S.adcmtUseFlag,S.reprtUseFlag=S.reprtUseFlag,S.recmUseFlag=S.recmUseFlag,!0===Je||!0===S.readOnlyFlag?(S.readOnlyFlag=!0,S.reprtUseFlag=!1,S.recmUseFlag=!1,S.cmtWriteUseFlag=!1,S.cmtModifyUseFlag=!1,S.cmtDelUseFlag=!0,S.adcmtWriteUseFlag=!1,S.adcmtDelUseFlag=!0):(S.cmtWriteUseFlag=!0,S.cmtModifyUseFlag=!0,(S.cmtDelUseFlag=!0)===S.adcmtUseFlag?(S.adcmtWriteUseFlag=!0,S.adcmtDelUseFlag=!0):(S.adcmtWriteUseFlag=!1,S.adcmtDelUseFlag=!1)),!0!==w.isEmpty(P.C_CHNL_SNS_PAGE_MAP[S.chnlSeq])?(w.log("worker.callback.pgn.load() __global.C_CHNL_SNS_PAGE_MAP[G_CHNL_INFO.chnlSeq]=["+P.C_CHNL_SNS_PAGE_MAP[S.chnlSeq]+"]"),S.snsSyncpstUseFlag=!0):(w.log("worker.callback.pgn.load() __global.C_CHNL_SNS_PAGE_MAP[G_CHNL_INFO.chnlSeq] NOT EXISTS."),S.snsSyncpstUseFlag=!1),T){case P.C_PAGE_TYPE_GENERIC:S.sumryUseFlag=!0,S.sortUseFlag=!0,S.srchUseFlag=!0,S.secrtUseFlag=!1;break;case P.C_PAGE_TYPE_SONG:S.sumryUseFlag=!0,S.sortUseFlag=!1,S.srchUseFlag=!0,S.secrtUseFlag=!1,S.atachUseFlag=!1,S.snsSyncpstUseFlag=!1,S.cmtModifyUseFlag=!0;break;case P.C_PAGE_TYPE_PHOTO:S.sumryUseFlag=!0,S.sortUseFlag=!0,S.srchUseFlag=!1,S.secrtUseFlag=!1,S.atachUseFlag=!1,S.snsSyncpstUseFlag=!1;break;case P.C_PAGE_TYPE_GUESTBOOK:S.sumryUseFlag=!0,S.sortUseFlag=!1,S.srchUseFlag=!1,S.secrtUseFlag=!0,S.atachUseFlag=!1,S.snsSyncpstUseFlag=!1,S.cmtModifyUseFlag=!1;break;default:S.sumryUseFlag=!0,S.sortUseFlag=!0,S.srchUseFlag=!0,S.secrtUseFlag=!1}(k=r).srchType===P.C_CMT_SRCH_TYPE_NONE&&(k.srchType=P.C_CMT_SRCH_TYPE_CONTS,k.srchWord=P.C_CMT_DFLT_SRCH_WORD),d=i,w.log("worker.callback.pgn.load() G_MEMBER_INFO is",s),O=!0,w.log("worker.callback.pgn.load() G_CMTPGN_INITIALIZED=["+O+"]"),R.render.page(l,o),w.log("@worker.callback.pgn.load() executed done."),917==E&&rankInit&&(rankInit=!1,v("#rank_box").attr("style","background-color: #fcfcfc;"))}},R.callback.cmt={},R.callback.cmt.refresh=function(e){var t,a;w.log("@worker.callback.cmt.refresh() executed. data is",e),e.STATUS!==P.C_STATUS_SUCCESS?(R.render.cmt.loading.finish(!0),R.fallback.page()):(a=e.result.pageInfo,t=e.result.pagingInfo,(k=a).srchType===P.C_CMT_SRCH_TYPE_NONE&&(k.srchType=P.C_CMT_SRCH_TYPE_CONTS,k.srchWord=P.C_CMT_DFLT_SRCH_WORD),d=t,a=A.find("#d_cmtpgn_cmt_count_wrapper").find(".d_cmtpgn_srch_cnt"),t=Number(k.totalCnt),w.log("worker.callback.cmt.refresh() after=["+t+"]"),a.text(w.getNumericDsplyFormat(t)),a=e.result.topList,e=e.result.cmtList,R.render.cmt.write(),R.render.cmt.count(),R.render.cmt.list(e,a,!0),R.render.cmt.navigator(e),R.render.cmt.srch(),R.render.cmt.loading.finish(!1,!0===w.isDefined(a)&&0<a.length||!0===w.isDefined(e)&&0<e.length),R.bind.all(),R.page.count(t),updateCmtCnt(b),w.log("@worker.callback.cmt.refresh() executed done."))},R.callback.cmt.list=function(e){var t,a;w.log("@worker.callback.cmt.list() executed. data is",e),e.STATUS!==P.C_STATUS_SUCCESS?(R.render.cmt.loading.finish(!0),T!==P.C_PAGE_TYPE_PHOTO?R.fallback.list():R.fallback.alert(e)):(t=e.result.pageInfo,a=e.result.pagingInfo,(k=t).srchType===P.C_CMT_SRCH_TYPE_NONE&&(k.srchType=P.C_CMT_SRCH_TYPE_CONTS,k.srchWord=P.C_CMT_DFLT_SRCH_WORD),d=a,t=e.result.topList,a=e.result.cmtList,R.render.cmt.count(),R.render.cmt.list(a,t),R.render.cmt.navigator(a),R.render.cmt.srch(),R.render.cmt.loading.finish(!1,!0===w.isDefined(t)&&0<t.length||!0===w.isDefined(a)&&0<a.length),R.bind.list(),w.log("@worker.callback.cmt.list() executed done."))},R.callback.cmt.modify=function(e){var t,a;w.log("@worker.callback.cmt.modify() executed. data is",e),e.STATUS!==P.C_STATUS_SUCCESS?R.fallback.alert(e):(D=!0,t=e.result.cmtInfo,a=e.result.atachList,e=e.result.memberInfo,R.render.cmt.modify(t,a,e),R.bind.cmt.atach(t.cmtSeq),!0===(a=A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+t.cmtSeq+'"]')).find(".d_cmtpgn_adcmt_expand_btn").is(".on")&&a.find(".d_cmtpgn_adcmt_expand_btn").trigger("click"),e=a.find(".d_cmtpgn_cmt_edit_box").find(".d_cmtpgn_cmt_edit_area"),w.adjustCmtAtachText(e),w.log("@worker.callback.cmt.modify() executed done."))},R.callback.cmt.cancel=function(e){w.log("@worker.callback.cmt.cancel() executed. data is",e);e=A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+e+'"]').last();e.find(".d_cmtpgn_cmt_cont_wrapper").show().next(".d_cmtpgn_cmt_info_wrapper").show(),e.find(".d_cmtpgn_cmt_edit_box").parent().remove(),D=!1,w.log("@worker.callback.cmt.cancel() executed done.")},R.callback.cmt.view=function(e){var t;w.log("@worker.callback.cmt.view() executed. data is",e),e.STATUS===P.C_STATUS_SUCCESS&&(e=A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+e.result.cmtSeq+'"]').find(".d_cmtpgn_cmt_view_btn"),t=w.getNumberOnly(v.trim(v(e.get(0)).contents().filter(function(){return 1===this.nodeType}).text())),w.log("worker.callback.cmt.view() before=["+t+"]"),t=w.replaceAll(v(e.get(0)).html(),t,Number(t)+1),e.html(w.getNumericDsplyFormat(t)),w.log("@worker.callback.cmt.view() executed done."))},R.callback.cmt.reg=function(e){if(w.log("@worker.callback.cmt.reg() executed. data is",e),U=x=D=at=!1,e.STATUS!==P.C_STATUS_SUCCESS)R.fallback.alert(e);else{try{918==E?addAdmCmt({chnlSeq:E,contsRefValue:b,cmtSeq:e.result.cmtSeq}):917==E&&addAdmUsrRate({chnlSeq:E,contsRefValue:b,cmtSeq:e.result.cmtSeq,rate:usrRate})}catch(e){}R.constraint.timer.set(),R.callback.cmt.syncpst(e.backdata),T===P.C_PAGE_TYPE_PHOTO||(w.log("worker.callback.cmt.reg G_PAGE_INFO, pageNo=["+k.pageNo+"], sortType=["+k.sortType+"], srchType=["+k.srchType+"], srchWord=["+k.srchWord+"]"),1===Number(k.pageNo)&&Number(k.sortType)===P.C_CMT_DFLT_SORT_TYPE&&Number(k.srchType)===P.C_CMT_DFLT_SRCH_TYPE&&!0===w.isEmpty(k.srchWord))?R.page.refresh():R.controller.move(w.makeRefreshHashString()),w.log("@worker.callback.cmt.reg() executed done.")}},R.callback.cmt.updt=function(e){var t,a;w.log("@worker.callback.cmt.updt() executed. data is",e),x=D=!1,e.STATUS!==P.C_STATUS_SUCCESS?R.fallback.alert(e):(R.callback.cmt.syncpst(e.backdata),t=e.result.cmtInfo,a=e.result.atachList,e=e.result.memberInfo,A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+t.cmtSeq+'"]').replaceWith(R.render.cmt.entry(t,a,e)),a=A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+t.cmtSeq+'"]'),w.adjustCmtAtachText(a),R.bind.cmt.modify(),w.log("@worker.callback.cmt.updt() executed done."))},R.callback.cmt.syncpst=function(e){var t=e.syncpstEntryList||[],a=e.syncpstMessage||"";if(!0!==w.isEmpty(P.C_CHNL_SNS_PAGE_MAP[S.chnlSeq])&&0==w.isEmpty(a))for(var n=0;n<t.length;n++){if("facebook"===t[n])try{melon.sns.postFacebook({type:P.C_CHNL_SNS_PAGE_MAP[S.chnlSeq],contsId:b,memberKey:u.Auth.getMemberKey(),message:a})}catch(e){w.log("worker.handler.cmt.post() melon.sns.postFacebook catched",e),alert(f.CMTPGN506+", e=["+e+"]")}if("twitter"===t[n])try{melon.sns.postTwitter({type:P.C_CHNL_SNS_PAGE_MAP[S.chnlSeq],contsId:b,memberKey:u.Auth.getMemberKey(),message:a,menuId:y})}catch(e){alert(f.CMTPGN506),w.log("worker.handler.cmt.post() melon.sns.postTwitter catched",e),alert(f.CMTPGN506+", e=["+e+"]")}}},R.callback.cmt.del=function(e){w.log("@worker.callback.cmt.del() executed. data is",e),e.STATUS!==P.C_STATUS_SUCCESS?R.fallback.alert(e):T===P.C_PAGE_TYPE_PHOTO||(w.log("worker.callback.cmt.del G_PAGE_INFO, pageNo=["+k.pageNo+"], sortType=["+k.sortType+"], srchType=["+k.srchType+"], srchWord=["+k.srchWord+"]"),1===Number(k.pageNo)&&Number(k.sortType)===P.C_CMT_DFLT_SORT_TYPE&&Number(k.srchType)===P.C_CMT_DFLT_SRCH_TYPE&&!0===w.isEmpty(k.srchWord))?R.page.refresh():R.controller.move(w.makeRefreshHashString())},R.callback.cmt.recm=function(e){var t,a;w.log("@worker.callback.cmt.recm() executed. data is",e),e.STATUS!==P.C_STATUS_SUCCESS?R.fallback.alert(e):(t=A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+e.result.cmtSeq+'"]'),e=!0===e.result.nonRecmFlag,w.log("worker.callback.cmt.recm() nonRecmFlag=["+e+"]"),0<(t=t.find(!0==e?".d_cmtpgn_cmt_non_recm_btn":".d_cmtpgn_cmt_recm_btn")).length&&(a=w.getNumberOnly(v.trim(v(t.get(0)).contents().filter(function(){return 1===this.nodeType}).text())),a=v.trim(v(t.get(0)).contents().text()).replace(/[^-\.0-9]/g,""),w.log("worker.callback.cmt.recm() before=["+a+"]"),a=w.replaceAll(v(t.get(0)).html(),w.getNumericDsplyFormat(a),Number(a)+1),t.html(w.getNumericDsplyFormat(a)).addClass("on"),alert(!0==e?f.MW113:f.MW112)),w.log("@worker.callback.cmt.recm() executed done."))},R.callback.adcmt={},R.callback.adcmt.reg=function(e){var t,a;w.log("@worker.callback.adcmt.reg() executed. data is",e),U=!1,e.STATUS!==P.C_STATUS_SUCCESS?R.fallback.alert(e):(R.constraint.timer.set(),t=e.result.adcmtInfo,e=e.result.memberInfo,w.log("worker.callback.adcmt.reg() parntCmtSeq=["+t.parntCmtSeq+"], cmtSeq=["+t.cmtSeq+"]"),(a=A.find("#d_cmtpgn_cmt_list_wrapper").find("li").filter('[data-cmt-id="'+t.parntCmtSeq+'"]')).find(".d_cmtpgn_char_cnt").text("0"),a.find(".d_cmtpgn_adcmt_input").val("").placeholder("update"),!0===S.secrtUseFlag&&(w.log("worker.callback.adcmt.reg() secrtFlag=["+a.find(".d_cmtpgn_secrt_flag").is(":checked")+"]"),!0===a.find(".d_cmtpgn_secrt_flag").is(":checked"))&&a.find(".d_cmtpgn_secrt_flag").trigger("click"),a.find(".d_cmtpgn_adcmt_list").filter(function(e){return!0===v(this).next().hasClass("d_cmtpgn_adcmt_write_box")}).prepend(R.render.adcmt.entry(t,e)),t=a.find(".d_cmtpgn_adcmt_cnt"),w.log("worker.callback.adcmt.reg() $($btn.get(0)).text().trim()=["+v.trim(v(t.get(0)).text())+"]"),e=w.getNumberOnly(v.trim(v(t.get(0)).text())),w.log("worker.callback.adcmt.reg() before=["+e+"]"),a=Number(e)+1,w.log("worker.callback.adcmt.reg() after=["+a+"]"),t.text(w.getNumericDsplyFormat(a)),w.log("@worker.callback.adcmt.reg() executed done."))},R.callback.adcmt.del=function(e){var t;w.log("@worker.callback.adcmt.del() executed. data is",e),e.STATUS!==P.C_STATUS_SUCCESS?R.fallback.alert(e):(t=A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+e.result.parntCmtSeq+'"]'),e=A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li>ul.d_cmtpgn_adcmt_list>li").filter('[data-cmt-id="'+e.result.cmtSeq+'"]'),"on"===e.attr("data-cmt-secrt")&&N.renderWithTemplate("d_cmtpgn_secrt_mark_template"),S.deleteCmtDsplyText,e.remove(),e=t.find(".d_cmtpgn_adcmt_cnt"),w.log("worker.callback.adcmt.del() $($btn.get(0)).text().trim()=["+v.trim(v(e.get(0)).text())+"]"),t=w.getNumberOnly(v.trim(v(e.get(0)).text())),w.log("worker.callback.adcmt.del() before=["+t+"]"),t=Number(t)-1,w.log("worker.callback.adcmt.del() after=["+t+"]"),e.text(w.getNumericDsplyFormat(t)),w.log("@worker.callback.adcmt.del() executed done."))},R.callback.adcmt.recm=function(e){var t,a;w.log("@worker.callback.adcmt.recm() executed. data is",e),e.STATUS!==P.C_STATUS_SUCCESS?R.fallback.alert(e):(t=A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li>ul.d_cmtpgn_adcmt_list>li").filter('[data-cmt-id="'+e.result.cmtSeq+'"]'),e=!0===e.result.nonRecmFlag,w.log("worker.callback.adcmt.recm() nonRecmFlag=["+e+"]"),0<(t=t.find(!0==e?".d_cmtpgn_adcmt_non_recm_btn":".d_cmtpgn_adcmt_recm_btn")).length&&(a=w.getNumberOnly(v.trim(v(t.get(0)).contents().filter(function(){return 1===this.nodeType}).text())),w.log("worker.callback.adcmt.recm() before=["+a+"]"),a=w.replaceAll(v(t.get(0)).html(),a,Number(a)+1),t.html(w.getNumericDsplyFormat(a)).addClass("on"),alert(!0==e?f.MW113:f.MW112)),w.log("@worker.callback.adcmt.recm() executed done."))},R.callback.atach={},R.callback.atach.music={},R.callback.atach.music.srch=function(e){var t,a,n;w.log("@worker.callback.atach.music.srch() executed. data is",e),e.STATUS!==P.C_STATUS_SUCCESS?R.render.atach.music.loading.finish(!0,e.backdata.editingCmtSeq):(t=e.result.pageInfo,a=e.result.musicList,n=e.result.pagingInfo,R.render.atach.music.srch(e.backdata.editingCmtSeq,t,a,n),R.render.atach.music.loading.finish(!1,e.backdata.editingCmtSeq),w.log("@worker.callback.atach.music.srch() executed done."))},R.callback.atach.music.suggest=function(e){if(w.log("@worker.callback.atach.music.suggest() executed. data is",e),H&&e.STATUS===P.C_STATUS_SUCCESS){var t=(Number(e.backdata.editingCmtSeq)===P.C_EMPTY_KEY?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e.backdata.editingCmtSeq)+'"]').find(".d_cmtpgn_cmt_edit_box")).find(".d_cmtpgn_atach_music_layer").find(".d_cmtpgn_atach_srch_box"),a=t.find("input.d_cmtpgn_atach_music_srch_input").val();if(!0!==w.isEmpty(a)&&w.isDefined(e.result)&&e.result.keywordExist){for(var n,r,i,o,l,s,c,d,m,_,p,u,g,h,f,T=[],C=(e.result.musicKeywordList,e.result.artistKeywordList),y=e.result.albumKeywordList,E=e.result.songKeywordList,T=[],b=0;b<C.length;b++)0==b&&T.push(N.renderWithTemplate("d_cmtpgn_atach_melon_suggest_title",{title:"아티스트"})),n=C[b].artistName,c=C[b].artistId,o=C[b].imgUrl||P.C_ARTIST_DFLT_SRCH_IMG,l=C[b].imgDsplyUrl||P.C_ARTIST_DFLT_DSPLY_IMG,s=[g=C[b].nationalityName,h=C[b].sex,f=C[b].actTypeNames].join("/"),_=w.getHighlightDsplyFormat(n,a,"strong"),T.push(N.renderWithTemplate("d_cmtpgn_atach_melon_suggest_artist_keyword_entry_template",{artistName:n,artistNameHighlight:_,addInfo:s,artistId:c,nationalityName:g,sex:h,actTypeNames:f,imgUrl:o,imgDsplyUrl:l}));for(b=0;b<E.length;b++)0==b&&T.push(N.renderWithTemplate("d_cmtpgn_atach_melon_suggest_title",{title:"곡"})),i=E[b].songName,m=E[b].songId,r=E[b].albumName,d=E[b].albumId,n=E[b].artistName,o=E[b].imgUrl||P.C_ALBUM_DFLT_SRCH_IMG,l=E[b].imgDsplyUrl||P.C_ALBUM_DFLT_DSPLY_IMG,p=w.getHighlightDsplyFormat(i,a,"strong"),T.push(N.renderWithTemplate("d_cmtpgn_atach_melon_suggest_song_keyword_entry_template",{songId:m,songName:i,songNameHighlight:p,albumId:d,albumName:r,artistName:n,imgUrl:o,imgDsplyUrl:l}));for(b=0;b<y.length;b++)0==b&&T.push(N.renderWithTemplate("d_cmtpgn_atach_melon_suggest_title",{title:"앨범"})),r=y[b].albumName,d=y[b].albumId,n=y[b].artistName,o=y[b].imgUrl||P.C_ALBUM_DFLT_SRCH_IMG,l=y[b].imgDsplyUrl||P.C_ALBUM_DFLT_DSPLY_IMG,u=w.getHighlightDsplyFormat(r,a,"strong"),T.push(N.renderWithTemplate("d_cmtpgn_atach_melon_suggest_album_keyword_entry_template",{albumName:r,albumNameHighlight:u,artistName:n,albumId:d,imgUrl:o,imgDsplyUrl:l}));v(".wrap_auto_search").find(".thumb_result li.class02").clone().find("img").on("error",function(e){}),0<t.find(".d_cmtpgn_atach_suggest_keyword").length?t.find(".d_cmtpgn_atach_suggest_keyword").replaceWith(N.renderWithTemplate("d_cmtpgn_atach_melon_suggest_keyword_box_template",{suggestKeywordListHtml:T.join("")})):t.find("input.d_cmtpgn_atach_music_srch_input").after(N.renderWithTemplate("d_cmtpgn_atach_melon_suggest_keyword_box_template",{suggestKeywordListHtml:T.join("")})),t.addClass("on")}else t.removeClass("on").find(".d_cmtpgn_atach_suggest_keyword").remove();w.log("@worker.callback.atach.music.suggest() executed done.")}},R.callback.atach.music.song=function(e,t,a,n,r,i,o,l,s,c,d,m,_,p){w.log("@worker.callback.music.song() executed."),w.log("@worker.callback.music.song() executed. editingCmtSeq=["+e+"], editingAtachSeq=["+t+"], artistId=["+a+"], artistName=["+n+"], albumImagePath=["+o+"], albumId=["+r+"], albumName=["+i+"], songId=["+l+"], songName=["+s+"], songAdultFlag=["+c+"], songAvailFlag=["+d+"], songHoldBackFlag=["+m+"], songFreezoneFlag=["+_+"], songHotSongFlag=["+p+"]");var u={atachPropty:{}},g=(u.atachSeq=Number(t),u.atachType=P.C_ATACH_TYPE_MUSIC_SONG,u.atachValue=l,a.split(",")),h=n.split(",");if(!0===w.isDefined(g)&&0<g.length){u.atachPropty.artistList=[];for(var f=0;f<h.length;f++)u.atachPropty.artistList.push({artistId:g[f],artistName:h[f]})}u.atachPropty.albumId=r,u.atachPropty.albumName=i,u.atachPropty.albumImagePath=o,u.atachPropty.songId=l,u.atachPropty.songName=s,u.atachPropty.adultFlag=c,u.atachPropty.svcAvailFlag=d,u.atachPropty.holdBackFlag=m,u.atachPropty.freezoneFlag=_,u.atachPropty.hotSongFlag=p,R.callback.atach.render(e,u,!1),R.reset.atach.music(e,!0),w.log("@worker.callback.music.song() executed done.")},R.callback.atach.music.album=function(e,t,a,n,r,i,o,l,s){w.log("@worker.callback.music.album() executed."),w.log("@worker.callback.music.album() executed. editingCmtSeq=["+e+"], editingAtachSeq=["+t+"], artistId=["+a+"], artistName=["+n+"], albumId=["+r+"], albumName=["+i+"], albumImagePath=["+o+"], albumIssueDate=["+l+"], albumAvailFlag=["+s+"]");var c={atachPropty:{}},d=(c.atachSeq=Number(t),c.atachType=P.C_ATACH_TYPE_MUSIC_ALBUM,c.atachValue=r,a.split(",")),m=n.split(",");if(!0===w.isDefined(d)&&0<d.length){c.atachPropty.artistList=[];for(var _=0;_<m.length;_++)c.atachPropty.artistList.push({artistId:d[_],artistName:m[_]})}c.atachPropty.albumId=r,c.atachPropty.albumName=i,c.atachPropty.albumImagePath=o,c.atachPropty.dsplyIssueDate=l,c.atachPropty.svcAvailFlag=s,R.callback.atach.render(e,c,!1),R.reset.atach.music(e,!0),w.log("@worker.callback.music.album() executed done.")},R.callback.atach.music.artist=function(e,t,a,n,r,i,o,l,s,c){w.log("@worker.callback.music.artist() executed."),w.log("@worker.callback.music.artist() executed. editingCmtSeq=["+e+"], editingAtachSeq=["+t+"], artistId=["+a+"], artistName=["+n+"], artistImagePath=["+r+"], artistNationalityName=["+i+"], artistSexTypeName=["+o+"], artistActTypeName=["+l+"], artistGnrTypeName=["+s+"], artistFanCnt=["+c+"]");var d={atachPropty:{}};d.atachSeq=Number(t),d.atachType=P.C_ATACH_TYPE_MUSIC_ARTIST,d.atachValue=a,d.atachPropty.artistId=a,d.atachPropty.artistName=n,d.atachPropty.artistImagePath=r,d.atachPropty.nationalityName=i,d.atachPropty.sex=o,d.atachPropty.actTypeName=l,d.atachPropty.gnr=s,d.atachPropty.fanCnt=c,R.callback.atach.render(e,d,!1),R.reset.atach.music(e,!0),w.log("@worker.callback.music.artist() executed done.")},R.callback.atach.video=function(e,t,a,n,r,i,o,l,s,c,d,m,_,p){w.log("@worker.callback.atach.video() executed."),w.log("@worker.callback.atach.video() executed. editingCmtSeq=["+e+"], editingAtachSeq=["+t+"], artistId=["+a+"], artistName=["+n+"], videoId=["+r+"], videoTitle=["+i+"], videoImagePath=["+o+"], videoAdultFlag=["+l+"], videoAgeLevel=["+s+"], videoPlayTime=["+c+"], videoViewCnt=["+d+"], videoIssueDate=["+m+"], videoAvailFlag=["+_+"], songId=["+p+"]");var u={atachPropty:{}},g=(u.atachSeq=Number(t),u.atachType=P.C_ATACH_TYPE_VIDEO,u.atachValue=r,a.split(",")),h=n.split(",");if(!0===w.isDefined(g)&&0<g.length){u.atachPropty.artistList=[];for(var f=0,T=g.length;f<T;f++)u.atachPropty.artistList.push({artistId:g[f],artistName:h[f]})}u.atachPropty.videoId=r,u.atachPropty.videoTitle=i,u.atachPropty.videoImagePath=o,u.atachPropty.videoAdultFlag=l,u.atachPropty.videoAgeLevel=s,u.atachPropty.dsplyPlayTime=c,u.atachPropty.videoViewCnt=d,u.atachPropty.dsplyVideoIssueDate=m,u.atachPropty.svcAvailFlag=_,u.atachPropty.songId=p,R.callback.atach.render(e,u,!1),R.reset.atach.video(e,!0),w.log("@worker.callback.atach.video() executed done.")},R.callback.atach.video.srch=function(e){var t,a,n;w.log("@worker.callback.atach.video.srch() executed. data is",e),e.STATUS!==P.C_STATUS_SUCCESS?R.render.atach.video.loading.finish(!0,e.backdata.editingCmtSeq):(t=e.result.pageInfo,a=e.result.musicList,n=e.result.pagingInfo,R.render.atach.video.srch(e.backdata.editingCmtSeq,t,a,n),R.render.atach.video.loading.finish(!1,e.backdata.editingCmtSeq),w.log("@worker.callback.atach.video.srch() executed done."))},R.callback.atach.video.suggest=function(e){if(w.log("worker.callback.atach.video.suggest() executed. data is",e),H&&e.STATUS===P.C_STATUS_SUCCESS){var t=(Number(e.backdata.editingCmtSeq)===P.C_EMPTY_KEY?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e.backdata.editingCmtSeq)+'"]').find(".d_cmtpgn_cmt_edit_box")).find(".d_cmtpgn_atach_video_layer").find(".d_cmtpgn_atach_srch_box"),a=t.find("input.d_cmtpgn_atach_video_srch_input").val();if(!0!==w.isEmpty(a)&&w.isDefined(e.result)&&w.isDefined(e.result.musicKeywordList)&&0<e.result.musicKeywordList.length){for(var n,r,i=[],o=e.result.musicKeywordList,l=0,s=o.length;l<s;l++)n=o[l].keyword,r=w.getHighlightDsplyFormat(n,a,"strong"),i.push(N.renderWithTemplate("d_cmtpgn_atach_melon_suggest_keyword_entry_template",{suggestKeyword:n,suggestHighlightKeyword:r}));0<t.find(".d_cmtpgn_atach_suggest_keyword").length?t.find(".d_cmtpgn_atach_suggest_keyword").replaceWith(N.renderWithTemplate("d_cmtpgn_atach_melon_suggest_keyword_box_template",{suggestKeywordListHtml:i.join("")})):t.find("input.d_cmtpgn_atach_video_srch_input").after(N.renderWithTemplate("d_cmtpgn_atach_melon_suggest_keyword_box_template",{suggestKeywordListHtml:i.join("")})),t.addClass("on")}else t.removeClass("on").find(".d_cmtpgn_atach_suggest_keyword").remove();w.log("worker.callback.atach.video.suggest() executed done.")}},R.callback.atach.image=function(e){if(w.log("@worker.callback.atach.image() executed."),Number(e.STATUS)===Number(P.C_STATUS_SUCCESS)){var t={atachPropty:{}};t.atachSeq=Number(r.editingAtachSeq),t.atachType=P.C_ATACH_TYPE_IMAGE,t.atachValue=h.C_CDN_DOWNLOAD_HOST+r.targetFilePath+"/"+r.targetFileName,t.atachName=r.fileName,w.log("worker.callback.atach.image() upload fileName=["+t.atachName+"]"),w.log("worker.callback.atach.image() upload data.file=["+e.file+"]"),w.log("worker.callback.atach.image() upload path+name=["+r.targetFilePath+"/"+r.targetFileName+"]"),t.atachPropty.originalUrl=h.C_CDN_DOWNLOAD_HOST+r.targetFilePath+"/"+r.targetFileName+h.C_CDN_ORIGINAL_POSTFIX,t.atachPropty.thumbUrl=h.C_CDN_DOWNLOAD_HOST+r.targetFilePath+"/"+r.targetFileName+h.C_CDN_THUMBNAIL_POSTFIX,R.callback.atach.render(r.editingCmtSeq,t,!1),R.reset.atach.image(r.editingCmtSeq,!0)}else switch(e.code){case 2:alert(f.CDN02);break;case 3:alert(f.CDN03);break;case 4:alert(f.CDN04);break;case 6:alert(f.CDN06);break;case 7:alert(f.CDN07);break;case 8:alert(f.CDN08);break;case 9:alert(f.CDN09);break;case 91:alert(f.CDN91);break;case 94:alert(f.CDN94);break;case 95:alert(f.CDN95);break;case 96:alert(f.CDN96);break;case 98:alert(f.CDN98);break;case 99:alert(f.CDN99);break;default:alert(f.CMTPGN999)}w.log("@worker.callback.atach.image() executed done.")},R.callback.atach.image.auth=function(e){var t,a,n;w.log("@worker.callback.atach.image.auth() executed. data is",e),e.STATUS!==P.C_STATUS_SUCCESS?R.fallback.alert(e):(r={editingCmtSeq:e.backdata.editingCmtSeq,editingAtachSeq:e.backdata.editingAtachSeq,targetFilePath:e.backdata.targetFilePath,targetFileName:e.backdata.targetFileName,fileName:e.backdata.fileName},w.log("worker.callback.atach.image.auth() G_UPLOAD_HANDLER settled",r),t='<input type="hidden" id="auth" name="auth" value="'+e.authKey+'" />',a='<input type="hidden" id="filePath" name="filePath" value="'+e.backdata.targetFilePath+'" />',n='<input type="hidden" id="fileName" name="fileName" value="'+e.backdata.targetFileName+'" />',(e=(Number(e.backdata.editingCmtSeq)===P.C_EMPTY_KEY?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e.backdata.editingCmtSeq)+'"]').find(".d_cmtpgn_cmt_edit_box")).find(".d_cmtpgn_atach_image_layer").find("input:file")).attr("id","uploadFile").attr("name","uploadFile"),e.closest("form").append('<iframe name="d_cmtpgn_atach_image_frame" style="display:none"></iframe>').append(t).append(a).append(n).append('<input type="hidden" id="overWrite" name="overWrite" value="N" />').submit(),w.log("@worker.callback.atach.image.auth() executed done."))},R.callback.atach.link=function(e){w.log("@worker.callback.atach.link() executed. data is",e);var t={atachPropty:{}};if(e.backdata.linkType===P.C_ATACH_TYPE_LINK_VIDEO){if(e.STATUS!==P.C_STATUS_SUCCESS)return void R.fallback.alert(e);if(!0!==w.isDefined(e.result.videoTitle)||!0!==w.isDefined(e.result.thumbUrl))return void alert(f.CMTPGN017);t.atachSeq=Number(e.backdata.editingAtachSeq),t.atachType=P.C_ATACH_TYPE_LINK_VIDEO,t.atachValue=e.backdata.linkUrl,t.atachPropty.videoUrl=e.result.videoUrl,t.atachPropty.videoTitle=e.result.videoTitle,t.atachPropty.videoWidth=e.result.videoWidth,t.atachPropty.videoHeight=e.result.videoHeight,t.atachPropty.thumbUrl=e.result.thumbUrl}else t.atachSeq=Number(e.backdata.editingAtachSeq),t.atachType=P.C_ATACH_TYPE_LINK_GENRL,t.atachValue=e.backdata.linkUrl,t.atachPropty.linkUrl=e.backdata.linkUrl;R.callback.atach.render(e.backdata.editingCmtSeq,t,!1),R.reset.atach.link(e.backdata.editingCmtSeq,!0),w.log("@worker.callback.atach.link() executed done.")},R.callback.atach.render=function(e,t,a){w.log("@worker.callback.atach.render() executed. cmtSeq=["+e+"]");var n=t.atachType,r=t.atachSeq,t=R.render.atach.entry.edit(e,t),i=(w.log("worker.callback.atach.render() executed. atachType=["+n+"], atachEntryHtml=["+t+"]"),w.log("worker.callback.atach.render() executed. initialFlag=["+a+"]"),Number(e)===P.C_EMPTY_KEY?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e)+'"]').find(".d_cmtpgn_cmt_edit_box")),o=i.find(".d_cmtpgn_cmt_edit_area");Number(e)===P.C_EMPTY_KEY&&0<i.find(".d_cmtpgn_cmt_guide").length&&"none"!==i.find(".d_cmtpgn_cmt_guide").css("display")&&(w.log("worker.callback.atach.render() MAKING STARTING TEXTAREA"),i.find(".d_cmtpgn_cmt_guide").trigger("click")),!0===a?o.append(t):Number(e)===P.C_EMPTY_KEY?1===S.atachMaxCnt&&1===L?(o.find(".d_cmtpgn_atach_box:not(textarea)").last().replaceWith(t),L--,w.log("worker.callback.atach.render() AVAILABLE ATACH COUNT == 1 LIMITED, G_ATACH_CONSTRAINT_REG_COUNT=["+L+"]")):o.append(t):1===S.atachMaxCnt&&1===I?(o.find(".d_cmtpgn_atach_box:not(textarea)").last().replaceWith(t),I--,w.log("worker.callback.atach.render() AVAILABLE ATACH COUNT == 1 LIMITED, G_ATACH_CONSTRAINT_UPDT_COUNT=["+I+"]")):o.append(t),Number(e)===P.C_EMPTY_KEY?(n!==P.C_ATACH_TYPE_TEXT&&L++,w.log("worker.callback.atach.render() AVAILABLE ATACH COUNT++, G_ATACH_CONSTRAINT_REG_COUNT=["+L+"]")):(n!==P.C_ATACH_TYPE_TEXT&&I++,w.log("worker.callback.atach.render() AVAILABLE ATACH COUNT++, G_ATACH_CONSTRAINT_UPDT_COUNT=["+I+"]")),n!==P.C_ATACH_TYPE_TEXT&&(Number(r)===P.C_EMPTY_KEY&&w.adjustCmtAtachText(o),o.find(".d_cmtpgn_atach_box").off(ve).on(ve,"button.d_cmtpgn_atach_del",function(e){e.preventDefault();var t=v(this).closest(".d_cmtpgn_cmt_edit_area"),e=v(this).closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id");return v(this).closest(".d_cmtpgn_atach_box").remove(),Number(e)===P.C_EMPTY_KEY?(L--,w.log("worker.callback.atach.render() AVAILABLE ATACH COUNT++, G_ATACH_CONSTRAINT_REG_COUNT=["+L+"]")):(I--,w.log("worker.callback.atach.render() AVAILABLE ATACH COUNT++, G_ATACH_CONSTRAINT_UPDT_COUNT=["+I+"]")),setTimeout(function(){t.find("textarea:first").focus()},0),!1}).off(Pe).on(Pe,".d_cmtpgn_atach_content",function(e){w.log("worker.callback.atach.render() C_EVENT_TYPE_ATACH_EXECUTE executed."),e.preventDefault();var e=v(this).closest(".d_cmtpgn_atach_box"),t=e.attr("data-atach-type"),e=e.attr("data-atach-id");switch(w.log("worker.callback.atach.render() C_EVENT_TYPE_ATACH_EXECUTE atachedType=["+t+"], atachedId=["+e+"]"),t){case P.C_ATACH_TYPE_MUSIC_SONG:case P.C_ATACH_TYPE_MUSIC_ALBUM:case P.C_ATACH_TYPE_MUSIC_ARTIST:case P.C_ATACH_TYPE_VIDEO:case P.C_ATACH_TYPE_LINK_VIDEO:}w.log("worker.callback.atach.render() C_EVENT_TYPE_ATACH_EXECUTE executed done.")}),o.scrollTop(o[0].scrollHeight)),!0!==a&&!0===S.textAtachUseFlag&&(1<S.atachMaxCnt||1===o.find("textarea.d_cmtpgn_atach_box").length||!0!==o.find(".d_cmtpgn_atach_box").last().is("textarea"))&&(w.log("worker.callback.atach.render() MAKING TAILING TEXTAREA"),R.handler.atach.text(e,P.C_EMPTY_KEY)),w.log("@worker.callback.atach.render() executed done.")},R.render={},R.render.title=function(){w.log("@worker.render.title() executed.");var e,t=A.find("#d_cmtpgn_title_wrapper").hide();T!==P.C_PAGE_TYPE_PHOTO&&(w.log("worker.render.title() un-wrapping photo wrapper preceed."),t.unwrap(),!0===h.C_IS_LOCAL?(e=S.pgnTitle+' (<span class="d_cmtpgn_cnt">0</span>)',t.html(e).show()):t.remove()),R.page.count(),w.log("@worker.render.title() executed done.")},R.render.page=function(e,t){w.log("@worker.render.page() executed."),R.render.title(),R.render.cmt.dummy(),R.render.cmt.write(),R.render.cmt.count(),R.render.cmt.list(e,t),R.render.cmt.navigator(e),R.render.cmt.srch(),R.render.cmt.loading.finish(!1,!0===w.isDefined(t)&&0<t.length||!0===w.isDefined(e)&&0<e.length),R.bind.all(),!0===w.isCmtpgnHashed()&&(w.log("@worker.render.page() __util.isCmtpgnHashed() === true."),0<A.prev().length?v(mt).scrollTop(A.prev().offset().top):v(mt).scrollTop(A.offset().top)),v("#d_cmtpgn").attr("class","d_cmtpgn "),w.log("@worker.render.page() executed done.")},R.render.cmt={},R.render.cmt.loading={},R.render.cmt.loading.start=function(){w.log("@worker.render.cmt.loading.start() executed.");var e=A.find("#d_cmtpgn_cmt_count_wrapper"),t=A.find("#d_cmtpgn_cmt_list_wrapper"),a=A.find("#d_cmtpgn_paginate_wrapper"),n=A.find("#d_cmtpgn_srch_wrapper");(T===P.C_PAGE_TYPE_PHOTO?(e.hide(),t.find(".d_cmtpgn_nodata")):(e.hide(),t.show().find("ul").hide().addBack().find(".d_cmtpgn_loading").show().addBack().find(".d_cmtpgn_fallback").hide().addBack().find(".d_cmtpgn_nodata").hide(),a.hide(),n)).hide(),w.log("@worker.render.cmt.loading.start() executed done.")},R.render.cmt.loading.finish=function(e,t){var a,n,r,i;w.log("@worker.render.cmt.loading.finish() executed. fallbackFlag=["+e+"], dataFlag=["+t+"]"),!0!==e&&(a=(e=A.find("#d_cmtpgn_cmt_count_wrapper")).find(".d_cmtpgn_sort_option_wrapper"),n=A.find("#d_cmtpgn_cmt_list_wrapper"),r=A.find("#d_cmtpgn_paginate_wrapper"),i=A.find("#d_cmtpgn_srch_wrapper"),T!==P.C_PAGE_TYPE_PHOTO?!0===t?(a.show(),e.show(),n.show().find("ul").show().addBack().find(".d_cmtpgn_fallback").hide().addBack().find(".d_cmtpgn_loading").hide().addBack().find(".d_cmtpgn_nodata").hide(),r.show(),i.show()):(a.show(),e.show(),n.show().find("ul").hide().addBack().find(".d_cmtpgn_fallback").hide().addBack().find(".d_cmtpgn_loading").hide().addBack().find(".d_cmtpgn_nodata").show(),r.hide(),!0===w.isEmpty(k)||!0===w.isEmpty(k.srchWord)?i.hide():i.show()):!0===t?(a.show(),e.show(),n.show().find("ul").show().addBack().find(".d_cmtpgn_fallback").hide().addBack().find(".d_cmtpgn_loading").hide().addBack().find(".d_cmtpgn_nodata").hide()):(a.show(),e.show(),n.show().find("ul").hide().addBack().find(".d_cmtpgn_fallback").hide().addBack().find(".d_cmtpgn_loading").hide().addBack().find(".d_cmtpgn_nodata").show()),!0===t)&&w.adjustCmtAtachText(n),w.log("@worker.render.cmt.loading.finish() executed done.")},R.render.cmt.navigator=function(e){if(w.log("@worker.render.cmt.navigator() executed."),105==E)if(T!==P.C_PAGE_TYPE_PHOTO){w.log("worker.render.cmt.navigator() totalCnt=["+k.totalCnt+"], pageList=["+w.isDefined(d.pageList)+"], length=["+d.pageList.length+"]");var t=A.find("#d_cmtpgn_paginate_wrapper");if(0<k.totalCnt&&!0===w.isDefined(e)&&0<e.length&&!0===w.isDefined(d.pageList)&&0<d.pageList.length){(o={}).firstPageClassString=Number(k.pageNo)===Number(d.firstPageNo)?' class="btn_first disabled d_cmtpgn_navigator_on_photo_first"':' class="btn_first d_cmtpgn_navigator_on_photo_first"',o.prevPageClassString=0===Number(d.prevGroupPageNo)?' class="btn_pre disabled d_cmtpgn_navigator_on_photo_before"':' class="btn_pre d_cmtpgn_navigator_on_photo_before"',o.nextPageClassString=0===Number(d.nextGroupPageNo)?' class="btn_next disabled d_cmtpgn_navigator_on_photo_next"':' class="btn_next d_cmtpgn_navigator_on_photo_next"',o.lastPageClassString=Number(k.pageNo)===Number(d.lastPageNo)?' class="btn_last disabled d_cmtpgn_navigator_on_photo_end"':' class="btn_last d_cmtpgn_navigator_on_photo_end"';for(var a=[],n=k.pageNo,r=0,i=d.pageList.length;r<i;r++)n===d.pageList[r].page?a.push('<strong><span class="none">현재페이지</span>'+d.pageList[r].page+"</strong>"):a.push('<a href="" class="d_cmtpgn_navigator_on_photo">'+d.pageList[r].page+"</a>");o.pagingEntryListHtml=a.join(""),t.html(N.renderWithTemplate("d_cmtpgn_navigator_template_on_photo",o)),Number(k.pageNo)===Number(d.firstPageNo)&&t.find(".btn_first").removeAttr("href"),0===Number(d.prevGroupPageNo)&&t.find(".btn_pre").removeAttr("href"),0===Number(d.nextGroupPageNo)&&t.find(".btn_next").removeAttr("href"),Number(k.pageNo)===Number(d.lastPageNo)&&t.find(".btn_last").removeAttr("href")}else t.html("")}else A.find("#d_cmtpgn_cmt_more_wrapper>button.d_cmtpgn_cmt_more").length<1&&(A.find("#d_cmtpgn_srch_wrapper,#d_cmtpgn_paginate_wrapper").remove(),A.find("#d_cmtpgn_title_wrapper").replaceWith(N.renderWithTemplate("d_cmtpgn_photo_type_title_wrapper_template")),A.find("#d_cmtpgn_title_wrapper").html(S.pgnTitle).show(),A.find("#d_cmtpgn_photo_inner_wrapper").wrap(N.renderWithTemplate("d_cmtpgn_photo_type_outer_wrapper_template")).show(),A.find("#d_cmtpgn_photo_inner_wrapper").after(N.renderWithTemplate("d_cmtpgn_photo_type_cmt_more_template",{pgnTitle:S.pgnTitle})));else{w.log("worker.render.cmt.navigator() totalCnt=["+k.totalCnt+"], pageList=["+w.isDefined(d.pageList)+"], length=["+d.pageList.length+"]");t=A.find("#d_cmtpgn_paginate_wrapper");if(0<k.totalCnt&&!0===w.isDefined(e)&&0<e.length&&!0===w.isDefined(d.pageList)&&0<d.pageList.length){(o={}).firstPageHashString=w.makeCmtpgnUrlHashString(R.controller.value(),!1,d.firstPageNo,k.sortType,k.srchType,k.srchWord),o.prevPageHashString=w.makeCmtpgnUrlHashString(R.controller.value(),!1,d.prevGroupPageNo,k.sortType,k.srchType,k.srchWord),o.nextPageHashString=w.makeCmtpgnUrlHashString(R.controller.value(),!1,d.nextGroupPageNo,k.sortType,k.srchType,k.srchWord),o.lastPageHashString=w.makeCmtpgnUrlHashString(R.controller.value(),!1,d.lastPageNo,k.sortType,k.srchType,k.srchWord),o.firstPageClassString=Number(k.pageNo)===Number(d.firstPageNo)?' class="btn_first disabled d_cmtpgn_navigator"':' class="btn_first d_cmtpgn_navigator"',o.prevPageClassString=0===Number(d.prevGroupPageNo)?' class="btn_pre disabled d_cmtpgn_navigator"':' class="btn_pre d_cmtpgn_navigator"',o.nextPageClassString=0===Number(d.nextGroupPageNo)?' class="btn_next disabled d_cmtpgn_navigator"':' class="btn_next d_cmtpgn_navigator"',o.lastPageClassString=Number(k.pageNo)===Number(d.lastPageNo)?' class="btn_last disabled d_cmtpgn_navigator"':' class="btn_last d_cmtpgn_navigator"';for(var o,a=[],n=k.pageNo,r=0,i=d.pageList.length;r<i;r++)n===d.pageList[r].page?a.push('<strong><span class="none">현재페이지</span>'+d.pageList[r].page+"</strong>"):a.push('<a href="#'+w.makeCmtpgnUrlHashString(R.controller.value(),!1,d.pageList[r].page,k.sortType,k.srchType,k.srchWord)+'" class="d_cmtpgn_navigator">'+d.pageList[r].page+"</a>");o.pagingEntryListHtml=a.join(""),t.html(N.renderWithTemplate("d_cmtpgn_navigator_template",o)),Number(k.pageNo)===Number(d.firstPageNo)&&t.find(".btn_first").removeAttr("href"),0===Number(d.prevGroupPageNo)&&t.find(".btn_pre").removeAttr("href"),0===Number(d.nextGroupPageNo)&&t.find(".btn_next").removeAttr("href"),Number(k.pageNo)===Number(d.lastPageNo)&&t.find(".btn_last").removeAttr("href")}else t.html("")}w.log("@worker.render.cmt.navigator() executed done.")},R.render.cmt.count=function(){w.log("@worker.render.cmt.count() executed.");var e=A.find("#d_cmtpgn_cmt_count_wrapper"),t={};t.totalCnt=w.getNumericDsplyFormat(k.totalCnt),t.srchWord=u.string.escapeHTML(k.srchWord),!0===S.sortUseFlag&&(105==E&&T!==P.C_PAGE_TYPE_PHOTO?(k.sortType===P.C_CMT_SORT_TYPE_RECENT?t.sortTypeRecentHtml='<li class="on">최신순</li>':t.sortTypeRecentHtml='<li><a href="" class="sort_option_on_photo_recent" title="최신순으로 보기">최신순</a></li>',!0===S.recmUseFlag&&(k.sortType===P.C_CMT_SORT_TYPE_RECM?t.sortTypeRecmHtml='<li class="on">추천순</li>':t.sortTypeRecmHtml='<li><a href="" class="sort_option_on_photo_recm" title="추천순으로 보기">추천순</a></li>'),!0===S.adcmtUseFlag&&(k.sortType===P.C_CMT_SORT_TYPE_ADCMT?t.sortTypeAdcmtHtml='<li class="on">댓글순</li>':t.sortTypeAdcmtHtml='<li><a href="" class="sort_option_on_photo_adcmt" title="댓글순으로 보기">댓글순</a></li>')):(k.sortType===P.C_CMT_SORT_TYPE_RECENT?t.sortTypeRecentHtml='<li class="on">최신순</li>':t.sortTypeRecentHtml='<li><a href="#'+w.makeCmtpgnUrlHashString(R.controller.value(),!1,P.C_CMT_DFLT_PAGE_NO,P.C_CMT_SORT_TYPE_RECENT,k.srchType,k.srchWord)+'" title="최신순으로 보기">최신순</a></li>',!0===S.recmUseFlag&&(k.sortType===P.C_CMT_SORT_TYPE_RECM?t.sortTypeRecmHtml='<li class="on">추천순</li>':t.sortTypeRecmHtml='<li><a href="#'+w.makeCmtpgnUrlHashString(R.controller.value(),!1,P.C_CMT_DFLT_PAGE_NO,P.C_CMT_SORT_TYPE_RECM,k.srchType,k.srchWord)+'" title="추천순으로 보기">추천순</a></li>'),!0===S.adcmtUseFlag&&(k.sortType===P.C_CMT_SORT_TYPE_ADCMT?t.sortTypeAdcmtHtml='<li class="on">댓글순</li>':t.sortTypeAdcmtHtml='<li><a href="#'+w.makeCmtpgnUrlHashString(R.controller.value(),!1,P.C_CMT_DFLT_PAGE_NO,P.C_CMT_SORT_TYPE_ADCMT,k.srchType,k.srchWord)+'" title="댓글순으로 보기">댓글순</a></li>'))),(k.srchType===P.C_CMT_SRCH_TYPE_MEMBER||k.srchType===P.C_CMT_SRCH_TYPE_CONTS)&&0<k.srchWord.length?(w.log("worker.render.cmt.count() countTemplatePropty.srchWord=["+t.srchWord+"]"),e.html(N.renderWithTemplate("d_cmtpgn_page_srch_template",t))):e.html(N.renderWithTemplate("d_cmtpgn_page_sort_template",t)),e.find(".d_cmtpgn_sort_option_wrapper").find("li:first").addClass("first_child"),w.log("@worker.render.cmt.count() executed done.")},R.render.cmt.srch=function(){if(w.log("@worker.render.cmt.srch() executed. srchType=["+k.srchType+"], G_PAGE_INFO.srchWord=["+k.srchWord+"]"),!0===S.srchUseFlag){var e=A.find("#d_cmtpgn_srch_wrapper");if(!0!==w.isEmpty(k.srchType))switch(Number(k.srchType)){case P.C_CMT_SRCH_TYPE_MEMBER:0;break;case P.C_CMT_SRCH_TYPE_CONTS:0}e.find(".d_cmtpgn_srch_option_wrapper").length,e.find("input.d_cmtpgn_srch_input").val("").placeholder("update"),!0!==w.isEmpty(k.srchWord)?(e.find("input.d_cmtpgn_srch_input").val(k.srchWord),e.find("input.d_cmtpgn_srch_input").focus(),A.find("#d_cmtpgn_srch_cancel_wrapper").length<1&&A.find("#d_cmtpgn_paginate_wrapper").before(N.renderWithTemplate("d_cmtpgn_srch_cancel_template"))):A.find("#d_cmtpgn_srch_cancel_wrapper").remove()}w.log("@worker.render.cmt.srch() executed done.")},R.render.cmt.dummy=function(){var e;A.find("#"+h.C_CMT_DUMMY_FORM_NAME).length<1&&(e=w.getEditAreaRect(g,C,P.C_TEXT_DUMMY_LEVEL_DSPLY),A.append(N.renderWithTemplate("d_cmtpgn_dummy_textarea_template",{textareaName:h.C_CMT_DUMMY_TEXTAREA_NAME,textareaWidthValue:e.width,textareaHeightValue:e.height})),A.append('<form id="'+h.C_CMT_DUMMY_FORM_NAME+'" name="'+h.C_CMT_DUMMY_FORM_NAME+'"></form>'))},R.render.cmt.write=function(){var e,t,a;w.log("@worker.render.cmt.write() executed."),!0===S.cmtWriteUseFlag&&((e={}).cmtSeq=P.C_EMPTY_KEY,e.pgnTitle=S.pgnTitle,918==Number(E)?e.cmtRegMaxLengthConf=500:e.cmtRegMaxLengthConf=S.cmtRegMaxLength,918==Number(E)?e.guideTextConf=w.getGuideDsplyFormat(f.CMTPGN703):e.guideTextConf=w.getGuideDsplyFormat(f.CMTPGN701),C==P.C_TEXTAREA_TYPE_MEDIUM&&(e.boxType="type02",A.find(".list_cmt").addClass("list_type_small")),11==Number(E)&&(A.find(".list_cmt").removeClass("list_type_small"),A.find(".list_cmt").addClass("list_type_visitor")),t=Math.floor(2*Math.random()),w.isDefined(rt)&&(e.memberImage=rt,e.memberKey=nt,""!=e.memberImage)&&null!=e.memberImage||(e.memberImage=0==t?DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/cmt/web/common/noArtist03_54.jpg"):1==t?DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/cmt/web/common/noArtist01_54.jpg"):DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/cmt/web/common/noArtist02_54.jpg")),!0===it?(e.memberKey="artist_"+ot,e.memberImage=lt,e.cursorImage=""):1==st?(e.memberKey="ancm_"+nt,e.memberImage=rt,e.cursorImage='style="cursor:default; text-decoration:none;"'):(e.memberKey=nt,e.cursorImage=""),T!=P.C_PAGE_TYPE_PHOTO?(e.memberImageArea=N.renderWithTemplate("d_cmtpgn_cmt_member_image_area_template",e),e.writeBoxClass=918==E?"re_textarea_wrap2":"re_textarea_wrap"):e.writeBoxClass="ancm",!0===S.secrtUseFlag?e.funcBtnHtml=N.renderWithTemplate("d_cmtpgn_secrt_check_box_template",{cmtSeq:"0"}):!0!==S.atachUseFlag&&!0!==S.snsSyncpstUseFlag||(!0===S.atachUseFlag&&(a=[t=0,-29,-59,-89],!0===S.musicAtachUseFlag&&(e.atachMusicBtnHtml=N.renderWithTemplate("d_cmtpgn_atach_music_layer_btn_template",{layerLeftPositionValue:a[t++]})),!0===S.imageAtachUseFlag&&(e.atachImageBtnHtml=N.renderWithTemplate("d_cmtpgn_atach_image_layer_btn_template",{layerLeftPositionValue:a[t++]})),!0===S.vdoAtachUseFlag&&(e.atachVideoBtnHtml=N.renderWithTemplate("d_cmtpgn_atach_video_layer_btn_template",{layerLeftPositionValue:a[t++]})),!0!==S.linkAtachUseFlag||!0!==S.vdoLinkAtachUseFlag&&!0!==S.genrlLinkAtachUseFlag||(e.atachLinkBtnHtml=N.renderWithTemplate("d_cmtpgn_atach_link_layer_btn_template",{layerLeftPositionValue:a[t++]}))),!0===S.snsSyncpstUseFlag&&0==tt&&(e.facebookSyncpstBtnHtml=N.renderWithTemplate("d_cmtpgn_syncpost_btn_template",{pgnTitle:S.pgnTitle,snsName:"facebook",snsTitle:P.C_SITE_NAME_MAP.facebook}),e.twitterSyncpstBtnHtml=N.renderWithTemplate("d_cmtpgn_syncpost_btn_template",{pgnTitle:S.pgnTitle,snsName:"twitter",snsTitle:P.C_SITE_NAME_MAP.twitter})),e.funcBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_write_btn_box_template",e)),T===P.C_PAGE_TYPE_PHOTO?e.cmtBtnHtml=N.renderWithTemplate("d_cmtpgn_photo_type_cmt_reg_btn_box_template"):T===P.C_PAGE_TYPE_GUESTBOOK?e.cmtBtnHtml=N.renderWithTemplate("d_cmtpgn_guestbook_type_cmt_reg_btn_box_template"):e.cmtBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_reg_btn_box_template"),(0<(a=A.find("#d_cmtpgn_cmt_write_box")).length?a.replaceWith(N.renderWithTemplate("d_cmtpgn_cmt_write_box_template",e)):A.find("#d_cmtpgn_cmt_count_wrapper").before(N.renderWithTemplate("d_cmtpgn_cmt_write_box_template",e))).hide(),a=A.find("#d_cmtpgn_cmt_write_box"),!0!==S.atachUseFlag&&a.find(".d_cmtpgn_atach_btn_wrapper").remove(),S.snsSyncpstUseFlag,!0!==S.atachUseFlag&&!0!==S.snsSyncpstUseFlag&&T!==P.C_PAGE_TYPE_GUESTBOOK&&T!==P.C_PAGE_TYPE_PHOTO&&a.addClass("no_btn_wrap"),a.show(),R.render.atach.layer(P.C_EMPTY_KEY)),w.log("@worker.render.cmt.write() executed done.")},R.render.cmt.modify=function(e,t,a){w.log("@worker.render.cmt.modify() executed."),w.log("worker.render.cmt.modify() cmtInfo is",e),w.log("worker.render.cmt.modify() atachList is",t),w.log("worker.render.cmt.modify() memberInfo is",a);var a={},n=(a.cmtSeq=e.cmtSeq,a.pgnTitle=S.pgnTitle,a.cmtRegMaxLengthConf=S.cmtRegMaxLength,!0===S.secrtUseFlag||!0===e.secrtFlag?(!(r="")===e.secrtFlag&&(r=' checked="checked" disabled="disabled"'),a.funcBtnHtml=N.renderWithTemplate("d_cmtpgn_secrt_check_box_template",{cmtSeq:e.cmtSeq,secrtCheckMarkString:r})):!0!==S.atachUseFlag&&!0!==S.snsSyncpstUseFlag||(!0===S.atachUseFlag&&(n=[r=0,-29,-59,-89],!0===S.musicAtachUseFlag&&(a.atachMusicBtnHtml=N.renderWithTemplate("d_cmtpgn_atach_music_layer_btn_template",{layerLeftPositionValue:n[r++]})),!0===S.imageAtachUseFlag&&(a.atachImageBtnHtml=N.renderWithTemplate("d_cmtpgn_atach_image_layer_btn_template",{layerLeftPositionValue:n[r++]})),!0===S.vdoAtachUseFlag&&(a.atachVideoBtnHtml=N.renderWithTemplate("d_cmtpgn_atach_video_layer_btn_template",{layerLeftPositionValue:n[r++]})),!0!==S.linkAtachUseFlag||!0!==S.vdoLinkAtachUseFlag&&!0!==S.genrlLinkAtachUseFlag||(a.atachLinkBtnHtml=N.renderWithTemplate("d_cmtpgn_atach_link_layer_btn_template",{layerLeftPositionValue:n[r++]}))),a.funcBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_modify_btn_box_template",a)),T===P.C_PAGE_TYPE_PHOTO?a.cmtBtnHtml=N.renderWithTemplate("d_cmtpgn_photo_type_cmt_updt_btn_box_template"):a.cmtBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_updt_btn_box_template"),A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+e.cmtSeq+'"]').last()),r=n.find(".d_cmtpgn_cmt_wrapper").append(N.renderWithTemplate("d_cmtpgn_cmt_modify_box_template",a)).hide(),i=r.find(".d_cmtpgn_cmt_edit_area");if(!0!==S.atachUseFlag&&r.find(".d_cmtpgn_atach_btn_wrapper").remove(),!0!==S.atachUseFlag&&T!==P.C_PAGE_TYPE_GUESTBOOK&&T!==P.C_PAGE_TYPE_PHOTO&&r.find(".d_cmtpgn_cmt_edit_box").addClass("no_btn_wrap"),!0===w.isDefined(t)&&0<t.length){t[0].atachType!==P.C_ATACH_TYPE_TEXT&&(w.log("worker.render.cmt.modify() MAKING STARTING TEXTAREA"),R.handler.atach.text(e.cmtSeq,P.C_EMPTY_KEY));for(var o=0,l=t.length;o<l;o++)R.callback.atach.render(e.cmtSeq,t[o],!0),!0!==S.textAtachUseFlag||t[o].atachType===P.C_ATACH_TYPE_TEXT||!0===w.isDefined(t[o+1])&&t[o+1].atachType===P.C_ATACH_TYPE_TEXT||(w.log("worker.render.cmt.modify() MAKING TAILING TEXTAREA"),R.handler.atach.text(e.cmtSeq,P.C_EMPTY_KEY))}else w.log("worker.render.cmt.modify() MAKING STARTING TEXTAREA"),R.handler.atach.text(e.cmtSeq,P.C_EMPTY_KEY);R.render.atach.layer(e.cmtSeq),n.find(".d_cmtpgn_cmt_cont_wrapper").hide().next(".d_cmtpgn_cmt_info_wrapper").hide(),r.show();a=i.find("textarea");a.cmtTextControl({limit:S.cmtRegMaxLength,limitTarget:r.find(".d_cmtpgn_char_cnt"),limitClassName:"textarea.d_cmtpgn_atach_box",allowPaste:S.pastePermFlag}),a.autosize(),i.scrollTop(0),setTimeout(function(){i.find("textarea:first").focus()},0),w.log("@worker.render.cmt.modify() executed done.")},R.render.cmt.list=function(e,t,a){w.log("@worker.render.cmt.list() executed.");var n=[];try{var r=[];if(t)for(var i=0;i<t.length;i++)t[i].memberInfo.memberKey&&"-1"!=t[i].memberInfo.memberKey&&r.push(t[i].memberInfo.memberKey);if(e)for(var o=0;o<e.length;o++)e[o].memberInfo.memberKey&&"-1"!=e[o].memberInfo.memberKey&&r.push(e[o].memberInfo.memberKey);917==E&&checkRsrvList(b,r),rsrvList&&(t&&v.each(t,function(e,t){for(var a=0;a<rsrvList.length;a++)t.memberInfo.memberKey==rsrvList[a]&&(t.memberInfo.melonRsrvFlag=!0)}),e)&&v.each(e,function(e,t){for(var a=0;a<rsrvList.length;a++)t.memberInfo.memberKey==rsrvList[a]&&(t.memberInfo.melonRsrvFlag=!0)})}catch(e){}if(Number(k.pageNo)===P.C_CMT_DFLT_PAGE_NO&&!0===w.isDefined(t)&&0<t.length)for(var l=0,s=t.length;l<s;l++)!0!==t[l].cmtInfo.delFlag&&!0!==t[l].cmtInfo.breakFlag&&n.push(R.render.cmt.top(t[l].cmtInfo,t[l].atachList,t[l].memberInfo));if(!0===w.isDefined(e)&&0<e.length)for(var c=0,d=e.length;c<d;c++)n.push(R.render.cmt.entry(e[c].cmtInfo,e[c].atachList,e[c].memberInfo));var m=A.find("#d_cmtpgn_cmt_list_wrapper");0<n.length?(T===P.C_PAGE_TYPE_PHOTO?(!0===a&&m.find(">ul").remove(),0<m.find(">ul").length?m.find(">ul").append(n.join("")):m.find(".d_cmtpgn_nodata").before('<ul style="display: none;">'+n.join("")+"</ul>")):0<m.find(">ul").length?m.find(">ul").replaceWith('<ul style="display: none;">'+n.join("")+"</ul>"):m.find(".d_cmtpgn_nodata").before('<ul style="display: none;">'+n.join("")+"</ul>"),m.find(">ul>li:first").addClass("first_child")):m.find(">ul").remove(),w.log("@worker.render.cmt.list() executed done.")},R.render.cmt.entry=function(e,t,a){w.log("@worker.render.cmt.entry() executed."),w.log("worker.render.cmt.entry() cmtInfo is ",e),w.log("worker.render.cmt.entry() atachList is ",t),w.log("worker.render.cmt.entry() memberInfo is ",a);var n={};if(n.cmtSeq=e.cmtSeq,n.cmtNo=e.cmtNo,"918"==E&&isValidBpUser(bpList,a,e)?(n.nicknameColor="color:#00b523",n.memberNickname="공연기획사",a.memberKey=-1):n.memberNickname=a.memberNickname,!0===e.memberRecmFlag&&(n.memberRecmMarkClass=" on"),!0===e.memberNonRecmFlag&&(n.memberNonRecmMarkClass=" on"),n.viewCnt=w.getNumericDsplyFormat(e.viewCnt),n.recmCnt=w.getNumericDsplyFormat(e.recmCnt),n.nonRecmCnt=w.getNumericDsplyFormat(e.nonRecmCnt),n.adcmtCnt=w.getNumericDsplyFormat(e.validAdcmtCnt),!0!==e.tempActFlag&&(!0===S.adcmtUseFlag||0<e.validAdcmtCnt)&&(n.adcmtBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_adcmt_btn_template",n)),!0===S.recmUseFlag&&!0!==e.breakFlag&&!0!==e.delFlag&&!0!==e.tempActFlag&&(n.recmBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_recm_btn_template",n)),!0!==w.isEmpty(n.adcmtBtnHtml)&&!0!==w.isEmpty(n.recmBtnHtml)&&(n.barBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_bar_btn_template")),T!=P.C_PAGE_TYPE_PHOTO?n.funcBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_func_btn_box_template",n):n.funcBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_func_btn_box_photo_template",n),!0===a.artistFlag?(n.atistMarkClass=" atist",n.atistMarkHtml=N.renderWithTemplate("d_cmtpgn_atist_mark_template")):!0===a.melonDjFlag?n.djMarkHtml=N.renderWithTemplate("d_cmtpgn_dj_mark_template"):!0===a.melonRsrvFlag&&(n.rsrvMarkHtml=N.renderWithTemplate("d_cmtpgn_rsrv_mark_template")),!0===e.mobleFlag&&(n.mobleMarkHtml=N.renderWithTemplate("d_cmtpgn_moble_mark_template")),!0===e.newFlag&&(n.newMarkHtml=N.renderWithTemplate("d_cmtpgn_new_mark_template")),!0===e.secrtFlag&&(n.secrtMarkHtml=N.renderWithTemplate("d_cmtpgn_secrt_mark_template"),n.dataCmtSecrtString=' data-cmt-secrt="on"'),!0===e.breakFlag||!0===e.delFlag)n.replaceCont=e.cmtCont,n.cmtReplaceHtml=N.renderWithTemplate("d_cmtpgn_cmt_replace_dsply_template",n),!0===e.breakFlag?n.cmtBreak="on":n.cmtBreak="off",n.cmtDel=!0===e.delFlag?"on":"off";else{!0===e.memberCmtFlag?(n.cmtOwner="on",n.personally="personally",!0===S.cmtModifyUseFlag&&(T!=P.C_PAGE_TYPE_PHOTO?n.modifyBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_modify_btn_template"):n.modifyBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_modify_btn_photo_template")),!0===S.cmtDelUseFlag&&(n.ownerBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_owner_btn_box_template",n))):(n.cmtOwner="off",!0===S.reprtUseFlag&&!0!==e.memberReprtFlag&&!0!==a.artistFlag&&(T===P.C_PAGE_TYPE_GUESTBOOK&&!0===u.Auth.isMelonLogin()&&(Number(u.Auth.getMemberKey()),Number(M)),n.reprtBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_reprt_btn_box_template",n))),n.dsplyDate=e.dsplyDate,n.dsplyTime=e.dsplyTime;var r=0,i=0,o=-1;if(!0===w.isDefined(t)&&0<t.length)for(var l=0,s=t.length;l<s;l++)t[l].atachType===P.C_ATACH_TYPE_TEXT?(r++,o=l):(i++,0);n.textFullCont=e.cmtCont||"",n.textFullCont=n.textFullCont.replace(/\n/gi,"<br />");var c=!1,d=(!0===e.secrtFlag&&!0!==e.memberCmtFlag?n.textSumryCont=e.cmtCont||"":(c=(p=w.getCmtSumryDsplyInfo(g,C,e.cmtCont)).expandBtn,n.textSumryCont=p.dsplyText,k.srchType===P.C_CMT_SRCH_TYPE_CONTS&&0<k.srchWord.length&&(w.log("worker.render.cmt.entry() HIGHLITING SRCH WORD"),n.textSumryCont=w.getHighlightDsplyFormat(n.textSumryCont,k.srchWord,"span"))),!0===w.isDefined(e.atachSumry)&&0<e.atachSumry.length&&(n.atachSumryCont=R.render.atach.entry.dsply(e.atachSumry[0])),(!0===c||1<r||1<i)&&(c=!0),!0===e.secrtFlag&&!0!==e.memberCmtFlag?(n.cmtSumryHtml=N.renderWithTemplate("d_cmtpgn_cmt_sumry_dsply_template",n),n.sumryDsplyStyle="block",n.fullDsplyStyle="none"):(n.sumryDsplyStyle="none",n.fullDsplyStyle="block",!0===S.sumryUseFlag&&!0===c?(n.sumryDsplyStyle="block",n.fullDsplyStyle="none",n.expandBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_expand_btn_template",{pgnTitle:S.pgnTitle}),n.cmtSumryHtml=N.renderWithTemplate("d_cmtpgn_cmt_sumry_dsply_template",n)):!0===e.tempActFlag&&(n.tempActCmtDsplyText=S.tempActCmtDsplyText,n.tempActLinkUrlText=S.tempActLinkUrlText,n.cmtReplaceHtml=N.renderWithTemplate("d_cmtpgn_temp_act_detail_btn_template",n))),[]);if(!0!==e.tempActFlag&&!0===w.isDefined(t)&&0<t.length){for(var m=0,_=t.length;m<_;m++)!0===w.isDefined(n.expandBtnHtml)?0<r?(d.push(R.render.atach.entry.dsply(t[m])),o===m?(d.push(N.renderWithTemplate("d_cmtpgn_cmt_collapse_btn_template",{pgnTitle:S.pgnTitle})),n.closeBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_collapse_btn_template",{pgnTitle:S.pgnTitle})):t[m].atachType===P.C_ATACH_TYPE_TEXT&&d.push("<br />")):(0===m&&d.push(N.renderWithTemplate("d_cmtpgn_cmt_collapse_btn_template",{pgnTitle:S.pgnTitle})),d.push(R.render.atach.entry.dsply(t[m]))):d.push(R.render.atach.entry.dsply(t[m]));n.atachFullCont=d.join(""),n.cmtFullHtml=N.renderWithTemplate("d_cmtpgn_cmt_full_dsply_template",n)}}var p=Math.floor(2*Math.random()),c=((!w.isDefined(a.mypageImg)||(n.memberImage=a.mypageImg,n.memberKey=a.memberKey,""==n.memberImage))&&(n.memberImage=0==p?DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/cmt/web/common/noArtist03_54.jpg"):1==p?DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/cmt/web/common/noArtist01_54.jpg"):DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/cmt/web/common/noArtist02_54.jpg")),Number(a.memberKey)<0?'style="cursor:default;text-decoration:none;"':'style="cursor:pointer;text-decoration:none;"');return n.cursorImage=c,n.nickCursor=c,!0===a.artistFlag?(n.memberKey="artist_"+a.artistId,n.memberImage=a.artistImage):1==e.ancmFlag?(n.memberKey="ancm_"+a.memberKey,n.memberImage=a.mypageImg):n.memberKey=a.memberKey,T!=P.C_PAGE_TYPE_PHOTO&&(n.memberImageArea=N.renderWithTemplate("d_cmtpgn_cmt_valid_entry_member_image_area_template",n)),!0===e.delFlag||!0===e.breakFlag||!0===e.tempActFlag?N.renderWithTemplate("d_cmtpgn_cmt_invalid_entry_template",n):T!=P.C_PAGE_TYPE_PHOTO?(w.log("@worker.render.cmt.entry() executed done."),N.renderWithTemplate("d_cmtpgn_cmt_valid_entry_template",n)):(w.log("@worker.render.cmt.entry() executed done."),N.renderWithTemplate("d_cmtpgn_cmt_valid_entry_photo_template",n))},R.render.cmt.top=function(e,t,a){w.log("@worker.render.cmt.top() executed."),w.log("worker.render.cmt.top() cmtInfo is ",e),w.log("worker.render.cmt.top() atachList is ",t),w.log("worker.render.cmt.top() memberInfo is ",a);var n={topMarkString:"top_"},r=(n.cmtSeq=e.cmtSeq,n.memberNickname=a.memberNickname,n.dsplyDate=e.dsplyDate,n.dsplyTime=e.dsplyTime,!0===a.artistFlag?(n.atistMarkClass=" atist",n.atistMarkHtml=N.renderWithTemplate("d_cmtpgn_atist_mark_template")):!0===a.melonDjFlag&&(n.djMarkHtml=N.renderWithTemplate("d_cmtpgn_dj_mark_template")),!0===e.ancmFlag&&(n.ancmMarkHtml=N.renderWithTemplate("d_cmtpgn_ancm_mark_template"),n.ancmMarkStrongTagStartString="<strong>",n.ancmMarkStrongTagEndString="</strong>"),!0===e.recmFlag&&(n.bestMarkHtml=N.renderWithTemplate("d_cmtpgn_best_mark_template",{pgnTitle:S.pgnTitle})),!0===e.secrtFlag&&(n.secrtMarkHtml=N.renderWithTemplate("d_cmtpgn_secrt_mark_template"),n.dataCmtSecrtString=' data-cmt-secrt="on"'),!0!==e.ancmFlag?(!0===e.memberRecmFlag&&(n.memberRecmMarkClass=" on"),!0===e.memberNonRecmFlag&&(n.memberNonRecmMarkClass=" on"),!0!==e.memberCmtFlag&&!0===S.reprtUseFlag&&!0!==e.memberReprtFlag&&!0!==a.artistFlag&&(n.reprtBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_reprt_btn_box_template",n)),n.viewCnt=w.getNumericDsplyFormat(e.viewCnt),n.recmCnt=w.getNumericDsplyFormat(e.recmCnt),n.nonRecmCnt=w.getNumericDsplyFormat(e.nonRecmCnt),n.adcmtCnt=w.getNumericDsplyFormat(e.validAdcmtCnt),(!0===S.adcmtUseFlag&&!0!==e.tempActFlag||0<e.validAdcmtCnt)&&(n.adcmtBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_adcmt_btn_template",n)),!0===S.recmUseFlag&&!0!==e.breakFlag&&!0!==e.delFlag&&!0!==e.tempActFlag&&(n.recmBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_recm_btn_template",n)),!0!==w.isEmpty(n.adcmtBtnHtml)&&!0!==w.isEmpty(n.recmBtnHtml)&&(n.barBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_bar_btn_template")),T!==P.C_PAGE_TYPE_PHOTO?n.funcBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_func_btn_box_template",n):n.funcBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_func_btn_box_photo_template",n),!0===e.memberCmtFlag?(n.cmtOwner="on",n.personally="personally"):n.cmtOwner="off"):(n.cmtOwner="off",n.funcBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_func_btn_box_ancm_template",n)),0),i=0,o=-1;if(!0===w.isDefined(t)&&0<t.length)for(var l=0,s=t.length;l<s;l++)t[l].atachType===P.C_ATACH_TYPE_TEXT?(r++,o=l):(i++,0);n.textFullCont=e.cmtCont||"",n.textFullCont=n.textFullCont.replace(/\n/gi,"<br />");var c=!1,d=(!0===e.secrtFlag&&!0!==e.memberCmtFlag?n.textSumryCont=e.cmtCont||"":(c=(p=w.getCmtSumryDsplyInfo(g,C,e.cmtCont)).expandBtn,n.textSumryCont=p.dsplyText,k.srchType===P.C_CMT_SRCH_TYPE_CONTS&&0<k.srchWord.length&&(n.textSumryCont=w.getHighlightDsplyFormat(n.textSumryCont,k.srchWord,"span"))),!0===w.isDefined(e.atachSumry)&&0<e.atachSumry.length&&(n.atachSumryCont=R.render.atach.entry.dsply(e.atachSumry[0])),(!0===c||1<r||1<i)&&(c=!0),!0===e.secrtFlag&&!0!==e.memberCmtFlag?(n.cmtSumryHtml=N.renderWithTemplate("d_cmtpgn_cmt_sumry_dsply_template",n),n.sumryDsplyStyle="block",n.fullDsplyStyle="none"):!0===S.sumryUseFlag&&!0===c?(n.sumryDsplyStyle="block",n.fullDsplyStyle="none",n.expandBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_expand_btn_template",{pgnTitle:S.pgnTitle}),n.cmtSumryHtml=N.renderWithTemplate("d_cmtpgn_cmt_sumry_dsply_template",n)):(n.sumryDsplyStyle="none",n.fullDsplyStyle="block"),[]);if(!0===w.isDefined(t)&&0<t.length){for(var m=0,_=t.length;m<_;m++)!0===w.isDefined(n.expandBtnHtml)?0<r?(d.push(R.render.atach.entry.dsply(t[m])),o===m?(d.push(N.renderWithTemplate("d_cmtpgn_cmt_collapse_btn_template",{pgnTitle:S.pgnTitle})),n.closeBtnHtml=N.renderWithTemplate("d_cmtpgn_cmt_collapse_btn_template",{pgnTitle:S.pgnTitle})):t[m].atachType===P.C_ATACH_TYPE_TEXT&&d.push("<br />")):(0===m&&d.push(N.renderWithTemplate("d_cmtpgn_cmt_collapse_btn_template",{pgnTitle:S.pgnTitle})),d.push(R.render.atach.entry.dsply(t[m]))):d.push(R.render.atach.entry.dsply(t[m]));n.atachFullCont=d.join(""),n.cmtFullHtml=N.renderWithTemplate("d_cmtpgn_cmt_full_dsply_template",n)}var p=Math.floor(2*Math.random()),c=((!w.isDefined(a.mypageImg)||(n.memberImage=a.mypageImg,n.memberKey=a.memberKey,""==n.memberImage))&&(n.memberImage=0==p?DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/cmt/web/common/noArtist03_54.jpg"):1==p?DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/cmt/web/common/noArtist01_54.jpg"):DeployPhaseUtils.convertUrl("https://cdnimg.melon.co.kr/resource/image/cmt/web/common/noArtist02_54.jpg")),Number(a.memberKey)<0?'style="cursor:default;text-decoration:none;"':'style="cursor:pointer;text-decoration:none;"');return n.cursorImage=c,n.nickCursor=c,!0===a.artistFlag?(n.memberKey="artist_"+a.artistId,n.memberImage=a.artistImage):1==e.ancmFlag?(n.memberKey="ancm_"+a.memberKey,n.memberImage=DeployPhaseUtils.convertUrl("https://cdnticket.melon.co.kr/resource/image/web/thumb/profileimg_melonticket.png"),n.memberNickname="멜론티켓"):n.memberKey=a.memberKey,T!=P.C_PAGE_TYPE_PHOTO?(n.memberImageArea=N.renderWithTemplate("d_cmtpgn_cmt_valid_entry_member_image_area_template",n),w.log("@worker.render.cmt.top() executed done."),N.renderWithTemplate("d_cmtpgn_cmt_valid_entry_template",n)):(w.log("@worker.render.cmt.top() executed done."),N.renderWithTemplate("d_cmtpgn_cmt_valid_entry_photo_template",n))},R.render.adcmt={},R.render.adcmt.list=function(e,t,a){w.log("@worker.render.adcmt.list() executed."),w.log("worker.render.adcmt.list() $target id=["+t.attr("id")+"]"),t.hide();var n=0,r=[];if(!0===w.isDefined(a)&&0<a.length){for(var i=0,o=a.length;i<o;i++)!0===a[i].adcmtInfo.ancmFlag&&!0===a[i].adcmtInfo.delFlag||r.push(R.render.adcmt.entry(a[i].adcmtInfo,a[i].memberInfo)),!0!==a[i].adcmtInfo.delFlag&&!0!==a[i].adcmtInfo.breakFlag&&n++;t.html(r.join(""))}var l=e.closest("li").attr("data-cmt-id"),s="on"===e.closest("li").attr("data-cmt-break"),c="on"===e.closest("li").attr("data-cmt-del"),d="on"===e.closest("li").attr("data-cmt-secrt");if(!0===S.adcmtWriteUseFlag&&!0!=s&&!0!=c){if(!0!==t.next().hasClass("d_cmtpgn_adcmt_write_box")){s={};switch(s.inputWidthValue=w.getAdcmtInputWidth(g,C),s.adcmtRegMaxLengthConf=S.adcmtRegMaxLength,s.adcmtPlaceholderConf=f.CMTPGN702,C){case P.C_TEXTAREA_TYPE_LARGE:case P.C_TEXTAREA_TYPE_MEDIUM:case P.C_TEXTAREA_TYPE_SMALL:}11==Number(E)&&(s.inputWidthValue=424,s.adcmtWrapStyleString=' style="width:529px;"'),T===P.C_PAGE_TYPE_PHOTO?s.adcmtBtnHtml=N.renderWithTemplate("d_cmtpgn_photo_type_adcmt_reg_btn_box_template"):T===P.C_PAGE_TYPE_GUESTBOOK?(s.adcmtWrapAllStyleValue=" wide",!(c="")!==S.secrtUseFlag&&!0!=d||(s.funcBtnHtml=N.renderWithTemplate("d_cmtpgn_secrt_check_box_template",{cmtSeq:l,secrtCheckMarkString:c=!0==d?' checked="checked" disabled="disabled"':c})),s.adcmtBtnHtml=N.renderWithTemplate("d_cmtpgn_guestbook_type_adcmt_reg_btn_template",s)):(s.adcmtWrapAllStyleValue=" wide",s.adcmtBtnHtml=N.renderWithTemplate("d_cmtpgn_adcmt_reg_btn_box_template",s)),s.adcmtInputHtml=N.renderWithTemplate("d_cmtpgn_adcmt_input_template",s),t.after(N.renderWithTemplate("d_cmtpgn_adcmt_input_box_template",s)),t.next().find("input.d_cmtpgn_adcmt_input").placeholder()}else t.next().find("input.d_cmtpgn_adcmt_input").val("").placeholder("update");t.next().show()}t.show(),w.log("worker.render.adcmt.list() data-cmt-id=["+e.closest("li").attr("data-cmt-id")+"]"),w.log("worker.render.adcmt.list() data-cmt-break=["+e.closest("li").attr("data-cmt-break")+"]"),w.log("worker.render.adcmt.list() data-cmt-del=["+e.closest("li").attr("data-cmt-del")+"]"),w.log("worker.render.adcmt.list() data-cmt-owner=["+e.closest("li").attr("data-cmt-owner")+"]"),w.log("worker.render.adcmt.list() data-cmt-secret=["+e.closest("li").attr("data-cmt-secrt")+"]"),e.find(".d_cmtpgn_adcmt_cnt").html(n),w.log("@worker.render.adcmt.list() executed done.")},R.render.adcmt.entry=function(e,t){w.log("@worker.render.adcmt.entry() executed."),w.log("worker.render.adcmt.entry() adcmtInfo is ",e),w.log("worker.render.adcmt.entry() memberInfo is ",t);var a={},n=(a.cmtSeq=e.cmtSeq,"918"==E&&isValidBpUser(bpList,t,e)?(a.nicknameColor="color:#00b523",a.memberNickname="공연기획사",t.memberKey=-1):a.memberNickname=t.memberNickname,a.memberKey=t.memberKey,!0===e.memberCmtFlag?(a.cmtOwner="on",!0===S.adcmtDelUseFlag&&(11==Number(E)?a.ownerBtnHtml=N.renderWithTemplate("d_cmtpgn_adcmt_owner_btn_box_visitor_template"):a.ownerBtnHtml=N.renderWithTemplate("d_cmtpgn_adcmt_owner_btn_box_template"))):a.cmtOwner="off",!0===e.memberRecmFlag&&(a.memberRecmMarkClass=" on"),!0===e.memberNonRecmFlag&&(a.memberNonRecmMarkClass=" on"),a.recmCnt=w.getNumericDsplyFormat(e.recmCnt),a.nonRecmCnt=w.getNumericDsplyFormat(e.nonRecmCnt),!0===S.recmUseFlag&&!0!==e.ancmFlag&&(a.recmBtnHtml=N.renderWithTemplate("d_cmtpgn_adcmt_recm_btn_template",a)),!0===t.artistFlag?(a.atistMarkClass=" atist",a.atistMarkHtml=N.renderWithTemplate("d_cmtpgn_atist_mark_template")):!0===t.melonDjFlag&&(a.djMarkHtml=N.renderWithTemplate("d_cmtpgn_dj_mark_template")),!0===e.mobleFlag&&(a.mobleMarkHtml=N.renderWithTemplate("d_cmtpgn_moble_mark_template")),!0===e.ancmFlag&&(a.ancmMarkHtml=N.renderWithTemplate("d_cmtpgn_ancm_mark_template"),a.ancmMarkStrongTagStartString="<strong>",a.ancmMarkStrongTagEndString="</strong>"),!0===e.newFlag&&(a.newMarkHtml=N.renderWithTemplate("d_cmtpgn_new_mark_template")),!0===e.secrtFlag&&(a.secrtMarkHtml=N.renderWithTemplate("d_cmtpgn_secrt_mark_template"),a.dataCmtSecrtString=' data-cmt-secrt="on"'),!0===e.breakFlag||!0===e.delFlag?(a.replaceCont=e.cmtCont,a.adcmtReplaceHtml=N.renderWithTemplate("d_cmtpgn_adcmt_invalid_dsply_template",a),!0===e.breakFlag?a.cmtBreak="on":a.cmtBreak="off",a.cmtDel=!0===e.delFlag?"on":"off"):!0===e.tempActFlag?(a.tempActCmtDsplyText=S.tempActCmtDsplyText,a.tempActLinkUrlText=S.tempActLinkUrlText,a.adcmtReplaceHtml=N.renderWithTemplate("d_cmtpgn_temp_act_detail_btn_template",a)):(a.dsplyDate=e.dsplyDate,a.dsplyTime=e.dsplyTime,a.adcmtCont=e.cmtCont,a.adcmtContHtml=N.renderWithTemplate("d_cmtpgn_adcmt_valid_dsply_template",a),!0!==e.memberCmtFlag?!0===S.reprtUseFlag&&!0!==e.ancmFlag&&!0!==e.memberReprtFlag&&!0!==t.artistFlag&&(T===P.C_PAGE_TYPE_GUESTBOOK&&!0===u.Auth.isMelonLogin()&&(Number(u.Auth.getMemberKey()),Number(M)),a.reprtBtnHtml=N.renderWithTemplate("d_cmtpgn_adcmt_reprt_btn_box_template",a)):a.personally="personally"),Number(t.memberKey)<0?'style="cursor:default;text-decoration:none;"':'style="cursor:pointer;text-decoration:none;"');a.cursorImage=n,a.nickCursor=n,!0===t.artistFlag?(a.memberKey="artist_"+t.artistId,a.memberImage=t.artistImage):-1==Number(t.memberKey)?a.memberKey="ancm_"+t.memberKey:a.memberKey=t.memberKey;try{918==E&&"멜론티켓"==t.memberNickname&&(a.nicknameColor="color:#00b523")}catch(e){}return w.log("@worker.render.adcmt.entry() executed done."),!0===e.delFlag||!0===e.breakFlag||!0===e.tempActFlag?N.renderWithTemplate("d_cmtpgn_adcmt_invalid_entry_template",a):N.renderWithTemplate("d_cmtpgn_adcmt_valid_entry_template",a)},R.render.atach={},R.render.atach.layer=function(e){var t,a,n;w.log("@worker.render.atach.layer() executed. editingCmtSeq=["+e+"]"),!0===S.atachUseFlag&&(e=Number(e)===P.C_EMPTY_KEY?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e)+'"]').find(".d_cmtpgn_cmt_edit_box"),n=[9,38,68,97],!(t=0)===S.musicAtachUseFlag&&((a={}).bulletLeftPositionValue=n[t++],e.find(".d_cmtpgn_atach_music_layer").html(N.renderWithTemplate("d_cmtpgn_atach_music_layer_template",a))),!0===S.imageAtachUseFlag&&((a={}).bulletLeftPositionValue=n[t++],a.cdnUploadUrl=h.C_CDN_UPLOAD_URL+"?callback=parent._imageAtachUploadHandler",e.find(".d_cmtpgn_atach_image_layer").html(N.renderWithTemplate("d_cmtpgn_atach_image_layer_template",a))),!0===S.vdoAtachUseFlag&&((a={}).bulletLeftPositionValue=n[t++],e.find(".d_cmtpgn_atach_video_layer").html(N.renderWithTemplate("d_cmtpgn_atach_video_layer_template",a))),!0!==S.linkAtachUseFlag||!0!==S.vdoLinkAtachUseFlag&&!0!==S.genrlLinkAtachUseFlag||((a={}).bulletLeftPositionValue=n[t++],!0===S.vdoLinkAtachUseFlag&&!0===S.genrlLinkAtachUseFlag?a.inputTextWidthValue=304:a.inputTextWidthValue=408,(n=e.find(".d_cmtpgn_atach_link_layer")).html(N.renderWithTemplate("d_cmtpgn_atach_link_layer_template",a)),!0===S.vdoLinkAtachUseFlag&&!0===S.genrlLinkAtachUseFlag)||(n.find(".d_cmtpgn_atach_link_option_wrapper").hide(),!0!==S.vdoLinkAtachUseFlag&&(n.find('option[value="'+P.C_ATACH_TYPE_LINK_VIDEO+'"]').remove(),n.find(".d_atach_video_link_guide").remove()),!0!==S.genrlLinkAtachUseFlag&&n.find('option[value="'+P.C_ATACH_TYPE_LINK_GENRL+'"]').remove())),w.log("@worker.render.atach.layer() executed done.")},R.render.atach.music={},R.render.atach.music.srch=function(e,a,t,n){w.log("@worker.render.atach.music.srch() executed.");var r=(Number(e)===P.C_EMPTY_KEY?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e)+'"]').find(".d_cmtpgn_cmt_edit_box")).find(".d_cmtpgn_atach_music_layer"),i=[],o={};if(o.cmtSeq=e,o.songCnt=w.getNumericDsplyFormat(a.songCnt),o.albumCnt=w.getNumericDsplyFormat(a.albumCnt),o.artistCnt=w.getNumericDsplyFormat(a.artistCnt),o.videoCnt=w.getNumericDsplyFormat(a.videoCnt),o.srchWord=a.srchWord,!0===w.isDefined(t)&&0<t.length){for(var l=0,s=t.length;l<s;l++)i.push(R.render.atach.entry.srch(a,t[l]));if(o.musicListHtmlString=i.join(""),!0===w.isDefined(n.pageList)&&0<n.pageList.length){for(var e={},c=(e.firstPageHashString=w.makeMusicSrchHashString(n.firstPageNo,a.musicType,a.sortType,a.srchWord),e.prevPageHashString=w.makeMusicSrchHashString(n.prevGroupPageNo,a.musicType,a.sortType,a.srchWord),e.nextPageHashString=w.makeMusicSrchHashString(n.nextGroupPageNo,a.musicType,a.sortType,a.srchWord),e.lastPageHashString=w.makeMusicSrchHashString(n.lastPageNo,a.musicType,a.sortType,a.srchWord),e.firstPageClassString=Number(a.pageNo)===Number(n.firstPageNo)?' class="btn_first disabled d_cmtpgn_navigator"':' class="btn_first d_cmtpgn_navigator"',e.prevPageClassString=0===Number(n.prevGroupPageNo)?' class="btn_pre disabled d_cmtpgn_navigator"':' class="btn_pre d_cmtpgn_navigator"',e.nextPageClassString=0===Number(n.nextGroupPageNo)?' class="btn_next disabled d_cmtpgn_navigator"':' class="btn_next d_cmtpgn_navigator"',e.lastPageClassString=Number(a.pageNo)===Number(n.lastPageNo)?' class="btn_last disabled d_cmtpgn_navigator"':' class="btn_last d_cmtpgn_navigator"',[]),d=a.pageNo,l=0,m=n.pageList.length;l<m;l++)d===n.pageList[l].page?c.push('<strong><span class="none">현재페이지</span>'+n.pageList[l].page+"</strong>"):c.push('<a href="#'+w.makeMusicSrchHashString(n.pageList[l].page,a.musicType,a.sortType,a.srchWord)+'" class="d_cmtpgn_navigator">'+n.pageList[l].page+"</a>");e.pagingEntryListHtml=c.join(""),o.musicNavigatorHtmlString=N.renderWithTemplate("d_cmtpgn_navigator_template",e)}}0<r.find(".d_cmtpgn_noresult").length&&r.find(".d_cmtpgn_noresult").hide(),r.find(".d_cmtpgn_atach_music_srch_list, .d_cmtpgn_atach_music_srch_navigator").remove();var _=r.find(".d_cmtpgn_atach_srch_box"),p=r.find(".d_cmtpgn_atach_music_srch_option");if(0<Number(a.totalCnt)){if(0<p.length)switch(a.musicType){case P.C_ATACH_MELON_SRCH_TYPE_SONG:p.after(N.renderWithTemplate("d_cmtpgn_atach_song_srch_list_template",o)),p.replaceWith(N.renderWithTemplate("d_cmtpgn_atach_song_srch_result_template",o));break;case P.C_ATACH_MELON_SRCH_TYPE_ALBUM:p.after(N.renderWithTemplate("d_cmtpgn_atach_album_srch_list_template",o)),p.replaceWith(N.renderWithTemplate("d_cmtpgn_atach_album_srch_result_template",o));break;case P.C_ATACH_MELON_SRCH_TYPE_ARTIST:p.after(N.renderWithTemplate("d_cmtpgn_atach_artist_srch_list_template",o)),p.replaceWith(N.renderWithTemplate("d_cmtpgn_atach_artist_srch_result_template",o))}else switch(a.musicType){case P.C_ATACH_MELON_SRCH_TYPE_SONG:_.after(N.renderWithTemplate("d_cmtpgn_atach_song_srch_list_template",o)),_.after(N.renderWithTemplate("d_cmtpgn_atach_song_srch_result_template",o));break;case P.C_ATACH_MELON_SRCH_TYPE_ALBUM:_.after(N.renderWithTemplate("d_cmtpgn_atach_album_srch_list_template",o)),_.after(N.renderWithTemplate("d_cmtpgn_atach_album_srch_result_template",o));break;case P.C_ATACH_MELON_SRCH_TYPE_ARTIST:_.after(N.renderWithTemplate("d_cmtpgn_atach_artist_srch_list_template",o)),_.after(N.renderWithTemplate("d_cmtpgn_atach_artist_srch_result_template",o))}r.find(".d_cmtpgn_atach_music_srch_list").find(">table>tbody>tr:first").addClass("first_child"),!0===w.isDefined(n.pageList)&&0<n.pageList.length&&(e=r.find(".d_cmtpgn_atach_music_srch_navigator"),Number(a.pageNo)===Number(n.firstPageNo)&&e.find(".btn_first").removeAttr("href"),0===Number(n.prevGroupPageNo)&&e.find(".btn_pre").removeAttr("href"),0===Number(n.nextGroupPageNo)&&e.find(".btn_next").removeAttr("href"),Number(a.pageNo)===Number(n.lastPageNo))&&e.find(".btn_last").removeAttr("href")}else{if(0<p.length)switch(a.musicType){case P.C_ATACH_MELON_SRCH_TYPE_SONG:p.replaceWith(N.renderWithTemplate("d_cmtpgn_atach_song_srch_result_template",o));break;case P.C_ATACH_MELON_SRCH_TYPE_ALBUM:p.replaceWith(N.renderWithTemplate("d_cmtpgn_atach_album_srch_result_template",o));break;case P.C_ATACH_MELON_SRCH_TYPE_ARTIST:p.replaceWith(N.renderWithTemplate("d_cmtpgn_atach_artist_srch_result_template",o))}else switch(a.musicType){case P.C_ATACH_MELON_SRCH_TYPE_SONG:_.after(N.renderWithTemplate("d_cmtpgn_atach_song_srch_result_template",o));break;case P.C_ATACH_MELON_SRCH_TYPE_ALBUM:_.after(N.renderWithTemplate("d_cmtpgn_atach_album_srch_result_template",o));break;case P.C_ATACH_MELON_SRCH_TYPE_ARTIST:_.after(N.renderWithTemplate("d_cmtpgn_atach_artist_srch_result_template",o))}(0<r.find(".d_cmtpgn_atach_music_srch_list").length||0<r.find(".d_cmtpgn_atach_music_srch_navigator").length)&&(r.find(".d_cmtpgn_atach_music_srch_list").hide().remove(),r.find(".d_cmtpgn_atach_music_srch_navigator").hide().remove())}p=r.find(".d_cmtpgn_atach_music_srch_option"),r.find("input.d_cmtpgn_atach_music_srch_hidden").val(a.srchWord),r.find("input.d_cmtpgn_atach_music_srch_input").val(a.srchWord),0<p.length&&(v.each(p.find("input:radio"),function(e,t){t.value===a.musicType&&p.find("input:radio").prop("checked",!1).removeAttr("checked").eq(e).prop("checked",!0).attr("checked","checked")}),p.find("select").selectbox("value",a.sortType),p.show()),r.off(Q).on(Q,"button.d_cmtpgn_multiple_artist_btn",function(e){w.log("worker.render.atach.music.srch() C_EVENT_TYPE_MULTIPLE_ARTIST executed."),e.preventDefault();e=v(this).next(".d_cmtpgn_multiple_artist_layer");e.off(Z).on(Z,"button.d_cmtpgn_layer_close_btn",function(e){return w.log("worker.render.atach.music.srch() C_EVENT_TYPE_CLOSE_LAYER executed."),e.preventDefault(),v(this).closest(".d_cmtpgn_multiple_artist_layer").hide(),!1}),"block"===e.css("display")?e.hide():(e.closest(".d_cmtpgn_atach_music_layer").find(".d_cmtpgn_multiple_artist_layer").hide(),e.show()),w.log("worker.render.atach.music.srch() C_EVENT_TYPE_MULTIPLE_ARTIST executed done.")}),w.log("@worker.render.atach.music.srch() executed done.")},R.render.atach.music.loading={},R.render.atach.music.loading.start=function(e){e=(Number(e)===P.C_EMPTY_KEY?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e)+'"]').find(".d_cmtpgn_cmt_edit_box")).find(".d_cmtpgn_atach_music_layer");(0<e.find(".d_cmtpgn_atach_music_srch_option").length?e.find(".d_cmtpgn_loading").show().addBack().find(".d_cmtpgn_noresult").hide().addBack().find(".d_cmtpgn_fallback").hide().addBack().find(".d_cmtpgn_atach_music_srch_list, .d_cmtpgn_atach_music_srch_navigator"):e.find(".d_cmtpgn_loading").show().addBack().find(".d_cmtpgn_noresult").hide().addBack().find(".d_cmtpgn_fallback")).hide()},R.render.atach.music.loading.finish=function(e,t){w.log("@worker.render.atach.music.loading.finish() executed. fallbackFlag=["+e+"]");t=(Number(t)===P.C_EMPTY_KEY?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(t)+'"]').find(".d_cmtpgn_cmt_edit_box")).find(".d_cmtpgn_atach_music_layer");(!0!==e?(0<t.find(".d_cmtpgn_atach_music_srch_list").length?(w.log("worker.render.atach.music.loading.finish() d_cmtpgn_atach_music_srch_list EXISTS."),w.adjustMultipleArtistDsply(t),t.find(".d_cmtpgn_atach_music_srch_list, .d_cmtpgn_atach_music_srch_navigator")):(w.log("worker.render.atach.music.loading.finish() d_cmtpgn_atach_music_srch_list NOT EXISTS."),t.find(".d_cmtpgn_noresult"))).show():t.find(".d_cmtpgn_fallback").show().addBack().find(".d_cmtpgn_noresult").hide()).addBack().find(".d_cmtpgn_loading").hide(),A.find(".d_cmtpgn_atach_suggest_keyword").hide(),w.log("@worker.render.atach.music.loading.finish() executed done.")},R.render.atach.video={},R.render.atach.video.srch=function(e,t,a,n){w.log("@worker.render.atach.video.srch() executed.");var e=(Number(e)===P.C_EMPTY_KEY?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e)+'"]').find(".d_cmtpgn_cmt_edit_box")).find(".d_cmtpgn_atach_video_layer"),r=[],i={};if(i.songCnt=w.getNumericDsplyFormat(t.songCnt),i.albumCnt=w.getNumericDsplyFormat(t.albumCnt),i.artistCnt=w.getNumericDsplyFormat(t.artistCnt),i.videoCnt=w.getNumericDsplyFormat(t.videoCnt),i.srchWord=t.srchWord,!0===w.isDefined(a)&&0<a.length){for(var o=0,l=a.length;o<l;o++)r.push(R.render.atach.entry.srch(t,a[o]));if(i.videoListHtmlString=r.join(""),!0===w.isDefined(n.pageList)&&0<n.pageList.length){for(var s={},c=(s.firstPageHashString=w.makeMusicSrchHashString(n.firstPageNo,t.musicType,t.sortType,t.srchWord),s.prevPageHashString=w.makeMusicSrchHashString(n.prevGroupPageNo,t.musicType,t.sortType,t.srchWord),s.nextPageHashString=w.makeMusicSrchHashString(n.nextGroupPageNo,t.musicType,t.sortType,t.srchWord),s.lastPageHashString=w.makeMusicSrchHashString(n.lastPageNo,t.musicType,t.sortType,t.srchWord),s.firstPageClassString=Number(t.pageNo)===Number(n.firstPageNo)?' class="btn_first disabled d_cmtpgn_navigator"':' class="btn_first d_cmtpgn_navigator"',s.prevPageClassString=0===Number(n.prevGroupPageNo)?' class="btn_pre disabled d_cmtpgn_navigator"':' class="btn_pre d_cmtpgn_navigator"',s.nextPageClassString=0===Number(n.nextGroupPageNo)?' class="btn_next disabled d_cmtpgn_navigator"':' class="btn_next d_cmtpgn_navigator"',s.lastPageClassString=Number(t.pageNo)===Number(n.lastPageNo)?' class="btn_last disabled d_cmtpgn_navigator"':' class="btn_last d_cmtpgn_navigator"',[]),d=t.pageNo,o=0,m=n.pageList.length;o<m;o++)d===n.pageList[o].page?c.push('<strong><span class="none">현재페이지</span>'+n.pageList[o].page+"</strong>"):c.push('<a href="#'+w.makeMusicSrchHashString(n.pageList[o].page,t.musicType,t.sortType,t.srchWord)+'" class="d_cmtpgn_navigator">'+n.pageList[o].page+"</a>");s.pagingEntryListHtml=c.join(""),i.videoNavigatorHtmlString=N.renderWithTemplate("d_cmtpgn_navigator_template",s)}}0<e.find(".d_cmtpgn_noresult").length&&e.find(".d_cmtpgn_noresult").hide(),e.find(".d_cmtpgn_atach_video_srch_list, .d_cmtpgn_atach_video_srch_navigator").hide().remove();var s=e.find(".d_cmtpgn_atach_srch_box"),_=e.find(".d_cmtpgn_atach_video_srch_option");0<Number(t.totalCnt)?(0<_.length?(_.after(N.renderWithTemplate("d_cmtpgn_atach_video_srch_list_template",i)),_.replaceWith(N.renderWithTemplate("d_cmtpgn_atach_video_srch_result_template",i))):(s.after(N.renderWithTemplate("d_cmtpgn_atach_video_srch_list_template",i)),s.after(N.renderWithTemplate("d_cmtpgn_atach_video_srch_result_template",i))),e.find(".d_cmtpgn_atach_video_srch_list").find(">table>tbody>tr:first").addClass("first_child"),!0===w.isDefined(n.pageList)&&0<n.pageList.length&&(i=e.find(".d_cmtpgn_atach_video_srch_navigator"),Number(t.pageNo)===Number(n.firstPageNo)&&i.find(".btn_first").removeAttr("href"),0===Number(n.prevGroupPageNo)&&i.find(".btn_pre").removeAttr("href"),0===Number(n.nextGroupPageNo)&&i.find(".btn_next").removeAttr("href"),Number(t.pageNo)===Number(n.lastPageNo))&&i.find(".btn_last").removeAttr("href")):s.parent().find(".d_cmtpgn_atach_video_srch_option").hide().remove(),_=e.find(".d_cmtpgn_atach_video_srch_option"),e.find("input.d_cmtpgn_atach_video_srch_hidden").val(t.srchWord),e.find("input.d_cmtpgn_atach_video_srch_input").val(t.srchWord),0<_.length&&(_.find("select").selectbox("value",t.sortType),_.show()),e.off(Q).on(Q,"button.d_cmtpgn_multiple_artist_btn",function(e){w.log("worker.render.atach.video.srch() C_EVENT_TYPE_MULTIPLE_ARTIST executed."),e.preventDefault();e=v(this).next(".d_cmtpgn_multiple_artist_layer");e.off(Z).on(Z,"button.d_cmtpgn_layer_close_btn",function(e){return w.log("worker.render.atach.video.srch() C_EVENT_TYPE_CLOSE_LAYER executed."),e.preventDefault(),v(this).closest(".d_cmtpgn_multiple_artist_layer").hide(),!1}),"block"===e.css("display")?e.hide():(e.closest(".d_cmtpgn_atach_video_layer").find(".d_cmtpgn_multiple_artist_layer").hide(),e.show()),w.log("worker.render.atach.video.srch() C_EVENT_TYPE_MULTIPLE_ARTIST executed done.")}),w.log("@worker.render.atach.video.srch() executed done.")},R.render.atach.video.loading={},R.render.atach.video.loading.start=function(e){e=(Number(e)===P.C_EMPTY_KEY?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e)+'"]').find(".d_cmtpgn_cmt_edit_box")).find(".d_cmtpgn_atach_video_layer");(0<e.find(".d_cmtpgn_atach_video_srch_option").length?e.find(".d_cmtpgn_loading").show().addBack().find(".d_cmtpgn_noresult").hide().addBack().find(".d_cmtpgn_fallback").hide().addBack().find(".d_cmtpgn_atach_video_srch_list, .d_cmtpgn_atach_video_srch_navigator"):e.find(".d_cmtpgn_loading").show().addBack().find(".d_cmtpgn_noresult").hide().addBack().find(".d_cmtpgn_fallback")).hide()},R.render.atach.video.loading.finish=function(e,t){w.log("@worker.render.atach.video.loading.finish() executed. fallbackFlag=["+e+"]");t=(Number(t)===P.C_EMPTY_KEY?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(t)+'"]').find(".d_cmtpgn_cmt_edit_box")).find(".d_cmtpgn_atach_video_layer");(!0!==e?(0<t.find(".d_cmtpgn_atach_video_srch_list").length?(w.adjustMultipleArtistDsply(t),t.find(".d_cmtpgn_atach_video_srch_list, .d_cmtpgn_atach_video_srch_navigator")):t.find(".d_cmtpgn_noresult")).show():t.find(".d_cmtpgn_fallback").show().addBack().find(".d_cmtpgn_noresult").hide()).addBack().find(".d_cmtpgn_loading").hide(),A.find(".d_cmtpgn_atach_suggest_keyword").hide()},R.render.atach.entry={},R.render.atach.entry.srch=function(e,t){if(w.log("@worker.render.atach.entry.srch() executed."),!0!==w.isEmpty(t)){w.log("worker.render.atach.entry.srch() musicType=["+e.musicType+"], srchWord=["+e.srchWord+"]");var a,n,r,i=!0;switch(e.musicType){case P.C_ATACH_MELON_SRCH_TYPE_SONG:return a={artistId:"",artistName:""},v.each(t.artistList,function(e){a.artistId+=t.artistList[e].artistId+", ",a.artistName+=t.artistList[e].artistName+", "}),!0!==w.isEmpty(a.artistId)&&(a.artistId=a.artistId.substring(0,a.artistId.lastIndexOf(", "))),!0!==w.isEmpty(a.artistName)&&(a.artistName=a.artistName.substring(0,a.artistName.lastIndexOf(", "))),!0===w.isDefined(t.artistList)&&1<t.artistList.length?(n="",v.each(t.artistList,function(e){!(r="")===i&&(i=!(r=' class="first_child"')),n+=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_srch_entry_template",{firstChildClassString:r,artistName:t.artistList[e].artistName})}),a.multipleArtistLayerHtml=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_srch_layer_template",{artistListHtml:n}),a.maxWidthValue="80"):a.maxWidthValue="90",a.albumId=t.albumId,a.albumName=t.albumName,a.albumThumbUrl=t.albumImagePath||P.C_ALBUM_DFLT_SRCH_IMG,a.albumDsplyThumbUrl=t.albumImageDsplyPath||P.C_ALBUM_DFLT_DSPLY_IMG,a.songId=t.songId,a.songName=t.songName,a.songAdultFlag=t.adultFlag,a.songAvailFlag=t.svcAvailFlag,a.songHoldBackFlag=t.holdBackFlag,a.songFreezoneFlag=t.freezoneFlag,a.songHotSongFlag=t.hotSongFlag,a.dimClassString="",(!(a.disableClass="")===w.isEmpty(t.svcAvailFlag)||1<Number(t.svcAvailFlag))&&(a.dimClassString=' class="no_result"',a.disableClass=" disabled"),w.log("worker.render.atach.entry.srch() C_ATACH_TYPE_MUSIC_SONG atachInfo.adultFlag=["+t.adultFlag+"]"),!(a.songAgeAdultHtml="")===t.adultFlag&&(a.songAgeAdultHtml=N.renderWithTemplate("d_cmtpgn_atach_song_age_adult_template")),!(a.songHoldBackHtml="")===t.holdBackFlag&&(a.songHoldBackHtml=N.renderWithTemplate("d_cmtpgn_atach_song_hold_back_template")),!(a.songFreezoneHtml="")===t.freezoneFlag&&(a.songFreezoneHtml=N.renderWithTemplate("d_cmtpgn_atach_song_free_zone_template")),a.songHighlightName=w.getHighlightDsplyFormat(a.songName,e.srchWord,"strong"),N.renderWithTemplate("d_cmtpgn_atach_song_srch_entry_template",a);case P.C_ATACH_MELON_SRCH_TYPE_ALBUM:return a={artistId:"",artistName:""},v.each(t.artistList,function(e){a.artistId+=t.artistList[e].artistId+", ",a.artistName+=t.artistList[e].artistName+", "}),!0!==w.isEmpty(a.artistId)&&(a.artistId=a.artistId.substring(0,a.artistId.lastIndexOf(", "))),!0!==w.isEmpty(a.artistName)&&(a.artistName=a.artistName.substring(0,a.artistName.lastIndexOf(", "))),!0===w.isDefined(t.artistList)&&1<t.artistList.length?(n="",v.each(t.artistList,function(e){!(r="")===i&&(i=!(r=' class="first_child"')),n+=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_srch_entry_template",{firstChildClassString:r,artistName:t.artistList[e].artistName})}),a.multipleArtistLayerHtml=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_srch_layer_template",{artistListHtml:n}),a.maxWidthValue="80"):a.maxWidthValue="90",a.albumId=t.albumId,a.albumName=t.albumName,a.albumThumbUrl=t.albumImagePath||P.C_ALBUM_DFLT_DSPLY_IMG,a.albumDsplyThumbUrl=t.albumImageDsplyPath||P.C_ALBUM_DFLT_DSPLY_IMG,a.albumIssueDate=t.dsplyIssueDate,a.albumAvailFlag=t.svcAvailFlag,a.dimClassString="",(!(a.disableClass="")===w.isEmpty(t.svcAvailFlag)||1<Number(t.svcAvailFlag))&&(a.dimClassString=' class="no_result"',a.disableClass=" disabled"),a.albumHighlightName=w.getHighlightDsplyFormat(a.albumName,e.srchWord,"strong"),N.renderWithTemplate("d_cmtpgn_atach_album_srch_entry_template",a);case P.C_ATACH_MELON_SRCH_TYPE_ARTIST:(a={}).artistId=t.artistId,a.artistName=t.artistName,a.artistThumbUrl=t.artistImagePath||P.C_ARTIST_DFLT_SRCH_IMG,a.artistDsplyThumbUrl=t.artistImageDsplyPath||P.C_ARTIST_DFLT_DSPLY_IMG,a.artistNationalityName=t.nationalityName,a.artistSexTypeName=t.sex,a.artistActTypeName=t.actTypeName,a.artistAddInfos=[t.nationalityName,t.sex,t.actTypeName],a.artistAddInfo=[];for(var o=0;o<a.artistAddInfos.length;o++)""!=a.artistAddInfos[o]&&a.artistAddInfo.push(a.artistAddInfos[o]);return a.artistAddInfo=a.artistAddInfo.join("/"),a.artistGnrTypeName=t.gnr,a.artistFanCnt=t.fanCnt,a.artistHighlightName=w.getHighlightDsplyFormat(a.artistName,e.srchWord,"strong"),N.renderWithTemplate("d_cmtpgn_atach_artist_srch_entry_template",a);case P.C_ATACH_MELON_SRCH_TYPE_VIDEO:switch(a={artistId:"",artistName:""},v.each(t.artistList,function(e){a.artistId+=t.artistList[e].artistId+", ",a.artistName+=t.artistList[e].artistName+", "}),!0!==w.isEmpty(a.artistId)&&(a.artistId=a.artistId.substring(0,a.artistId.lastIndexOf(", "))),!0!==w.isEmpty(a.artistName)&&(a.artistName=a.artistName.substring(0,a.artistName.lastIndexOf(", "))),!0===w.isDefined(t.artistList)&&1<t.artistList.length?(n="",v.each(t.artistList,function(e){!(r="")===i&&(i=!(r=' class="first_child"')),n+=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_srch_entry_template",{firstChildClassString:r,artistName:t.artistList[e].artistName})}),a.multipleArtistLayerHtml=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_srch_layer_template",{artistListHtml:n}),a.maxWidthValue="80"):a.maxWidthValue="90",a.videoId=t.videoId,a.videoTitle=t.videoTitle,a.videoThumbUrl=t.videoImagePath||P.C_VIDEO_DFLT_SRCH_IMG,a.videoDsplyThumbUrl=t.videoImageDsplyPath||P.C_VIDEO_DFLT_DSPLY_IMG,a.videoAdultFlag=t.videoAdultFlag,a.videoAgeLevel=t.videoAgeLevel,a.videoAgeLevelHtml="",t.videoAgeLevel){case 1:a.videoAgeLevelHtml=N.renderWithTemplate("d_cmtpgn_atach_video_age_level_1_template");break;case 2:a.videoAgeLevelHtml=N.renderWithTemplate("d_cmtpgn_atach_video_age_level_2_template");break;case 3:a.videoAgeLevelHtml=N.renderWithTemplate("d_cmtpgn_atach_video_age_level_3_template");break;case 4:a.videoAgeLevelHtml=N.renderWithTemplate("d_cmtpgn_atach_video_age_level_4_template");break;default:a.videoAgeLevelHtml=N.renderWithTemplate("d_cmtpgn_atach_video_age_level_0_template")}return a.videoPlayTime=t.dsplyPlayTime,a.videoViewCnt=t.videoViewCnt,a.videoIssueDate=t.dsplyVideoIssueDate,a.songId=t.songIdId,a.videoAvailFlag=t.svcAvailFlag,a.dimClassString="",(!(a.disableClass="")===w.isEmpty(t.svcAvailFlag)||1<Number(t.svcAvailFlag))&&(a.dimClassString=' class="no_result"',a.disableClass=" disabled"),a.videoHighlightTitle=w.getHighlightDsplyFormat(a.videoTitle,e.srchWord,"strong"),N.renderWithTemplate("d_cmtpgn_atach_video_srch_entry_template",a)}}return w.log("@worker.render.atach.entry.srch() executed done."),""},R.render.atach.entry.edit=function(e,t){if(w.log("@worker.render.atach.entry.edit() executed. editingCmtSeq=["+e+"]"),w.log("@worker.render.atach.entry.edit() executed. atachInfo is",t),!0!==w.isEmpty(t)){w.log("worker.render.atach.entry.edit() atachType=["+t.atachType+"]");var a,n="",r="";switch(t.atachType){case P.C_ATACH_TYPE_TEXT:(a={}).atachSeq=t.atachSeq,a.atachType=t.atachType,a.atachValue=w.getCmtTextDsplyFormat(t.atachValue),!0===w.isDefined(t.atachPropty)&&(a.textCont=w.getCmtTextDsplyFormat(t.atachPropty.textCont));var i=w.getEditAreaRect(g,C,Number(e)===P.C_EMPTY_KEY?P.C_TEXT_DUMMY_LEVEL_WRITE:P.C_TEXT_DUMMY_LEVEL_MODIFY);return a.textareaWidthValue=i.width,a.textareaHeightValue=i.height,w.log("worker.render.atach.entry.edit() atachEntryHtml=["+N.renderWithTemplate("d_cmtpgn_atach_text_edit_template",a)+"]"),N.renderWithTemplate("d_cmtpgn_atach_text_edit_template",a);case P.C_ATACH_TYPE_MUSIC_SONG:return(a={}).atachSeq=t.atachSeq,a.atachType=t.atachType,a.atachValue=t.atachValue,a.multipleArtistDsplyMaxWidthValue=w.getAtachMultipleArtistDsplyMaxWidth(g,C,t.atachType),!0===w.isDefined(t.atachPropty)?(a.artistListHtml="",!(a.multipleArtistLayerHtml="")===w.isDefined(t.atachPropty.artistList)&&v.each(t.atachPropty.artistList,function(e){a.artistListHtml+=t.atachPropty.artistList[e].artistName+", ",1<t.atachPropty.artistList.length&&(r=0===e?' class="first_child"':"",n+=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_edit_entry_template",{firstChildClassString:r,artistName:t.atachPropty.artistList[e].artistName}))}),!0!==w.isEmpty(a.artistListHtml)&&(a.artistListHtml=a.artistListHtml.substring(0,a.artistListHtml.lastIndexOf(", ")),!0!==w.isEmpty(n))&&(a.multipleArtistLayerHtml=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_edit_layer_template",{artistListHtml:n})),a.albumId=t.atachPropty.albumId,a.albumName=t.atachPropty.albumName,a.albumThumbUrl=t.atachPropty.albumImagePath||P.C_ALBUM_DFLT_DSPLY_IMG,a.songId=t.atachPropty.songId,a.songName=t.atachPropty.songName,a.songAdultFlag="true"===t.atachPropty.adultFlag?"1":"0",a.songAvailFlag=t.atachPropty.svcAvailFlag,a.stAvailFlag=t.atachPropty.stAvailFlag,a.dlAvailFlag=t.atachPropty.dlAvailFlag,a.albumOnlyFlag=t.atachPropty.albumOnlyFlag,a.songHoldBackFlag=t.atachPropty.holdBackFlag,a.songFreezoneFlag=t.atachPropty.freezoneFlag,a.songHotSongFlag=t.atachPropty.hotSongFlag,w.log("worker.render.atach.entry.edit() C_ATACH_TYPE_MUSIC_SONG adultFlag=["+t.atachPropty.adultFlag+"], holdBackFlag=["+t.atachPropty.holdBackFlag+"], freezoneFlag=["+t.atachPropty.freezoneFlag+"], hotSongFlag=["+t.atachPropty.hotSongFlag+"]"),a.songAgeAdultHtml="","true"===t.atachPropty.adultFlag&&(a.songAgeAdultHtml=N.renderWithTemplate("d_cmtpgn_atach_song_age_adult_template"),w.log("worker.render.atach.entry.edit() songAgeAdultHtml=["+N.renderWithTemplate("d_cmtpgn_atach_song_age_adult_template")+"]")),a.songHoldBackHtml="","true"===t.atachPropty.holdBackFlag&&(a.songHoldBackHtml=N.renderWithTemplate("d_cmtpgn_atach_song_hold_back_template"),w.log("worker.render.atach.entry.edit() songHoldBackHtml=["+N.renderWithTemplate("d_cmtpgn_atach_song_hold_back_template")+"]")),a.songFreezoneHtml="","true"===t.atachPropty.freezoneFlag&&(a.songFreezoneHtml=N.renderWithTemplate("d_cmtpgn_atach_song_free_zone_template"),w.log("worker.render.atach.entry.edit() songHoldBackHtml=["+N.renderWithTemplate("d_cmtpgn_atach_song_free_zone_template")+"]"))):a.albumThumbUrl=P.C_ALBUM_DFLT_DSPLY_IMG,w.log("worker.render.atach.entry.edit() atachEntryHtml=["+N.renderWithTemplate("d_cmtpgn_atach_song_edit_template",a)+"]"),N.renderWithTemplate("d_cmtpgn_atach_song_edit_template",a);case P.C_ATACH_TYPE_MUSIC_ALBUM:return(a={}).atachSeq=t.atachSeq,a.atachType=t.atachType,a.atachValue=t.atachValue,a.multipleArtistDsplyMaxWidthValue=w.getAtachMultipleArtistDsplyMaxWidth(g,C,t.atachType),!0===w.isDefined(t.atachPropty)?(a.artistListHtml="",!(a.multipleArtistLayerHtml="")===w.isDefined(t.atachPropty.artistList)&&v.each(t.atachPropty.artistList,function(e){a.artistListHtml+=t.atachPropty.artistList[e].artistName+", ",1<t.atachPropty.artistList.length&&(r=0===e?' class="first_child"':"",n+=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_edit_entry_template",{firstChildClassString:r,artistName:t.atachPropty.artistList[e].artistName}))}),!0!==w.isEmpty(a.artistListHtml)&&(a.artistListHtml=a.artistListHtml.substring(0,a.artistListHtml.lastIndexOf(", ")),!0!==w.isEmpty(n))&&(a.multipleArtistLayerHtml=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_edit_layer_template",{artistListHtml:n})),a.albumId=t.atachPropty.albumId,a.albumName=t.atachPropty.albumName,a.albumThumbUrl=t.atachPropty.albumImagePath||P.C_ALBUM_DFLT_DSPLY_IMG,a.albumIssueDate=t.atachPropty.dsplyIssueDate,a.albumAvailFlag=t.atachPropty.svcAvailFlag,a.albumOnlyFlag=t.atachPropty.albumOnlyFlag,a.albumDiscountFlag=t.atachPropty.albumDiscountFlag,a.totalSongCnt=t.atachPropty.totalSongCnt):a.albumThumbUrl=P.C_ALBUM_DFLT_DSPLY_IMG,w.log("worker.render.atach.entry.edit() atachEntryHtml=["+N.renderWithTemplate("d_cmtpgn_atach_album_edit_template",a)+"]"),N.renderWithTemplate("d_cmtpgn_atach_album_edit_template",a);case P.C_ATACH_TYPE_MUSIC_ARTIST:if((a={}).atachSeq=t.atachSeq,a.atachType=t.atachType,a.atachValue=t.atachValue,!0===w.isDefined(t.atachPropty)){a.artistId=t.atachPropty.artistId,a.artistName=t.atachPropty.artistName,a.artistThumbUrl=t.atachPropty.artistImagePath||P.C_ARTIST_DFLT_DSPLY_IMG,a.artistNationalityName=t.atachPropty.nationalityName,a.artistSexTypeName=t.atachPropty.sex,a.artistActTypeName=t.atachPropty.actTypeName;for(var o=[a.artistNationalityName,a.artistSexTypeName,a.artistActTypeName],l=[],s=0;s<o.length;s++)""!=o[s]&&void 0!==o[s]&&l.push('<span class="none"></span><span>'+o[s]+"</span>");a.aritstAddInfoHtml=l.join('<span class="bar">|</span>'),0<l.length&&""!=t.atachPropty.gnr&&void 0!==t.atachPropty.gnr&&(a.aritstAddInfoHtml+='<span class="bar">|</span>'),a.artistGnrTypeName=t.atachPropty.gnr,""==t.atachPropty.gnr&&(a.artistGnrDisplay="display:none"),a.artistFanCnt=t.atachPropty.fanCnt}else a.artistThumbUrl=P.C_ALBUM_DFLT_DSPLY_IMG;return w.log("worker.render.atach.entry.edit() atachEntryHtml=["+N.renderWithTemplate("d_cmtpgn_atach_artist_edit_template",a)+"]"),N.renderWithTemplate("d_cmtpgn_atach_artist_edit_template",a);case P.C_ATACH_TYPE_IMAGE:return(a={}).atachSeq=t.atachSeq,a.atachType=t.atachType,a.atachValue=t.atachValue,a.atachName=t.atachValue,a.atachName=t.atachName,!0===w.isDefined(t.atachPropty)?(a.imageOriginalUrl=t.atachPropty.originalUrl||P.C_PHOTO_DFLT_DSPLY_IMG,a.imageThumbUrl=t.atachPropty.thumbUrl||P.C_PHOTO_DFLT_DSPLY_IMG,w.log("worker.render.atach.entry.edit() originalUrl=["+a.imageOriginalUrl+"], thumbUrl=["+a.imageThumbUrl+"]")):(a.imageOriginalUrl=P.C_PHOTO_DFLT_DSPLY_IMG,a.imageThumbUrl=P.C_PHOTO_DFLT_DSPLY_IMG),w.log("worker.render.atach.entry.edit() atachEntryHtml=["+N.renderWithTemplate("d_cmtpgn_atach_image_edit_template",a)+"]"),N.renderWithTemplate("d_cmtpgn_atach_image_edit_template",a);case P.C_ATACH_TYPE_VIDEO:if((a={}).atachSeq=t.atachSeq,a.atachType=t.atachType,a.atachValue=t.atachValue,a.multipleArtistDsplyMaxWidthValue=w.getAtachMultipleArtistDsplyMaxWidth(g,C,t.atachType),!0===w.isDefined(t.atachPropty)){switch(a.artistListHtml="",!(a.multipleArtistLayerHtml="")===w.isDefined(t.atachPropty.artistList)&&v.each(t.atachPropty.artistList,function(e){a.artistListHtml+=t.atachPropty.artistList[e].artistName+", ",1<t.atachPropty.artistList.length&&(r=0===e?' class="first_child"':"",n+=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_edit_entry_template",{firstChildClassString:r,artistName:t.atachPropty.artistList[e].artistName}))}),!0!==w.isEmpty(a.artistListHtml)&&(a.artistListHtml=a.artistListHtml.substring(0,a.artistListHtml.lastIndexOf(", ")),!0!==w.isEmpty(n))&&(a.multipleArtistLayerHtml=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_edit_layer_template",{artistListHtml:n})),a.videoId=t.atachPropty.videoId,a.videoTitle=t.atachPropty.videoTitle,a.videoThumbUrl=t.atachPropty.videoImagePath||P.C_VIDEO_DFLT_DSPLY_IMG,a.videoAdultFlag=t.atachPropty.videoAdultFlag,a.videoAgeLevel=t.atachPropty.videoAgeLevel,a.videoAgeLevelHtml="",t.atachPropty.videoAgeLevel){case"1":a.videoAgeLevelHtml=N.renderWithTemplate("d_cmtpgn_atach_video_age_level_1_template");break;case"2":a.videoAgeLevelHtml=N.renderWithTemplate("d_cmtpgn_atach_video_age_level_2_template");break;case"3":a.videoAgeLevelHtml=N.renderWithTemplate("d_cmtpgn_atach_video_age_level_3_template");break;case"4":a.videoAgeLevelHtml=N.renderWithTemplate("d_cmtpgn_atach_video_age_level_4_template");break;default:a.videoAgeLevelHtml=N.renderWithTemplate("d_cmtpgn_atach_video_age_level_0_template")}a.videoPlayTime=t.atachPropty.dsplyPlayTime,a.videoViewCnt=w.getNumericDsplyFormat(t.atachPropty.videoViewCnt),a.videoIssueDate=t.atachPropty.dsplyVideoIssueDate,a.songId=t.atachPropty.songId,a.videoAvailFlag=t.atachPropty.svcAvailFlag}else a.videoThumbUrl=P.C_VIDEO_DFLT_DSPLY_IMG,a.videoPlayTime="00:00",a.videoViewCnt="0";return w.log("worker.render.atach.entry.edit() atachEntryHtml=["+N.renderWithTemplate("d_cmtpgn_atach_video_edit_template",a)+"]"),N.renderWithTemplate("d_cmtpgn_atach_video_edit_template",a);case P.C_ATACH_TYPE_LINK_VIDEO:return(a={}).atachSeq=t.atachSeq,a.atachType=t.atachType,a.atachValue=t.atachValue,!0===w.isDefined(t.atachPropty)&&(a.atachTitle=t.atachPropty.videoTitle,a.atachWidth=t.atachPropty.videoWidth,a.atachHeight=t.atachPropty.videoHeight,a.videoSiteName=P.C_SITE_NAME_MAP[P.C_SITE_URL_TITLE_MAP[w.parseUrl(t.atachPropty.videoUrl).host].toLowerCase()],a.videoTitle=t.atachPropty.videoTitle,a.videoSource=P.C_SITE_URL_TITLE_MAP[w.parseUrl(t.atachPropty.videoUrl).host],a.videoThumbUrl=t.atachPropty.thumbUrl),w.log("worker.render.atach.entry.edit() atachEntryHtml=["+N.renderWithTemplate("d_cmtpgn_atach_link_video_edit_template",a)+"]"),N.renderWithTemplate("d_cmtpgn_atach_link_video_edit_template",a);case P.C_ATACH_TYPE_LINK_GENRL:return(a={}).atachSeq=t.atachSeq,a.atachType=t.atachType,a.atachValue=t.atachValue,!0===w.isDefined(t.atachPropty)&&(a.linkUrl=t.atachPropty.linkUrl),w.log("worker.render.atach.entry.edit() atachEntryHtml=["+N.renderWithTemplate("d_cmtpgn_atach_link_genrl_edit_template",a)+"]"),N.renderWithTemplate("d_cmtpgn_atach_link_genrl_edit_template",a)}}return w.log("@worker.render.atach.entry.edit() executed done."),""},R.render.atach.entry.dsply=function(t){if(w.log("@worker.render.atach.entry.dsply() executed. atachInfo is",t),!0!==w.isEmpty(t)){w.log("worker.render.atach.entry.dsply() atachSeq=["+t.atachSeq+"], atachType=["+t.atachType+"]");var a,n="",r="";if(T==P.C_PAGE_TYPE_PHOTO){if(t.atachType==P.C_ATACH_TYPE_TEXT)return(a={}).atachSeq=t.atachSeq,a.atachType=t.atachType,a.atachValue=w.getCmtTextDsplyFormat(t.atachValue),!0===w.isDefined(t.atachPropty)&&(a.textCont=w.replaceAll(w.getCmtTextDsplyFormat(t.atachPropty.textCont),/\r*\n/,"<br />"),k.srchType===P.C_CMT_SRCH_TYPE_CONTS)&&0<k.srchWord.length&&(a.textCont=w.getHighlightDsplyFormat(a.textCont,k.srchWord,"span")),N.renderWithTemplate("d_cmtpgn_atach_text_dsply_template",a)}else switch(t.atachType){case P.C_ATACH_TYPE_TEXT:return(a={}).atachSeq=t.atachSeq,a.atachType=t.atachType,a.atachValue=w.getCmtTextDsplyFormat(t.atachValue),!0===w.isDefined(t.atachPropty)&&(a.textCont=w.replaceAll(w.getCmtTextDsplyFormat(t.atachPropty.textCont),/\r*\n/,"<br />"),k.srchType===P.C_CMT_SRCH_TYPE_CONTS)&&0<k.srchWord.length&&(a.textCont=w.getHighlightDsplyFormat(a.textCont,k.srchWord,"span")),N.renderWithTemplate("d_cmtpgn_atach_text_dsply_template",a);case P.C_ATACH_TYPE_MUSIC_SONG:return(a={}).atachSeq=t.atachSeq,a.atachType=t.atachType,a.atachValue=t.atachValue,a.multipleArtistDsplyMaxWidthValue=w.getAtachMultipleArtistDsplyMaxWidth(g,C,t.atachType),!0===w.isDefined(t.atachPropty)?(a.artistListHtml="",!(a.multipleArtistLayerHtml="")===w.isDefined(t.atachPropty.artistList)&&v.each(t.atachPropty.artistList,function(e){Number(t.atachPropty.artistList[e].artistId)===h.C_ALBUM_VA_REP_ARTIST_ID?a.artistListHtml+=N.renderWithTemplate("d_cmtpgn_atach_artist_dim_entry_template",{artistName:t.atachPropty.artistList[e].artistName}):a.artistListHtml+=N.renderWithTemplate("d_cmtpgn_atach_artist_dsply_entry_template",{artistPageUrl:h.C_MELON_LANDING_BASE_URL_MAP[P.C_MELON_LANDING_TYPE_ARTIST_PAGE]+t.atachPropty.artistList[e].artistId,artistName:t.atachPropty.artistList[e].artistName}),a.artistListHtml+=", ",1<t.atachPropty.artistList.length&&(r=0===e?' class="first_child"':"",n+=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_dsply_entry_template",{firstChildClassString:r,artistPageUrl:h.C_MELON_LANDING_BASE_URL_MAP[P.C_MELON_LANDING_TYPE_ARTIST_PAGE]+t.atachPropty.artistList[e].artistId,artistName:t.atachPropty.artistList[e].artistName}))}),!0!==w.isEmpty(a.artistListHtml)&&(a.artistListHtml=a.artistListHtml.substring(0,a.artistListHtml.lastIndexOf(", ")),!0!==w.isEmpty(n))&&(a.multipleArtistLayerHtml=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_dsply_layer_template",{artistListHtml:n})),a.albumId=t.atachPropty.albumId,a.albumName=t.atachPropty.albumName,a.albumThumbUrl=t.atachPropty.albumImagePath||P.C_ALBUM_DFLT_DSPLY_IMG,a.albumPageUrl=h.C_MELON_LANDING_BASE_URL_MAP[P.C_MELON_LANDING_TYPE_ALBUM_PAGE]+t.atachPropty.albumId,a.songId=t.atachPropty.songId,a.songName=t.atachPropty.songName,a.songAdultFlag=!0===t.atachPropty.adultFlag?"1":"0",a.songAvailFlag=t.atachPropty.svcAvailFlag,a.stAvailFlag=t.atachPropty.stAvailFlag,a.dlAvailFlag=t.atachPropty.dlAvailFlag,a.albumOnlyFlag=t.atachPropty.albumOnlyFlag,a.songHoldBackFlag=t.atachPropty.holdBackFlag,a.songFreezoneFlag=t.atachPropty.freezoneFlag,a.songHotSongFlag=t.atachPropty.hotSongFlag,w.log("worker.render.atach.entry.dsply() C_ATACH_TYPE_MUSIC_SONG atachInfo.atachPropty.adultFlag=["+t.atachPropty.adultFlag+"]"),!(a.songAgeAdultHtml="")===t.atachPropty.adultFlag&&(a.songAgeAdultHtml=N.renderWithTemplate("d_cmtpgn_atach_song_age_adult_template")),!(a.songHoldBackHtml="")===t.atachPropty.holdBackFlag&&(a.songHoldBackHtml=N.renderWithTemplate("d_cmtpgn_atach_song_hold_back_template")),!(a.songFreezoneHtml="")===t.atachPropty.freezoneFlag&&(a.songFreezoneHtml=N.renderWithTemplate("d_cmtpgn_atach_song_free_zone_template")),a.songPageUrl=h.C_MELON_LANDING_BASE_URL_MAP[P.C_MELON_LANDING_TYPE_SONG_PAGE]+t.atachPropty.songId,!0!==w.isEmpty(t.atachPropty.albumOnlyFlag)&&"1"===t.atachPropty.albumOnlyFlag&&(a.dtlClassValue=" d_cmtpgn_atach_content_melon_album")):a.albumThumbUrl=P.C_ALBUM_DFLT_DSPLY_IMG,!0===w.isDefined(t.atachPropty)&&!0!==w.isEmpty(t.atachPropty.svcAvailFlag)&&Number(t.atachPropty.svcAvailFlag)<=1?!0!==w.isEmpty(t.atachPropty.stAvailFlag)&&!0===t.atachPropty.stAvailFlag&&!0!==w.isEmpty(t.atachPropty.dlAvailFlag)&&!0===t.atachPropty.dlAvailFlag?N.renderWithTemplate("d_cmtpgn_atach_song_dsply_template",a):!0!==w.isEmpty(t.atachPropty.albumOnlyFlag)&&"1"===t.atachPropty.albumOnlyFlag?!0!==w.isEmpty(t.atachPropty.stAvailFlag)&&!0===t.atachPropty.stAvailFlag?N.renderWithTemplate("d_cmtpgn_atach_song_dsply_template",a):(!0!==w.isEmpty(t.atachPropty.dlAvailFlag)&&t.atachPropty.dlAvailFlag,N.renderWithTemplate("d_cmtpgn_atach_song_dl_only_template",a)):!0!==w.isEmpty(t.atachPropty.stAvailFlag)&&!0===t.atachPropty.stAvailFlag?N.renderWithTemplate("d_cmtpgn_atach_song_st_only_template",a):!0!==w.isEmpty(t.atachPropty.dlAvailFlag)&&!0===t.atachPropty.dlAvailFlag?N.renderWithTemplate("d_cmtpgn_atach_song_dl_only_template",a):N.renderWithTemplate("d_cmtpgn_atach_song_dim_template",a):N.renderWithTemplate("d_cmtpgn_atach_song_dim_template",a);case P.C_ATACH_TYPE_MUSIC_ALBUM:return(a={}).atachSeq=t.atachSeq,a.atachType=t.atachType,a.atachValue=t.atachValue,a.multipleArtistDsplyMaxWidthValue=w.getAtachMultipleArtistDsplyMaxWidth(g,C,t.atachType),!0===w.isDefined(t.atachPropty)?(a.artistListHtml="",!(a.multipleArtistLayerHtml="")===w.isDefined(t.atachPropty.artistList)&&v.each(t.atachPropty.artistList,function(e){Number(t.atachPropty.artistList[e].artistId)===h.C_ALBUM_VA_REP_ARTIST_ID?a.artistListHtml+=N.renderWithTemplate("d_cmtpgn_atach_artist_dim_entry_template",{artistName:t.atachPropty.artistList[e].artistName}):a.artistListHtml+=N.renderWithTemplate("d_cmtpgn_atach_artist_dsply_entry_template",{artistPageUrl:h.C_MELON_LANDING_BASE_URL_MAP[P.C_MELON_LANDING_TYPE_ARTIST_PAGE]+t.atachPropty.artistList[e].artistId,artistName:t.atachPropty.artistList[e].artistName}),a.artistListHtml+=", ",1<t.atachPropty.artistList.length&&(r=0===e?' class="first_child"':"",n+=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_dsply_entry_template",{firstChildClassString:r,artistPageUrl:h.C_MELON_LANDING_BASE_URL_MAP[P.C_MELON_LANDING_TYPE_ARTIST_PAGE]+t.atachPropty.artistList[e].artistId,artistName:t.atachPropty.artistList[e].artistName}))}),!0!==w.isEmpty(a.artistListHtml)&&(a.artistListHtml=a.artistListHtml.substring(0,a.artistListHtml.lastIndexOf(", ")),!0!==w.isEmpty(n))&&(a.multipleArtistLayerHtml=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_dsply_layer_template",{artistListHtml:n})),a.albumId=t.atachPropty.albumId,a.albumName=t.atachPropty.albumName,a.albumThumbUrl=t.atachPropty.albumImagePath||P.C_ALBUM_DFLT_DSPLY_IMG,a.albumIssueDate=t.atachPropty.dsplyIssueDate,a.albumAvailFlag=t.atachPropty.svcAvailFlag,a.albumOnlyFlag=t.atachPropty.albumOnlyFlag,a.albumDiscountFlag=t.atachPropty.albumDiscountFlag,a.totalSongCnt=t.atachPropty.totalSongCnt,a.albumPageUrl=h.C_MELON_LANDING_BASE_URL_MAP[P.C_MELON_LANDING_TYPE_ALBUM_PAGE]+t.atachPropty.albumId,(!0!==w.isEmpty(t.atachPropty.albumOnlyFlag)&&"1"===t.atachPropty.albumOnlyFlag||!0!==w.isEmpty(t.atachPropty.albumDiscountFlag)&&"1"===t.atachPropty.albumDiscountFlag||!0!==w.isEmpty(t.atachPropty.totalSongCnt)&&Number(t.atachPropty.totalSongCnt)>h.C_POC_CONTS_DOWNLOAD_AVAIL_COUNT)&&(a.dtlClassValue=" d_cmtpgn_atach_content_melon_album")):a.albumThumbUrl=P.C_ALBUM_DFLT_DSPLY_IMG,!0===w.isDefined(t.atachPropty)&&!0!==w.isEmpty(t.atachPropty.svcAvailFlag)&&Number(t.atachPropty.svcAvailFlag)<=1?N.renderWithTemplate("d_cmtpgn_atach_album_dsply_template",a):N.renderWithTemplate("d_cmtpgn_atach_album_dim_template",a);case P.C_ATACH_TYPE_MUSIC_ARTIST:if((a={}).atachSeq=t.atachSeq,a.atachType=t.atachType,a.atachValue=t.atachValue,!0===w.isDefined(t.atachPropty)){a.artistId=t.atachPropty.artistId,a.artistName=t.atachPropty.artistName,a.artistThumbUrl=t.atachPropty.artistImagePath||P.C_ARTIST_DFLT_DSPLY_IMG,a.artistNationalityName=t.atachPropty.nationalityName,a.artistSexTypeName=t.atachPropty.sex,a.artistActTypeName=t.atachPropty.actTypeName;for(var e=[a.artistNationalityName,a.artistSexTypeName,a.artistActTypeName],i=[],o=0;o<e.length;o++)""!=e[o]&&void 0!==e[o]&&i.push('<span class="none"></span><span>'+e[o]+"</span>");a.aritstAddInfoHtml=i.join('<span class="bar">|</span>'),0<i.length&&""!=t.atachPropty.gnr&&void 0!==t.atachPropty.gnr&&(a.aritstAddInfoHtml+='<span class="bar">|</span>'),a.artistGnrTypeName=t.atachPropty.gnr,""==t.atachPropty.gnr&&(a.artistGnrDisplay="display:none"),a.artistGnrTypeName=t.atachPropty.gnr,a.artistFanCnt=t.atachPropty.fanCnt,a.artistPageUrl=h.C_MELON_LANDING_BASE_URL_MAP[P.C_MELON_LANDING_TYPE_ARTIST_PAGE]+t.atachPropty.artistId}else a.artistThumbUrl=P.C_ARTIST_DFLT_DSPLY_IMG;return N.renderWithTemplate("d_cmtpgn_atach_artist_dsply_template",a);case P.C_ATACH_TYPE_IMAGE:return(a={}).atachSeq=t.atachSeq,a.atachType=t.atachType,a.atachValue=t.atachValue,!0===w.isDefined(t.atachPropty)?(a.imageOriginalUrl=t.atachPropty.originalUrl||P.C_PHOTO_DFLT_DSPLY_IMG,a.imageThumbUrl=t.atachPropty.thumbUrl||P.C_PHOTO_DFLT_DSPLY_IMG,w.log("worker.render.atach.entry.dsply() originalUrl=["+a.imageOriginalUrl+"], thumbUrl=["+a.imageThumbUrl+"]")):(a.imageOriginalUrl=P.C_PHOTO_DFLT_DSPLY_IMG,a.imageThumbUrl=P.C_PHOTO_DFLT_DSPLY_IMG),R.bind.atach.image(a.imageOriginalUrl),N.renderWithTemplate("d_cmtpgn_atach_image_dsply_template",a);case P.C_ATACH_TYPE_VIDEO:if((a={}).atachSeq=t.atachSeq,a.atachType=t.atachType,a.atachValue=t.atachValue,a.multipleArtistDsplyMaxWidthValue=w.getAtachMultipleArtistDsplyMaxWidth(g,C,t.atachType),!0===w.isDefined(t.atachPropty)){switch(a.artistListHtml="",!(a.multipleArtistLayerHtml="")===w.isDefined(t.atachPropty.artistList)&&v.each(t.atachPropty.artistList,function(e){Number(t.atachPropty.artistList[e].artistId)===h.C_ALBUM_VA_REP_ARTIST_ID?a.artistListHtml+=N.renderWithTemplate("d_cmtpgn_atach_artist_dim_entry_template",{artistName:t.atachPropty.artistList[e].artistName}):a.artistListHtml+=N.renderWithTemplate("d_cmtpgn_atach_artist_dsply_entry_template",{artistPageUrl:h.C_MELON_LANDING_BASE_URL_MAP[P.C_MELON_LANDING_TYPE_ARTIST_PAGE]+t.atachPropty.artistList[e].artistId,artistName:t.atachPropty.artistList[e].artistName}),a.artistListHtml+=", ",1<t.atachPropty.artistList.length&&(r=0===e?' class="first_child"':"",n+=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_dsply_entry_template",{firstChildClassString:r,artistPageUrl:h.C_MELON_LANDING_BASE_URL_MAP[P.C_MELON_LANDING_TYPE_ARTIST_PAGE]+t.atachPropty.artistList[e].artistId,artistName:t.atachPropty.artistList[e].artistName}))}),!0!==w.isEmpty(a.artistListHtml)&&(a.artistListHtml=a.artistListHtml.substring(0,a.artistListHtml.lastIndexOf(", ")),!0!==w.isEmpty(n))&&(a.multipleArtistLayerHtml=N.renderWithTemplate("d_cmtpgn_atach_multiple_artist_dsply_layer_template",{artistListHtml:n})),a.videoId=t.atachPropty.videoId,a.videoTitle=t.atachPropty.videoTitle,a.videoThumbUrl=t.atachPropty.videoImagePath||P.C_VIDEO_DFLT_DSPLY_IMG,a.videoAdultFlag=t.atachPropty.videoAdultFlag,a.videoAgeLevel=t.atachPropty.videoAgeLevel,a.videoAgeLevelHtml="",t.atachPropty.videoAgeLevel){case 1:a.videoAgeLevelHtml=N.renderWithTemplate("d_cmtpgn_atach_video_age_level_1_template");break;case 2:a.videoAgeLevelHtml=N.renderWithTemplate("d_cmtpgn_atach_video_age_level_2_template");break;case 3:a.videoAgeLevelHtml=N.renderWithTemplate("d_cmtpgn_atach_video_age_level_3_template");break;case 4:a.videoAgeLevelHtml=N.renderWithTemplate("d_cmtpgn_atach_video_age_level_4_template");break;default:a.videoAgeLevelHtml=N.renderWithTemplate("d_cmtpgn_atach_video_age_level_0_template")}a.videoPlayTime=t.atachPropty.dsplyPlayTime,a.videoViewCnt=w.getNumericDsplyFormat(t.atachPropty.videoViewCnt),a.videoIssueDate=t.atachPropty.dsplyVideoIssueDate,a.songId=t.atachPropty.songId,a.videoPageUrl=h.C_MELON_LANDING_BASE_URL_MAP[P.C_MELON_LANDING_TYPE_VIDEO_PAGE]+t.atachPropty.videoId,a.songPageUrl=h.C_MELON_LANDING_BASE_URL_MAP[P.C_MELON_LANDING_TYPE_SONG_PAGE]+t.atachPropty.songId}else a.videoThumbUrl=P.C_VIDEO_DFLT_DSPLY_IMG,a.videoPlayTime="00:00",a.videoViewCnt="0";return!0===w.isDefined(t.atachPropty)&&!0!==w.isEmpty(t.atachPropty.svcAvailFlag)&&Number(t.atachPropty.svcAvailFlag)<=1?!0===t.atachPropty.mvFlag&&!0!==w.isEmpty(t.atachPropty.songId)&&-1!==t.atachPropty.songId?N.renderWithTemplate("d_cmtpgn_atach_video_song_dsply_template",a):N.renderWithTemplate("d_cmtpgn_atach_video_dsply_template",a):N.renderWithTemplate("d_cmtpgn_atach_video_dim_template",a);case P.C_ATACH_TYPE_LINK_VIDEO:return(a={}).atachSeq=t.atachSeq,a.atachType=t.atachType,a.atachValue=t.atachValue,!0===w.isDefined(t.atachPropty)&&(a.videoViewUrlString=h.C_YOUTUBE_HTML_URL+"?videoWidth="+mt.escape(t.atachPropty.videoWidth||"480")+"&videoHeight="+mt.escape(t.atachPropty.videoHeight||"320")+"&videoTitle="+mt.escape(t.atachPropty.videoTitle||"")+"&videoUrl="+mt.escape(t.atachPropty.videoUrl),a.videoLinkUrl=t.atachPropty.videoUrl,a.videoSiteName=P.C_SITE_NAME_MAP[P.C_SITE_URL_TITLE_MAP[w.parseUrl(t.atachPropty.videoUrl).host].toLowerCase()],a.videoTitle=t.atachPropty.videoTitle,a.videoSource=P.C_SITE_URL_TITLE_MAP[w.parseUrl(t.atachPropty.videoUrl).host],a.videoThumbUrl=t.atachPropty.thumbUrl),N.renderWithTemplate("d_cmtpgn_atach_link_video_dsply_template",a);case P.C_ATACH_TYPE_LINK_GENRL:return(a={}).atachSeq=t.atachSeq,a.atachType=t.atachType,a.atachValue=t.atachValue,!0===w.isDefined(t.atachPropty)&&(a.linkUrl=t.atachPropty.linkUrl),N.renderWithTemplate("d_cmtpgn_atach_link_genrl_dsply_template",a)}}return w.log("@worker.render.atach.entry.dsply() executed done."),""},R.bind={},R.bind.all=function(){w.log("@worker.bind.all executed."),R.bind.page(),R.bind.cmt.view(),R.bind.cmt.write(),R.bind.cmt.modify(),R.bind.cmt.del(),R.bind.cmt.atach(),R.bind.adcmt.view(),R.bind.adcmt.write(),R.bind.adcmt.del(),R.bind.cmt.profile(),R.bind.cmt.tempActDetail(),R.bind.atach(),R.bind.recm(),R.bind.reprt.open(),w.log("@worker.bind.all executed. done")},R.bind.list=function(){w.log("@worker.bind.list executed."),R.bind.page(),R.bind.cmt.view(),R.bind.cmt.modify(),R.bind.cmt.del(),R.bind.adcmt.view(),R.bind.adcmt.write(),R.bind.adcmt.del(),R.bind.cmt.profile(),R.bind.cmt.tempActDetail(),R.bind.atach(),R.bind.recm(),R.bind.reprt.open(),w.log("@worker.bind.list executed. done")},R.bind.page=function(){A.find("select").selectbox(),105==E&&(A.find("#d_cmtpgn_paginate_wrapper").off($e).on($e,"a.d_cmtpgn_navigator_on_photo",function(e){w.log("worker.bind.page() C_EVENT_TYPE_PHOTO_NAVI executed."),e.preventDefault();e=v(this);o(e.text(),k.sortType,k.srchType,k.srchWord)}),A.find("#d_cmtpgn_paginate_wrapper").off(je).on(je,"a.d_cmtpgn_navigator_on_photo_first",function(e){w.log("worker.bind.page() C_EVENT_TYPE_PHOTO_NAVI_FIRST executed."),e.preventDefault(),o(d.firstPageNo,k.sortType,k.srchType,k.srchWord)}),A.find("#d_cmtpgn_paginate_wrapper").off(qe).on(qe,"a.d_cmtpgn_navigator_on_photo_before",function(e){w.log("worker.bind.page() C_EVENT_TYPE_PHOTO_NAVI_BEFORE executed."),e.preventDefault(),o(d.prevGroupPageNo,k.sortType,k.srchType,k.srchWord)}),A.find("#d_cmtpgn_paginate_wrapper").off(Ke).on(Ke,"a.d_cmtpgn_navigator_on_photo_next",function(e){w.log("worker.bind.page() C_EVENT_TYPE_PHOTO_NAVI_NEXT executed."),e.preventDefault(),o(d.nextGroupPageNo,k.sortType,k.srchType,k.srchWord)}),A.find("#d_cmtpgn_paginate_wrapper").off(ze).on(ze,"a.d_cmtpgn_navigator_on_photo_end",function(e){w.log("worker.bind.page() C_EVENT_TYPE_PHOTO_NAVI_END executed."),e.preventDefault(),o(d.lastPageNo,k.sortType,k.srchType,k.srchWord)}),A.find("#d_cmtpgn_cmt_count_wrapper").off(Xe).on(Xe,"a.sort_option_on_photo_recent",function(e){w.log("worker.bind.page() C_EVENT_TYPE_PHOTO_NAVI_RECENT executed."),e.preventDefault(),o(P.C_CMT_DFLT_PAGE_NO,P.C_CMT_SORT_TYPE_RECENT,k.srchType,k.srchWord)}),A.find("#d_cmtpgn_cmt_count_wrapper").off(Qe).on(Qe,"a.sort_option_on_photo_recm",function(e){w.log("worker.bind.page() C_EVENT_TYPE_PHOTO_NAVI_RECM executed."),e.preventDefault(),o(P.C_CMT_DFLT_PAGE_NO,P.C_CMT_SORT_TYPE_RECM,k.srchType,k.srchWord)}),A.find("#d_cmtpgn_cmt_count_wrapper").off(Ze).on(Ze,"a.sort_option_on_photo_adcmt",function(e){w.log("worker.bind.page() C_EVENT_TYPE_PHOTO_NAVI_ADCMT executed."),e.preventDefault(),o(P.C_CMT_DFLT_PAGE_NO,P.C_CMT_SORT_TYPE_ADCMT,k.srchType,k.srchWord)})),T===P.C_PAGE_TYPE_PHOTO?(A.find("#d_cmtpgn_cmt_count_wrapper").off($).on($,"a",function(e){w.log("worker.bind.page() C_EVENT_TYPE_PAGE_SORT executed. href=["+v(this).attr("href")+"]"),e.preventDefault();var e=v(this),t=w.getValueFromCmtpgnUrl(e.attr("href"),"pageNo"),a=w.getValueFromCmtpgnUrl(e.attr("href"),"sortType"),n=w.getValueFromCmtpgnUrl(e.attr("href"),"srchType"),e=w.getValueFromCmtpgnUrl(e.attr("href"),"srchWord");w.log("worker.bind.page() executed sort by pageNo=["+t+"], sortType=["+a+"], srchType=["+n+"], srchWord=["+e+"] will execute worker.page.refresh"),R.page.refresh(t,a,n,e),w.log("worker.bind.page() C_EVENT_TYPE_PAGE_SORT executed done.")}),A.find("#d_cmtpgn_cmt_more_wrapper").off(t).on(t,"button.d_cmtpgn_cmt_more",function(e){w.log("worker.bind.page() C_EVENT_TYPE_PAGE_MORE executed. nextPageNo=["+k.nextPageNo+"], lastPageNo=["+k.lastPageNo+"]"),k.pageNo===d.lastPageNo?alert(f.CMTPGN005):(R.page.append(d.nextPageNo,k.sortType,k.srchType,k.srchWord),w.log("worker.bind.page() C_EVENT_TYPE_PAGE_MORE executed done."))}),A.find("#d_cmtpgn_cmt_more_wrapper").off(V).on(V,"button.d_cmtpgn_cmt_top",function(e){A.find("#d_cmtpgn_photo_inner_wrapper").scrollTop(0)})):!0===S.srchUseFlag&&(A.find("#d_cmtpgn_srch_wrapper").off(q).on(q,"button.d_cmtpgn_cmt_srch_btn",function(e){w.log("worker.bind.page() C_EVENT_TYPE_PAGE_SRCH executed."),e.preventDefault();var t=A.find("#d_cmtpgn_srch_wrapper"),e=P.C_CMT_DFLT_PAGE_NO,a=P.C_CMT_DFLT_SORT_TYPE,n=t.find("select option:selected").attr("value"),r=t.find("input.d_cmtpgn_srch_input").val(),r=!0===w.isEmpty(v.trim(r),A.find("#d_cmtpgn_srch_wrapper").find("input.d_cmtpgn_srch_input"))?"":v.trim(r);return w.log("worker.bind.page() C_EVENT_TYPE_PAGE_SRCH by pageNo=["+e+"], sortType=["+a+"], srchType=["+n+"], srchWord=["+r+"]"),!0===w.isEmpty(r)?(alert(f.CMTPGN102),setTimeout(function(){t.find("input.d_cmtpgn_srch_input").focus()},0),!1):r.length<P.C_CMT_MIN_SRCH_WORD?(alert(w.format(f.CMTPGN103,P.C_CMT_MIN_SRCH_WORD)),setTimeout(function(){t.find("input.d_cmtpgn_srch_input").focus()},0),!1):v.trim(r).length>P.C_CMT_MAX_SRCH_WORD?(alert(w.format(f.CMTPGN104,P.C_CMT_MAX_SRCH_WORD)),setTimeout(function(){t.find("input.d_cmtpgn_srch_input").focus()},0),!1):(e===k.pageNo&&Number(n)===k.srchType&&r===k.srchWord||105==E?o(e,a,n,r):R.controller.move(w.makeCmtpgnUrlHashString(R.controller.value(),!1,e,a,n,r)),void w.log("worker.bind.page() C_EVENT_TYPE_PAGE_SRCH executed done."))}),A.find("#d_cmtpgn_srch_wrapper").off(j).on(j,"select",function(e){w.log("worker.bind.page() C_EVENT_TYPE_PAGE_SRCH_TYPE_CHANGE executed.");var t=A.find("#d_cmtpgn_srch_wrapper");setTimeout(function(){t.find("input.d_cmtpgn_srch_input").focus()},0),w.log("worker.bind.page() C_EVENT_TYPE_PAGE_SRCH_TYPE_CHANGE executed done.")}),A.find("#d_cmtpgn_srch_wrapper").off(K).on(K,"input.d_cmtpgn_srch_input",function(e){13===(e.which||e.keyCode)&&v(this).closest("#d_cmtpgn_srch_wrapper").find("button.d_cmtpgn_cmt_srch_btn").trigger("click")}),A.find("#d_cmtpgn_srch_cancel_wrapper").off(z).on(z,"a",function(e){w.log("worker.bind.page() C_EVENT_TYPE_PAGE_SRCH_CANCEL executed."),e.preventDefault();var e=P.C_CMT_DFLT_PAGE_NO,t=P.C_CMT_DFLT_SORT_TYPE,a=P.C_CMT_DFLT_SRCH_TYPE,n=P.C_CMT_DFLT_SRCH_WORD;R.controller.move(w.makeCmtpgnUrlHashString(R.controller.value(),!1,e,t,a,n)),w.log("worker.bind.page() C_EVENT_TYPE_PAGE_SRCH_CANCEL executed done.")}))},R.bind.cmt={},R.bind.cmt.view=function(){A.find("#d_cmtpgn_cmt_list_wrapper").off(De).on(De,"button.d_cmtpgn_cmt_expand_btn",function(e){w.log("worker.bind.cmt.view() C_EVENT_TYPE_CMT_EXPAND executed."),v(this).parent().parent().hide();var t=v(this).parent().parent().next();t.show(),w.adjustCmtAtachText(t),w.log("worker.bind.cmt.view() C_EVENT_TYPE_CMT_EXPAND executed done.")}),A.find("#d_cmtpgn_cmt_list_wrapper").off(Ue).on(Ue,"button.d_cmtpgn_cmt_collapse_btn",function(e){w.log("worker.bind.cmt.view() C_EVENT_TYPE_CMT_COLLAPSE executed."),v(this).parent().hide().prev().show(),w.log("worker.bind.cmt.view() C_EVENT_TYPE_CMT_COLLAPSE executed DONE.")})},R.bind.cmt.profile=function(){A.find("#d_cmtpgn_cmt_list_wrapper").off(xe).on(xe,"a.d_cmtpgn_user",function(e){w.log("worker.bind.cmt.profile() C_EVENT_TYPE_CMT_PROFILE executed.");var t=v(this).attr("data-member-key"),a=t.replace(/[0-9]/g,""),t=t.replace(/[^-\.0-9]/g,""),n=v(this).closest("li").attr("data-cmt-owner");"ancm_-"==a||t<0||("artist_"==a?mt.open(DeployPhaseUtils.convertUrl("https://ticket.melon.com/artist/index.htm?artistId=")+t):"on"==n?mt.open(DeployPhaseUtils.convertUrl("https://www.melon.com/mymusic/main/mymusicmain_list.htm?memberKey=")+t):mt.open(DeployPhaseUtils.convertUrl("https://www.melon.com/mymusic/main/mymusicmainother_list.htm?memberKey=")+t),w.log("worker.bind.cmt.profile() C_EVENT_TYPE_CMT_PROFILE executed done."))}),A.find("#commentWriteBoxImage").off("click").on("click",function(){var e,t;!0!==R.constraint.login()||(e=(t=v(this).attr("data-member-key")).replace(/[0-9]/g,""),t=t.replace(/[^-\.0-9]/g,""),"ancm_-"==e)||t<0||("artist_"==e?mt.open(DeployPhaseUtils.convertUrl("https://ticket.melon.com/artist/index.htm?artistId=")+t):mt.open(DeployPhaseUtils.convertUrl("https://www.melon.com/mymusic/main/mymusicmain_list.htm?memberKey=")+t))})},R.bind.cmt.tempActDetail=function(){!0===S.reprtUseFlag&&A.find("#d_cmtpgn_cmt_list_wrapper").off(Ve).on(Ve,"a.d_cmtpgn_temp_act_detail_btn",function(e){w.log("worker.bind.detail.temp.act() C_EVENT_TYPE_CMT_ACPT_DETAIL executed."),mt.open(S.tempActLinkUrlText)})},R.bind.cmt.write=function(){!0===S.cmtWriteUseFlag&&(A.find("#d_cmtpgn_cmt_write_box").off(X).on(X,".d_cmtpgn_cmt_guide",function(e){var t;w.log("worker.bind.cmt.write() CMT_WRITE C_EVENT_TYPE_CMT_FOCUSIN executed."),!0===at?alert(f.CMTPGN114):!0===R.constraint.readonly.post()&&!0===R.constraint.login()&&!0===R.constraint.member()&&(t=A.find("#d_cmtpgn_cmt_write_box").find(".d_cmtpgn_cmt_edit_area"),w.log("##############LENGTH="+t.find("textarea").length+",G_CHNL_INFO.chnlSeq="+S.chnlSeq),0<t.find("textarea").length&&w.log("!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"+t.find("textarea").length+",G_CHNL_INFO.chnlSeq="+S.chnlSeq),t.find("textarea").length<1&&R.handler.atach.text(P.C_EMPTY_KEY,P.C_EMPTY_KEY),v(this).hide(),t.show(),setTimeout(function(){A.find("#d_cmtpgn_cmt_write_box").find("textarea:first").focus()},0),w.log("worker.bind.cmt.write() CMT_WRITE C_EVENT_TYPE_CMT_FOCUSIN executed done."))}),A.find("#d_cmtpgn_cmt_write_box").off(J).on(J,"button.d_cmtpgn_syncpost_btn",function(e){if(w.log("worker.bind.cmt.write() C_EVENT_TYPE_SYNCPOST executed."),!0!==R.constraint.login())v(this).blur();else if(!0!==R.constraint.member())v(this).blur();else{var t=v(this);if(!0===t.hasClass("facebook")){if(!0!==R.constraint.syncpost.facebook())return void v(this).blur();t.toggleClass("on"),t.parent().find("button.twitter").removeClass("on")}if(!0===t.hasClass("twitter")){if(!0!==R.constraint.syncpost.twitter())return void v(this).blur();t.toggleClass("on"),t.parent().find("button.facebook").removeClass("on")}w.log("worker.bind.cmt.write() C_EVENT_TYPE_SYNCPOST executed done.")}}),A.find("#d_cmtpgn_cmt_write_box").off(we).on(we,"button.btn_reg_write",function(e){w.log("worker.bind.cmt.write() C_EVENT_TYPE_CMT_REG executed."),!0===at?alert(f.CMTPGN114):!0===R.constraint.readonly.post()&&!0===R.constraint.login()&&!0===R.constraint.member()&&(!0===R.handler.cmt.post(P.C_EMPTY_KEY)&&(at=!0),w.log("worker.bind.cmt.write() C_EVENT_TYPE_CMT_REG executed done."))}))},R.bind.cmt.modify=function(){!0===S.cmtModifyUseFlag&&(A.find("#d_cmtpgn_cmt_list_wrapper").off(Me).on(Me,"button.d_cmtpgn_cmt_modify_btn",function(e){var t,a,n;w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_MODIFY executed."),!0===D?alert(f.CMTPGN115):!0===x?alert(f.CMTPGN114):(t=v(this),w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_MODIFY data-cmt-id=["+t.closest("li").attr("data-cmt-id")+"]"),w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_MODIFY data-cmt-break=["+t.closest("li").attr("data-cmt-break")+"]"),w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_MODIFY data-cmt-del=["+t.closest("li").attr("data-cmt-del")+"]"),w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_MODIFY data-cmt-owner=["+t.closest("li").attr("data-cmt-owner")+"]"),!0===R.constraint.readonly.post()&&!0===R.constraint.login()&&!0===R.constraint.cmt.modify(t.closest("li").attr("data-cmt-break"),t.closest("li").attr("data-cmt-del"),t.closest("li").attr("data-cmt-owner"))&&(n=R.callback.cmt.modify,(a={}).cmtPocType=_,a.pocId=p,a.chnlSeq=Number(E),a.contsRefValue=b,a.cmtSeq=t.closest("li").attr("data-cmt-id"),a.adcmtListFlag=!1,m.cmt.inform(a,n),w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_MODIFY executed done.")))}),A.find("#d_cmtpgn_cmt_list_wrapper").off(Ne).on(Ne,"button.d_cmtpgn_cmt_updt_btn",function(e){var t;w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_UPDT executed."),!0===x?alert(f.CMTPGN114):(t=v(this),w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_UPDT data-cmt-id=["+t.closest("li").attr("data-cmt-id")+"]"),w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_UPDT data-cmt-break=["+t.closest("li").attr("data-cmt-break")+"]"),w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_UPDT data-cmt-del=["+t.closest("li").attr("data-cmt-del")+"]"),w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_UPDT data-cmt-owner=["+t.closest("li").attr("data-cmt-owner")+"]"),!0===R.constraint.readonly.post()&&!0===R.constraint.login()&&(!0===R.handler.cmt.post(t.closest("li").attr("data-cmt-id"))&&(x=!0),w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_UPDT executed done.")))}),A.find("#d_cmtpgn_cmt_list_wrapper").off(Se).on(Se,"button.d_cmtpgn_cmt_cancel_btn",function(e){var t;w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_CANCEL executed."),!0===x?alert(f.CMTPGN114):(t=v(this),w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_CANCEL data-cmt-id=["+t.closest("li").attr("data-cmt-id")+"]"),w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_CANCEL data-cmt-break=["+t.closest("li").attr("data-cmt-break")+"]"),w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_CANCEL data-cmt-del=["+t.closest("li").attr("data-cmt-del")+"]"),w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_CANCEL data-cmt-owner=["+t.closest("li").attr("data-cmt-owner")+"]"),!0===R.constraint.cmt.cancel()&&(R.callback.cmt.cancel(t.closest("li").attr("data-cmt-id")),w.log("worker.bind.cmt.modify() C_EVENT_TYPE_CMT_CANCEL executed done.")))}))},R.bind.cmt.del=function(){!0===S.cmtDelUseFlag&&A.find("#d_cmtpgn_cmt_list_wrapper").off(Ae).on(Ae,"button.d_cmtpgn_cmt_del_btn",function(e){w.log("worker.bind.cmt.de() C_EVENT_TYPE_CMT_DEL executed.");var t,a,n=v(this);w.log("worker.bind.cmt.de() C_EVENT_TYPE_CMT_DEL data-cmt-id=["+n.closest("li").attr("data-cmt-id")+"]"),w.log("worker.bind.cmt.de() C_EVENT_TYPE_CMT_DEL data-cmt-break=["+n.closest("li").attr("data-cmt-break")+"]"),w.log("worker.bind.cmt.de() C_EVENT_TYPE_CMT_DEL data-cmt-del=["+n.closest("li").attr("data-cmt-del")+"]"),w.log("worker.bind.cmt.de() C_EVENT_TYPE_CMT_DEL data-cmt-owner=["+n.closest("li").attr("data-cmt-owner")+"]"),!0===R.constraint.login()&&!0===R.constraint.cmt.del(n.closest("li").attr("data-cmt-break"),n.closest("li").attr("data-cmt-del"),n.closest("li").attr("data-cmt-owner"))&&(a=R.callback.cmt.del,(t={}).cmtPocType=_,t.pocId=p,t.chnlSeq=Number(E),t.contsRefValue=b,t.cmtSeq=Number(n.closest("li").attr("data-cmt-id")),m.cmt.del(t,a),w.log("worker.bind.cmt.del() C_EVENT_TYPE_CMT_DEL executed done."))})},R.bind.cmt.atach=function(e){w.log("@worker.bind.cmt.atach executed. editingCmtSeq=["+e+"]"),!0===S.atachUseFlag&&(w.log("worker.bind.cmt.atach binding atach all executed."),R.bind.cmt.atach.music(e),R.bind.cmt.atach.video(e),R.bind.cmt.atach.image(e),R.bind.cmt.atach.link(e),w.log("worker.bind.cmt.atach binding atach all executed done.")),w.log("@worker.bind.cmt.atach executed done.")},R.bind.cmt.atach.music=function(e){!0===S.musicAtachUseFlag&&((e=(!0!==w.isDefined(e)?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e)+'"]').find(".d_cmtpgn_cmt_edit_box")).find(".d_cmtpgn_atach_music_layer")).off(ee).on(ee,"button.d_cmtpgn_atach_music_btn:not(.disabled)",function(e){w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC executed.");var t=v(this),a=t.closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id");if(w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC cmtSeq=["+a+"]"),Number(a)===P.C_EMPTY_KEY){if(!0!==R.constraint.login())return;if(!0!==R.constraint.member())return}switch(t.closest(".d_cmtpgn_atach_music_layer").find("input[name=d_cmtpgn_atach_music_srch_type]:checked").val()){case P.C_ATACH_MELON_SRCH_TYPE_SONG:R.handler.atach.music.song(a,P.C_EMPTY_KEY,t.attr("data-artist-id"),t.attr("data-artist-name"),t.attr("data-album-id"),t.attr("data-album-name"),t.attr("data-album-image-path"),t.attr("data-song-id"),t.attr("data-song-name"),t.attr("data-song-adult-flag"),t.attr("data-song-avail-flag"),t.attr("data-song-holdback-flag"),t.attr("data-song-freezone-flag"),t.attr("data-song-hotsong-flag"));break;case P.C_ATACH_MELON_SRCH_TYPE_ALBUM:R.handler.atach.music.album(a,P.C_EMPTY_KEY,t.attr("data-artist-id"),t.attr("data-artist-name"),t.attr("data-album-id"),t.attr("data-album-name"),t.attr("data-album-image-path"),t.attr("data-album-issue-date"),t.attr("data-album-avail-flag"));break;case P.C_ATACH_MELON_SRCH_TYPE_ARTIST:R.handler.atach.music.artist(a,P.C_EMPTY_KEY,t.attr("data-artist-id"),t.attr("data-artist-name"),t.attr("data-artist-image-path"),t.attr("data-artist-nationality-name"),t.attr("data-artist-sex-type-name"),t.attr("data-artist-act-type-name"),t.attr("data-artist-genre-type-name"),t.attr("data-artist-fan-cnt"))}w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC executed done.")}).off(oe).on(oe,"button.d_cmtpgn_atach_music_srch_btn",function(e){w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SRCH executed."),H=!1;var t=v(this),a=t.closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id"),n=P.C_ATACH_MELON_SRCH_TYPE_SONG,r=P.C_ATACH_MELON_SRCH_TYPE_SONG_INITIAL_SORT_TYPE,i=t.closest(".d_cmtpgn_atach_music_layer").find("input.d_cmtpgn_atach_music_srch_input").val(),i=!0===w.isEmpty(v.trim(i),t.closest(".d_cmtpgn_atach_music_layer").find("input.d_cmtpgn_atach_music_srch_input"))?"":v.trim(i);t.closest(".d_cmtpgn_atach_music_layer").find(".d_cmtpgn_atach_suggest_keyword").hide(),w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SRCH cmtSeq=["+a+"], musicType=["+n+"], sortType=["+r+"], srchWord=["+i+"]"),!0!==R.constraint.atach.music.srch(a,i)?setTimeout(function(){t.closest(".d_cmtpgn_atach_music_layer").find("input.d_cmtpgn_atach_music_srch_input").focus()},0):(R.handler.atach.music.srch(a,P.C_EMPTY_KEY,n,i,r,P.C_ATACH_MELON_DFLT_PAGE_NO),w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SRCH executed done."))}).off(le).on(le,"button.d_cmtpgn_atach_music_sort_btn",function(e){w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SORT executed.");var t=v(this),a=t.closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id"),n=!0===w.isDefined(t.closest(".d_cmtpgn_atach_music_layer").find("input[name=d_cmtpgn_atach_music_srch_type]:checked").val())?t.closest(".d_cmtpgn_atach_music_layer").find("input[name=d_cmtpgn_atach_music_srch_type]:checked").val():P.C_ATACH_MELON_SRCH_TYPE_SONG,r=!0===w.isDefined(t.closest(".d_cmtpgn_atach_music_layer").find("select.d_cmtpgn_atach_music_sort_option option:selected").attr("value"))?t.closest(".d_cmtpgn_atach_music_layer").find("select.d_cmtpgn_atach_music_sort_option option:selected").attr("value"):P.C_ATACH_MELON_SRCH_TYPE_SONG_INITIAL_SORT_TYPE,i=t.closest(".d_cmtpgn_atach_music_layer").find("input.d_cmtpgn_atach_music_srch_hidden").val();t.closest(".d_cmtpgn_atach_music_layer").find(".d_cmtpgn_atach_suggest_keyword").hide(),w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SORT cmtSeq=["+a+"], musicType=["+n+"], sortType=["+r+"], srchWord=["+i+"]"),!0!==R.constraint.atach.music.srch(a,i)?setTimeout(function(){t.closest(".d_cmtpgn_atach_music_layer").find("input.d_cmtpgn_atach_music_srch_input").focus()},0):(R.handler.atach.music.srch(a,P.C_EMPTY_KEY,n,i,r,P.C_ATACH_MELON_DFLT_PAGE_NO),w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SORT executed done."))}).off(se).on(se,"a.d_cmtpgn_navigator",function(e){var t,a,n,r,i;w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_NAVIGATE executed. href=["+v(this).attr("href")+"]"),e.preventDefault(),!0===w.isDefined(v(this).attr("href"))&&(t=(e=v(this)).closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id"),a=w.getValueFromCmtpgnUrl(e.attr("href"),"pageNo"),n=w.getValueFromCmtpgnUrl(e.attr("href"),"musicType"),r=w.getValueFromCmtpgnUrl(e.attr("href"),"sortType"),i=w.getValueFromCmtpgnUrl(e.attr("href"),"srchWord"),w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_NAVIGATE cmtSeq=["+t+"], musicType=["+n+"], sortType=["+r+"], srchWord=["+i+"]"),e.closest(".d_cmtpgn_atach_music_layer").find(".d_cmtpgn_atach_suggest_keyword").hide(),R.handler.atach.music.srch(t,P.C_EMPTY_KEY,n,i,r,a)),w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_NAVIGATE executed done.")}).off(te).on(te,"a.d_cmtpgn_suggest_keyword",function(e){w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SUGGEST executed. href=["+v(this).attr("href")+"]"),e.stopPropagation(),e.preventDefault();var e=v(this),t=e.closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id"),a=e.attr("data-conts-type");w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SUGGEST contsType=["+a+"]"),"SO"==a?R.handler.atach.music.song(t,P.C_EMPTY_KEY,e.attr("data-artist-id"),e.attr("data-artist-name"),e.attr("data-album-id"),e.attr("data-album-name"),e.attr("data-album-image-path"),e.attr("data-song-id"),e.attr("data-song-name"),"","","","",""):"AR"==a?R.handler.atach.music.artist(t,P.C_EMPTY_KEY,e.attr("data-artist-id"),e.attr("data-artist-name"),e.attr("data-artist-image-path"),e.attr("data-artist-nationality-name"),e.attr("data-artist-sex-type-name"),e.attr("data-artist-act-type-name"),"",""):"AL"==a&&R.handler.atach.music.album(t,P.C_EMPTY_KEY,e.attr("data-artist-id"),e.attr("data-artist-name"),e.attr("data-album-id"),e.attr("data-album-name"),e.attr("data-album-image-path"),"",""),w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SUGGEST executed done.")}).off(ae).on(ae,"a.d_cmtpgn_suggest_keyword",function(e){w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SUGGEST_NAVIGATE executed. html=["+v(this).html()+"]"),e.preventDefault();var t,a,n,r=v(this);switch(e.which||e.keyCode){case 13:e.stopPropagation(),e.preventDefault(),w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SUGGEST_NAVIGATE go ENTER.");var i=r.closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id"),o=r.attr("data-conts-type");w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SUGGEST contsType=["+o+"]"),"SO"==o?R.handler.atach.music.song(i,P.C_EMPTY_KEY,r.attr("data-artist-id"),r.attr("data-artist-name"),r.attr("data-album-id"),r.attr("data-album-name"),r.attr("data-album-image-path"),r.attr("data-song-id"),r.attr("data-song-name"),"","","","",""):"AR"==o?R.handler.atach.music.artist(i,P.C_EMPTY_KEY,r.attr("data-artist-id"),r.attr("data-artist-name"),r.attr("data-artist-image-path"),r.attr("data-artist-nationality-name"),r.attr("data-artist-sex-type-name"),r.attr("data-artist-act-type-name"),"",""):"AL"==o&&R.handler.atach.music.album(i,P.C_EMPTY_KEY,r.attr("data-artist-id"),r.attr("data-artist-name"),r.attr("data-album-id"),r.attr("data-album-name"),r.attr("data-album-image-path"),"",""),r.closest(".d_cmtpgn_atach_music_layer").find(".d_cmtpgn_atach_suggest_keyword").hide();break;case 27:e.stopPropagation(),e.preventDefault(),w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SUGGEST_NAVIGATE go ESC."),r.closest(".d_cmtpgn_atach_suggest_keyword").parent().find("input").focus(),r.closest(".d_cmtpgn_atach_suggest_keyword").hide();break;case 38:e.stopPropagation(),e.preventDefault(),t=r.parent().index(),n=(a=r.closest(".d_cmtpgn_atach_suggest_keyword").find("li")).length,w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SUGGEST_NAVIGATE go UP. CNT=["+n+"],IDX=["+t+"], TO=["+Math.max(0,t-1)+"]"),"cate"==a.eq(Math.max(0,t-1)).attr("class")?(1==t?r.closest(".d_cmtpgn_atach_suggest_keyword").parent().find("input"):a.eq(Math.max(0,t-1)-1).children()).focus():(0===t&&0===Math.max(0,t-1)?r.closest(".d_cmtpgn_atach_suggest_keyword").parent().find("input"):a.eq(Math.max(0,t-1)).children()).focus();break;case 40:e.stopPropagation(),e.preventDefault(),t=r.parent().index(),n=(a=r.closest(".d_cmtpgn_atach_suggest_keyword").find("li")).length,w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SUGGEST_NAVIGATE go DOWN. CNT=["+n+"], IDX=["+t+"], TO=["+Math.min(n-1,t+1)+"]"),("cate"==a.eq(Math.min(n-1,t+1)).attr("class")?a.eq(Math.min(n-1,t+1)+1):a.eq(Math.min(n-1,t+1))).children().focus()}w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SUGGEST_NAVIGATE executed done.")}).off(ne).on(ne,"li",function(e){v(this).find("a.d_cmtpgn_suggest_keyword").blur(),v(this).parent().find("li").css("background-color","")}).off(re).on(re,"li",function(e){v(this).css("background-color","#f5f5f5")}).off(ie).on(ie,"li",function(e){v(this).css("background-color","")}).off(ce).on(ce,"input[name=d_cmtpgn_atach_music_srch_type]",function(e){w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SRCH_DTL executed.");var t=v(this),a=t.closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id"),n=t.closest(".d_cmtpgn_atach_music_layer").find("input[name=d_cmtpgn_atach_music_srch_type]:checked").val(),r="";switch(n){case P.C_ATACH_MELON_SRCH_TYPE_SONG:r=P.C_ATACH_MELON_SRCH_TYPE_SONG_INITIAL_SORT_TYPE;break;case P.C_ATACH_MELON_SRCH_TYPE_ALBUM:r=P.C_ATACH_MELON_SRCH_TYPE_ALBUM_INITIAL_SORT_TYPE;break;case P.C_ATACH_MELON_SRCH_TYPE_ARTIST:r=P.C_ATACH_MELON_SRCH_TYPE_ARTIST_INITIAL_SORT_TYPE}var i=t.closest(".d_cmtpgn_atach_music_layer").find("input.d_cmtpgn_atach_music_srch_hidden").val();w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SRCH_DTL cmtSeq=["+a+"], musicType=["+n+"], sortType=["+r+"], srchWord=["+i+"]"),!0!==R.constraint.atach.music.srch(a,i)?setTimeout(function(){t.closest(".d_cmtpgn_atach_music_layer").find("input.d_cmtpgn_atach_music_srch_input").focus()},0):(R.handler.atach.music.srch(a,P.C_EMPTY_KEY,n,i,r,P.C_ATACH_MELON_DFLT_PAGE_NO),w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC_SRCH_DTL executed done."))}).off("beforeshow").on("beforeshow",function(e){w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC on beforeshow executed.]");var t=v(this).closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id");if(w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC cmtSeq=["+t+"]"),Number(t)===P.C_EMPTY_KEY){if(!0!==R.constraint.login())return void e.preventDefault();if(!0!==R.constraint.member())return void e.preventDefault()}R.render.atach.music.loading.finish(t),R.reset.atach.music(t)}).off("show").on("show",function(e){w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC on show executed.]");var t=v(this),a=t.closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id");w.log("worker.bind.cmt.atach.music() C_EVENT_TYPE_ATACH_MUSIC cmtSeq=["+a+"]"),t.closest(".d_cmtpgn_atach_music_layer").find("input.d_cmtpgn_atach_music_srch_input").cmtMelonKeywordSuggest({execution:"button.d_cmtpgn_atach_music_srch_btn",callback:Y,backdata:{editingCmtSeq:a,editingAtachSeq:P.C_EMPTY_KEY}}),t.closest(".d_cmtpgn_atach_music_layer").find("select").selectbox(),setTimeout(function(){t.closest(".d_cmtpgn_atach_music_layer").find("input.d_cmtpgn_atach_music_srch_input").focus()},0)}),e.find(".d_cmtpgn_atach_music_srch_input").keydown(function(){H=!0}))},R.bind.cmt.atach.video=function(e){!0===S.vdoAtachUseFlag&&((e=(!0!==w.isDefined(e)?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e)+'"]').find(".d_cmtpgn_cmt_edit_box")).find(".d_cmtpgn_atach_video_layer")).off(de).on(de,"button.d_cmtpgn_atach_video_btn:not(.disabled)",function(e){w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO executed.");var t=v(this),a=t.closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id");if(w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO cmtSeq=["+a+"]"),Number(a)===P.C_EMPTY_KEY){if(!0!==R.constraint.login())return;if(!0!==R.constraint.member())return}R.handler.atach.video(a,P.C_EMPTY_KEY,t.attr("data-artist-id"),t.attr("data-artist-name"),t.attr("data-video-id"),t.attr("data-video-title"),t.attr("data-video-image-path"),t.attr("data-video-adult-flag"),t.attr("data-video-age-level"),t.attr("data-video-play-time"),t.attr("data-video-view-cnt"),t.attr("data-video-issue-date"),t.attr("data-video-avail-flag"),t.attr("data-song-id")),w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO executed done.")}).off(he).on(he,"button.d_cmtpgn_atach_video_srch_btn",function(e){w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO_SRCH executed."),H=!1;var t=v(this),a=t.closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id"),n=P.C_ATACH_MELON_SRCH_TYPE_VIDEO_INITIAL_SORT_TYPE,r=t.closest(".d_cmtpgn_atach_video_layer").find("input.d_cmtpgn_atach_video_srch_input").val(),r=!0===w.isEmpty(v.trim(r),t.closest(".d_cmtpgn_atach_video_layer").find("input.d_cmtpgn_atach_video_srch_input"))?"":v.trim(r);t.closest(".d_cmtpgn_atach_video_layer").find(".d_cmtpgn_atach_suggest_keyword").hide(),w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO_SRCH cmtSeq=["+a+"], sortType=["+n+"], srchWord=["+r+"]"),!0!==R.constraint.atach.video.srch(a,r)?setTimeout(function(){t.closest(".d_cmtpgn_atach_video_layer").find("input.d_cmtpgn_atach_video_srch_input").focus()},0):(R.handler.atach.video.srch(a,P.C_EMPTY_KEY,r,n,P.C_ATACH_MELON_DFLT_PAGE_NO),w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO_SRCH executed done."))}).off(fe).on(fe,"button.d_cmtpgn_atach_video_sort_btn",function(e){w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO_SORT executed.");var t=v(this),a=t.closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id"),n=!0===w.isDefined(t.closest(".d_cmtpgn_atach_video_layer").find("select.d_cmtpgn_atach_video_sort_option option:selected").attr("value"))?t.closest(".d_cmtpgn_atach_video_layer").find("select.d_cmtpgn_atach_video_sort_option option:selected").attr("value"):P.C_ATACH_MELON_SRCH_TYPE_VIDEO_INITIAL_SORT_TYPE,r=t.closest(".d_cmtpgn_atach_video_layer").find("input.d_cmtpgn_atach_video_srch_hidden").val();t.closest(".d_cmtpgn_atach_video_layer").find(".d_cmtpgn_atach_suggest_keyword").hide(),w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO_SRCH cmtSeq=["+a+"], sortType=["+n+"], srchWord=["+r+"]"),!0!==R.constraint.atach.video.srch(a,r)?setTimeout(function(){t.closest(".d_cmtpgn_atach_video_layer").find("input.d_cmtpgn_atach_video_srch_input").focus()},0):(R.handler.atach.video.srch(a,P.C_EMPTY_KEY,r,n,P.C_ATACH_MELON_DFLT_PAGE_NO),w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO_SORT executed done."))}).off(Te).on(Te,"a.d_cmtpgn_navigator",function(e){var t,a,n,r;w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO_NAVIGATE executed. href=["+v(this).attr("href")+"]"),e.preventDefault(),!0===w.isDefined(v(this).attr("href"))&&(t=(e=v(this)).closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id"),a=w.getValueFromCmtpgnUrl(e.attr("href"),"pageNo"),n=w.getValueFromCmtpgnUrl(e.attr("href"),"sortType"),r=w.getValueFromCmtpgnUrl(e.attr("href"),"srchWord"),w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO_NAVIGATE cmtSeq=["+t+"], sortType=["+n+"], srchWord=["+r+"]"),e.closest(".d_cmtpgn_atach_video_layer").find(".d_cmtpgn_atach_suggest_keyword").hide(),R.handler.atach.video.srch(t,P.C_EMPTY_KEY,r,n,a)),w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO_NAVIGATE executed done.")}).off(me).on(me,"a.d_cmtpgn_suggest_keyword",function(e){w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO_SUGGEST executed. href=["+v(this).attr("href")+"]"),e.stopPropagation(),e.preventDefault();var e=v(this),t=e.attr("data-suggest-keyword");w.log("worker.callback.atach.video.suggest() C_EVENT_TYPE_ATACH_VIDEO_SUGGEST keyword=["+t+"]"),e.closest(".d_cmtpgn_atach_video_layer").find("input.d_cmtpgn_atach_video_srch_input").val(t),e.closest(".d_cmtpgn_atach_video_layer").find("button.d_cmtpgn_atach_video_srch_btn").trigger("click"),e.closest(".d_cmtpgn_atach_video_layer").find(".d_cmtpgn_atach_suggest_keyword").hide(),w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO_SUGGEST executed done.")}).off(_e).on(_e,"a.d_cmtpgn_suggest_keyword",function(e){w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO_SUGGEST_NAVIGATE executed. html=["+v(this).html()+"]"),e.preventDefault();var t,a,n,r=v(this);switch(e.which||e.keyCode){case 13:e.stopPropagation(),e.preventDefault(),w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO_SUGGEST_NAVIGATE go ENTER."),r.closest(".d_cmtpgn_atach_video_layer").find("input.d_cmtpgn_atach_video_srch_input").val(r.attr("data-suggest-keyword")),r.closest(".d_cmtpgn_atach_video_layer").find("button.d_cmtpgn_atach_video_srch_btn").trigger("click"),r.closest(".d_cmtpgn_atach_video_layer").find(".d_cmtpgn_atach_suggest_keyword").hide();break;case 27:e.stopPropagation(),e.preventDefault(),w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO_SUGGEST_NAVIGATE go ESC."),r.closest(".d_cmtpgn_atach_suggest_keyword").parent().find("input").focus(),r.closest(".d_cmtpgn_atach_suggest_keyword").hide();break;case 38:e.stopPropagation(),e.preventDefault(),t=r.parent().index(),n=(a=r.closest(".d_cmtpgn_atach_suggest_keyword").find("li")).length,w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO_SUGGEST_NAVIGATE go UP. CNT=["+n+"],IDX=["+t+"], TO=["+Math.max(0,t-1)+"]"),(0===t&&0===Math.max(0,t-1)?r.closest(".d_cmtpgn_atach_suggest_keyword").parent().find("input"):a.eq(Math.max(0,t-1)).children()).focus();break;case 40:e.stopPropagation(),e.preventDefault(),t=r.parent().index(),n=(a=r.closest(".d_cmtpgn_atach_suggest_keyword").find("li")).length,w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO_SUGGEST_NAVIGATE go DOWN. CNT=["+n+"], IDX=["+t+"], TO=["+Math.min(n-1,t+1)+"]"),a.eq(Math.min(n-1,t+1)).children().focus()}w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO_SUGGEST_NAVIGATE executed done.")}).off(pe).on(pe,"li",function(e){v(this).find("a.d_cmtpgn_suggest_keyword").blur(),v(this).parent().find("li").css("background-color","")}).off(ue).on(ue,"li",function(e){v(this).css("background-color","#f5f5f5")}).off(ge).on(ge,"li",function(e){v(this).css("background-color","")}).off("beforeshow").on("beforeshow",function(e){w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO on beforeshow executed.]");var t=v(this).closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id");if(w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO cmtSeq=["+t+"]"),Number(t)===P.C_EMPTY_KEY){if(!0!==R.constraint.login())return void e.preventDefault();if(!0!==R.constraint.member())return void e.preventDefault()}R.render.atach.video.loading.finish(t),R.reset.atach.video(t)}).off("show").on("show",function(e){w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO on show executed.]");var t=v(this),a=t.closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id");w.log("worker.bind.cmt.atach.video() C_EVENT_TYPE_ATACH_VIDEO cmtSeq=["+a+"]"),t.closest(".d_cmtpgn_atach_video_layer").find("input.d_cmtpgn_atach_video_srch_input").cmtMelonKeywordSuggest({execution:"button.d_cmtpgn_atach_video_srch_btn",callback:F,backdata:{editingCmtSeq:a,editingAtachSeq:P.C_EMPTY_KEY}}),t.closest(".d_cmtpgn_atach_video_layer").find("select").selectbox(),setTimeout(function(){t.closest(".d_cmtpgn_atach_video_layer").find("input.d_cmtpgn_atach_video_srch_input").focus()},0)}),e.find(".d_cmtpgn_atach_video_srch_input").keydown(function(){H=!0}))},R.bind.cmt.atach.image=function(e){!0===S.imageAtachUseFlag&&(!0!==w.isDefined(e)?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e)+'"]').find(".d_cmtpgn_cmt_edit_box")).find(".d_cmtpgn_atach_image_layer").off(Ce).on(Ce,"button.d_cmtpgn_atach_image_btn",function(e){w.log("worker.bind.cmt.atach.image() C_EVENT_TYPE_ATACH_IMAGE executed.");var t=v(this),a=t.closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id");if(w.log("worker.bind.cmt.atach.image() C_EVENT_TYPE_ATACH_IMAGE cmtSeq=["+a+"]"),Number(a)===P.C_EMPTY_KEY){if(!0!==R.constraint.login())return;if(!0!==R.constraint.member())return}t=t.closest(".d_cmtpgn_atach_image_layer").find("input.d_cmtpgn_atach_image_input");w.log("worker.bind.cmt.atach.image() C_EVENT_TYPE_ATACH_IMAGE $file=["+t.val()+"]"),!0!==R.constraint.atach.image(a,t.val())?t.closest("form").get(0).reset():(R.handler.atach.image(a,P.C_EMPTY_KEY,t.val()),w.log("worker.bind.cmt.atach.image() C_EVENT_TYPE_ATACH_IMAGE executed done."))}).off("change").on("change","input.d_cmtpgn_atach_image_input",function(e){w.log("worker.bind.cmt.atach.image() C_EVENT_TYPE_ATACH_IMAGE on change executed.");var t=v(this),a=t.closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id"),t=(w.log("worker.bind.cmt.atach.image() C_EVENT_TYPE_ATACH_IMAGE cmtSeq=["+a+"]"),t.closest(".d_cmtpgn_atach_image_layer").find("input.d_cmtpgn_atach_image_input"));w.log("worker.bind.cmt.atach.image() C_EVENT_TYPE_ATACH_IMAGE $file=["+t.val()+"]"),!0!==R.constraint.atach.image(a,t.val())&&t.closest("form").get(0).reset()}).off("beforeshow").on("beforeshow",function(e){w.log("worker.bind.cmt.atach.image() C_EVENT_TYPE_ATACH_IMAGE on beforeshow executed.");var t=v(this).closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id");if(w.log("worker.bind.cmt.atach.image() C_EVENT_TYPE_ATACH_IMAGE cmtSeq=["+t+"]"),Number(t)===P.C_EMPTY_KEY){if(!0!==R.constraint.login())return void e.preventDefault();if(!0!==R.constraint.member())return void e.preventDefault()}R.reset.atach.image(t)}).off("show").on("show",function(e){w.log("worker.bind.cmt.atach.image() C_EVENT_TYPE_ATACH_IMAGE on show executed. cdnPath will be=["+w.getImageUploadPath(u.Auth.getMemberKey())+"]");var t=v(this).closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id");w.log("worker.bind.cmt.atach.image() C_EVENT_TYPE_ATACH_IMAGE cmtSeq=["+t+"]")})},R.bind.cmt.atach.link=function(e){!0!==S.linkAtachUseFlag||!0!==S.vdoLinkAtachUseFlag&&!0!==S.genrlLinkAtachUseFlag||(!0!==w.isDefined(e)?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e)+'"]').find(".d_cmtpgn_cmt_edit_box")).find(".d_cmtpgn_atach_link_layer").off(ye).on(ye,"button.d_cmtpgn_atach_link_btn",function(e){w.log("worker.bind.cmt.atach.link() C_EVENT_TYPE_ATACH_LINK executed.");var t=v(this),a=t.closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id"),n=t.closest(".d_cmtpgn_atach_link_layer").find("select option:selected").attr("value"),r=t.closest(".d_cmtpgn_atach_link_layer").find("input.d_cmtpgn_atach_link_input").val(),r=!0===w.isEmpty(v.trim(r),t.closest(".d_cmtpgn_atach_link_layer").find("input.d_cmtpgn_atach_link_input"))?"":v.trim(r);if(w.log("worker.bind.cmt.atach.link() C_EVENT_TYPE_ATACH_LINK cmtSeq=["+a+"], linkType=["+n+"], linkUrl=["+r+"]"),Number(a)===P.C_EMPTY_KEY){if(!0!==R.constraint.login())return;if(!0!==R.constraint.member())return}!0!==R.constraint.atach.link(a,n,r)?setTimeout(function(){t.closest(".d_cmtpgn_atach_link_layer").find("input.d_cmtpgn_atach_link_input").focus()},0):(R.handler.atach.link(a,P.C_EMPTY_KEY,n,r),w.log("worker.bind.cmt.atach.link() C_EVENT_TYPE_ATACH_LINK executed done."))}).off(Ee).on(Ee,"select",function(e){w.log("worker.bind.cmt.atach.link() C_EVENT_TYPE_ATACH_LINK_TYPE_CHANGE executed.");var t=v(this);t.closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id");setTimeout(function(){t.closest(".d_cmtpgn_atach_link_layer").find("input.d_cmtpgn_atach_link_input").focus()},0),w.log("worker.bind.cmt.atach.link() C_EVENT_TYPE_ATACH_LINK_TYPE_CHANGE executed done.")}).off(be).on(be,"input.d_cmtpgn_atach_link_input",function(e){var t=v(this);t.closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id");13===(e.which||e.keyCode)&&t.closest(".d_cmtpgn_atach_link_layer").find("button.d_cmtpgn_atach_link_btn").trigger("click")}).off("beforeshow").on("beforeshow",function(e){w.log("worker.bind.cmt.atach.link() C_EVENT_TYPE_ATACH_LINK on beforeshow executed.");var t=v(this).closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id");if(w.log("worker.bind.cmt.atach.link() C_EVENT_TYPE_ATACH_LINK cmtSeq=["+t+"]"),Number(t)===P.C_EMPTY_KEY){if(!0!==R.constraint.login())return void e.preventDefault();if(!0!==R.constraint.member())return void e.preventDefault()}R.reset.atach.link(t)}).off("show").on("show",function(e){w.log("worker.bind.cmt.atach.link() C_EVENT_TYPE_ATACH_LINK on show executed.");var t=v(this),a=t.closest(".d_cmtpgn_cmt_edit_box").attr("data-cmt-id");setTimeout(function(){t.closest(".d_cmtpgn_atach_link_layer").find("input.d_cmtpgn_atach_link_input").focus()},0),w.log("worker.bind.cmt.atach.link() C_EVENT_TYPE_ATACH_LINK cmtSeq=["+a+"]")})},R.bind.adcmt={},R.bind.adcmt.view=function(){A.find("#d_cmtpgn_cmt_list_wrapper").off(He).on(He,"button[data-control=expand]",function(e){w.log("worker.bind.adcmt.view() C_EVENT_TYPE_ADCMT_EXPAND executed."),e.preventDefault();var t,a=v(this),e=a.closest("li").attr("data-cmt-id"),n=v(a.attr("data-expand-target"));w.log("worker.bind.adcmt.view() G_CHNL_INFO.adcmtUseFlag === true, EXPAND, cmtSeq=["+e+"], target=["+a.attr("data-expand-target")+"]"),0!==n.length&&(n.find("li").length,n.find("li").length<1?((t={}).cmtPocType=_,t.pocId=p,t.chnlSeq=Number(E),t.contsRefValue=b,T===P.C_PAGE_TYPE_GUESTBOOK&&(t.mypageMemberKey=Number(M)),t.cmtSeq=e,m.adcmt.list(t,function(e){e.STATUS!==P.C_STATUS_SUCCESS?R.fallback.alert(e):(R.render.adcmt.list(a,n,e.result.adcmtList),a.addClass("on").toggleClass("arrow_d02").toggleClass("arrow_u02"))})):(n.show(),a.addClass("on").toggleClass("arrow_d02").toggleClass("arrow_u02"),!0===S.adcmtWriteUseFlag&&!0===n.next().hasClass("d_cmtpgn_adcmt_write_box")&&(n.next().find("input.d_cmtpgn_adcmt_input").val("").placeholder("update"),n.next().show())),w.log("worker.bind.adcmt.view() C_EVENT_TYPE_ADCMT_EXPAND executed done."))}),A.find("#d_cmtpgn_cmt_list_wrapper").off(Re).on(Re,"button[data-control=expand]",function(e){w.log("worker.bind.adcmt.view() C_EVENT_TYPE_ADCMT_COLLAPSE executed."),e.preventDefault();var e=v(this),t=e.closest("li").attr("data-cmt-id"),a=v(e.attr("data-expand-target"));w.log("worker.bind.adcmt.view() G_CHNL_INFO.adcmtUseFlag === true, COLLSPSE, cmtSeq=["+t+"], target=["+e.attr("data-expand-target")+"]"),a.hide(),a.next().hide().find("input.d_cmtpgn_adcmt_input").parent().find(".d_cmtpgn_char_cnt").html("0"),a.next().hide().find("input.d_cmtpgn_adcmt_input").val("").placeholder("update"),e.removeClass("on").toggleClass("arrow_d02").toggleClass("arrow_u02"),w.log("worker.bind.adcmt.view() C_EVENT_TYPE_ADCMT_COLLAPSE executed done.")})},R.bind.adcmt.write=function(){!0===S.adcmtWriteUseFlag&&(A.find("#d_cmtpgn_cmt_list_wrapper").off(ke).on(ke,"input.d_cmtpgn_adcmt_input",function(e){w.log("worker.bind.adcmt.write() C_EVENT_TYPE_ADCMT_FOCUSIN executed.");var t=v(this);!0!==R.constraint.readonly.post()||!0!==R.constraint.login()||!0!==R.constraint.member()||!0!==R.constraint.adcmt.write(t.closest("li").attr("data-cmt-break"),t.closest("li").attr("data-cmt-del"))?v(this).blur():(w.log("worker.bind.adcmt.write() $this.html=["+t.parent().find(">.no_staus>.no").html()+"]"),t.data("cmtTextControl")||(t.cmtTextControl({limit:S.adcmtRegMaxLength,limitTarget:t.parent().find(".d_cmtpgn_char_cnt"),allowPaste:S.pastePermFlag}),t.removeAttr("readonly"),w.log("worker.bind.adcmt.write() C_EVENT_TYPE_ADCMT_FOCUSIN executed done.")))}),A.find("#d_cmtpgn_cmt_list_wrapper").off(Le).on(Le,"button.d_cmtpgn_adcmt_reg_btn",function(e){var t,a,n,r,i;w.log("worker.bind.adcmt.write() C_EVENT_TYPE_ADCMT_REG executed."),!0===U?alert(f.CMTPGN114):(t=v(this),w.log("worker.bind.adcmt.write() C_EVENT_TYPE_ADCMT_REG data-cmt-id=["+t.closest("li").attr("data-cmt-id")+"]"),w.log("worker.bind.adcmt.write() C_EVENT_TYPE_ADCMT_REG data-cmt-break=["+t.closest("li").attr("data-cmt-break")+"]"),w.log("worker.bind.adcmt.write() C_EVENT_TYPE_ADCMT_REG data-cmt-del=["+t.closest("li").attr("data-cmt-del")+"]"),i=t.closest(".d_cmtpgn_adcmt_write_box").find("input.d_cmtpgn_adcmt_input").val(),i=!0===w.isEmpty(v.trim(i),t.closest(".d_cmtpgn_adcmt_write_box").find("input.d_cmtpgn_adcmt_input"))?"":v.trim(i),!0===R.constraint.readonly.post()&&!0===R.constraint.login()&&!0===R.constraint.member()&&!0===R.constraint.adcmt.write(t.closest("li").attr("data-cmt-break"),t.closest("li").attr("data-cmt-del"))&&(!0!==R.constraint.adcmt.reg(t.closest("li").attr("data-cmt-break"),t.closest("li").attr("data-cmt-del"),i)?setTimeout(function(){t.closest(".d_cmtpgn_adcmt_write_box").find("input.d_cmtpgn_adcmt_input").focus()},0):(!(a=!1)===S.secrtUseFlag&&(a=t.next().find(".d_cmtpgn_secrt_flag").is(":checked"),w.log("worker.bind.adcmt.write() C_EVENT_TYPE_ADCMT_REG secrtFlag=["+a+"]")),r=R.callback.adcmt.reg,(n={}).cmtPocType=_,n.pocId=p,n.chnlSeq=Number(E),n.contsRefValue=b,n.contsRefUrl=et,n.parntCmtSeq=Number(t.closest("li").attr("data-cmt-id")),n.secrtFlag=a,n.cmtCont=i,m.adcmt.reg(n,r),U=!0,w.log("worker.bind.adcmt.write() C_EVENT_TYPE_ADCMT_REG executed done."))))}),A.find("#d_cmtpgn_cmt_list_wrapper").off(Ie).on(Ie,"input.d_cmtpgn_adcmt_input",function(e){13===(e.which||e.keyCode)&&v(this).closest(".d_cmtpgn_adcmt_write_box").find("button.d_cmtpgn_adcmt_reg_btn").trigger("click")}))},R.bind.adcmt.del=function(){A.find("#d_cmtpgn_cmt_list_wrapper").off(Oe).on(Oe,"button.d_cmtpgn_adcmt_del_btn",function(e){w.log("worker.bind.adcmt.del() C_EVENT_TYPE_ADCMT_DEL executed.");var t,a,n=v(this);w.log("worker.bind.adcmt.del() C_EVENT_TYPE_ADCMT_DEL SELF data-cmt-id=["+n.closest("li").attr("data-cmt-id")+"]"),w.log("worker.bind.adcmt.del() C_EVENT_TYPE_ADCMT_DEL PARENT data-cmt-id=["+n.closest("li").parent("ul").parent("li").attr("data-cmt-id")+"]"),w.log("worker.bind.adcmt.del() C_EVENT_TYPE_ADCMT_DEL data-cmt-break=["+n.closest("li").attr("data-cmt-break")+"]"),w.log("worker.bind.adcmt.del() C_EVENT_TYPE_ADCMT_DEL data-cmt-del=["+n.closest("li").attr("data-cmt-del")+"]"),w.log("worker.bind.adcmt.del() C_EVENT_TYPE_ADCMT_DEL data-cmt-owner=["+n.closest("li").attr("data-cmt-owner")+"]"),!0===R.constraint.login()&&!0===R.constraint.adcmt.del(n.closest("li").attr("data-cmt-break"),n.closest("li").attr("data-cmt-del"),n.closest("li").attr("data-cmt-owner"))&&(a=R.callback.adcmt.del,(t={}).cmtPocType=_,t.pocId=p,t.chnlSeq=Number(E),t.contsRefValue=b,t.parntCmtSeq=Number(n.closest("li").parent("ul").parent("li").attr("data-cmt-id")),t.cmtSeq=Number(n.closest("li").attr("data-cmt-id")),m.adcmt.del(t,a),w.log("worker.bind.adcmt.del() C_EVENT_TYPE_ADCMT_DEL executed done."))})},R.bind.atach=function(){A.find("#d_cmtpgn_cmt_list_wrapper").off(Pe).on(Pe,".d_cmtpgn_atach_content",function(e){w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE executed."),e.preventDefault();var t,a,n,r,i,o,l=v(this),s=l.closest(".d_cmtpgn_atach_box"),e=s.attr("data-atach-type"),c=s.attr("data-atach-id");switch(w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE atachType=["+e+"], atachId=["+c+"]"),e){case P.C_ATACH_TYPE_MUSIC_SONG:w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_MUSIC_SONG, href=["+l.attr("href")+"]"),!0===l.is(".d_cmtpgn_atach_content_melon_artist")?(t=w.getValueFromUrl(l.attr("href"),"artistId"),w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_MUSIC_SONG to ARTIST, id=["+t+"]"),location.href=l.attr("href")):!0===l.is(".d_cmtpgn_atach_content_melon_album")?(!0===l.is(".d_cmtpgn_atach_content_melon_download")?(o=s.attr("data-song-album-id"),w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_MUSIC_SONG to ALBUM DOWN, id=["+o+"]")):(o=w.getValueFromUrl(l.attr("href"),"albumId"),w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_MUSIC_SONG to ALBUM, id=["+o+"]")),i=s.attr("data-album-only-flag"),!0===w.isEmpty(i)||"1"!==i||!0===confirm(f.CMTPGN602)?commentObj.goAlbumDtl(o):v(this).blur()):!0===l.is(".d_cmtpgn_atach_content_melon_song")?(a=w.getValueFromUrl(l.attr("href"),"songId"),w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_MUSIC_SONG to SONG, id=["+a+"]"),commentObj.goSongDtl(a),v(this).blur()):!0===l.is(".d_cmtpgn_atach_content_melon_play")?(w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_MUSIC_SONG PLAY, id=["+c+"], G_MENU_ID=["+y+"]"),_=s.attr("data-song-adult-flag"),commentObj.playSong(y,c,!0!==w.isEmpty(_)?_:"0"),v(this).blur()):!0===l.is(".d_cmtpgn_atach_content_melon_download")?(-1!=navigator.appVersion.indexOf("Win")&&(w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_MUSIC_SONG DOWN, id=["+c+"], G_MENU_ID=["+y+"]"),commentObj.goBuyProduct(h.C_CMT_DUMMY_FORM_NAME,c,h.C_POC_CONTS_TYPE_SONG_CODE,"",h.C_POC_BUY_TYPE_ME_CODE,y)),v(this).blur()):alert(f.CMTPGN004);break;case P.C_ATACH_TYPE_MUSIC_ALBUM:w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_MUSIC_ALBUM, href=["+l.attr("href")+"]"),!0===l.is(".d_cmtpgn_atach_content_melon_artist")?(t=w.getValueFromUrl(l.attr("href"),"artistId"),w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_MUSIC_ALBUM to ARTIST, id=["+t+"]"),location.href=l.attr("href")):!0===l.is(".d_cmtpgn_atach_content_melon_album")?(w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_MUSIC_ALBUM to ALBUM"),!0===l.is(".d_cmtpgn_atach_content_melon_download")?w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_MUSIC_ALBUM to ALBUM DOWN, id=["+(o=c)+"]"):(o=w.getValueFromUrl(l.attr("href"),"albumId"),w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_MUSIC_ALBUM to ALBUM, id=["+o+"]")),i=s.attr("data-album-only-flag"),_=s.attr("data-album-discount-flag"),p=s.attr("data-total-song-count"),!(!0!==w.isEmpty(i)&&"1"===i||!0!==w.isEmpty(_)&&"1"===_||!0!==w.isEmpty(p)&&Number(p)>h.C_POC_CONTS_DOWNLOAD_AVAIL_COUNT)||(g=f.CMTPGN601,!0!==w.isEmpty(i)&&"1"===i&&(g=f.CMTPGN603),!0!==w.isEmpty(_)&&"1"===_&&(g=f.CMTPGN604),!0!==w.isEmpty(p)&&Number(p)>h.C_POC_CONTS_DOWNLOAD_AVAIL_COUNT&&(g=f.CMTPGN605),!0===confirm(g))?commentObj.goAlbumDtl(o):v(this).blur()):!0===l.is(".d_cmtpgn_atach_content_melon_play")?(w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_MUSIC_ALBUM PLAY, id=["+c+"], G_MENU_ID=["+y+"]"),commentObj.playAlbum(y,c),v(this).blur()):!0===l.is(".d_cmtpgn_atach_content_melon_download")?(w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_MUSIC_ALBUM DOWN, id=["+c+"], G_MENU_ID=["+y+"]"),i=s.attr("data-album-only-flag"),-1!=navigator.appVersion.indexOf("Win")&&("1"===i?commentObj.goBuyProduct(h.C_CMT_DUMMY_FORM_NAME,c,h.C_POC_CONTS_TYPE_ALBUM_CODE,"",h.C_POC_BUY_TYPE_ME_CODE,y):commentObj.goBuyProduct(h.C_CMT_DUMMY_FORM_NAME,c,h.C_POC_CONTS_TYPE_ALBUM_CODE,"",h.C_POC_BUY_TYPE_ME_CODE,y,h.C_POC_BUY_TYPE_ALBUM_SONG_CODE)),v(this).blur()):alert(f.CMTPGN004);break;case P.C_ATACH_TYPE_MUSIC_ARTIST:w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_MUSIC_ARTIST, href=["+l.attr("href")+"]"),!0===l.is(".d_cmtpgn_atach_content_melon_artist")?(t=w.getValueFromUrl(l.attr("href"),"artistId"),w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_MUSIC_ARTIST, id=["+t+"]"),location.href=l.attr("href")):alert(f.CMTPGN004);break;case P.C_ATACH_TYPE_IMAGE:w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_IMAGE, href=["+l.attr("href")+"]");var d,m,_=l.attr("href").slice(0,-1)+">/",p=l.closest("li").attr("data-cmt-id"),u="originalImageViewModal_"+p,g="originalImageView_"+p;v("#"+u).remove(),!0===l.is(".d_cmtpgn_atach_content_image")?(!0===l.next().is(".d_cmtpgn_atach_content_box")?w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_IMAGE already has d_cmtpgn_atach_content_box"):l.after(N.renderWithTemplate("d_cmtpgn_atach_image_original_dsply_template",{imageOriginalUrl:_,originalImageViewModal:u,originalImageView:g})),d=v("#"+g),m=setInterval(function(){1===d.length&&(!1===d.complete?d.load(function(){v("#"+u).width(Number(d.width())+34)}):(v("#"+u).width(Number(d.width())+34),l.next().modal(),clearInterval(m)))},100)):alert(f.CMTPGN004);break;case P.C_ATACH_TYPE_VIDEO:w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_VIDEO, href=["+l.attr("href")+"]"),!0===l.is(".d_cmtpgn_atach_content_melon_artist")?(t=w.getValueFromUrl(l.attr("href"),"artistId"),w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_VIDEO to ARTIST, id=["+t+"]"),location.href=l.attr("href")):!0===l.is(".d_cmtpgn_atach_content_melon_song")?(a=w.getValueFromUrl(l.attr("href"),"songId"),w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_VIDEO to SONG, id=["+a+"]"),commentObj.goSongDtl(a)):!0===l.is(".d_cmtpgn_atach_content_melon_video")?(o=w.getValueFromUrl(l.attr("href"),"mvId"),w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_VIDEO to VIDEO, id=["+o+"]"),commentObj.goVideoDtl(y,o)):alert(f.CMTPGN004);break;case P.C_ATACH_TYPE_LINK_VIDEO:w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_LINK_VIDEO, href=["+l.attr("href")+"]"),!0===l.is(".d_cmtpgn_atach_content_extern_video")?(i=l.attr("href"),p=l.attr("target"),_=w.parseQuery(i),w.openPopup(i,p,Number(_.videoWidth)+60,Number(_.videoHeight)+140,"scrollbars=no")):!0===l.is(".d_cmtpgn_atach_content_extern_link")?(n=l.attr("href"),r=l.attr("target"),mt.open(n,r)):alert(f.CMTPGN004);break;case P.C_ATACH_TYPE_LINK_GENRL:w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE C_ATACH_TYPE_LINK_GENRL, href=["+l.attr("href")+"]"),!0===l.is(".d_cmtpgn_atach_content_extern_link")?(n=l.attr("href"),r=l.attr("target"),mt.open(n,r)):alert(f.CMTPGN004)}w.log("worker.bind.atach() C_EVENT_TYPE_ATACH_EXECUTE executed done.")})},R.bind.atach.image=function(e){var t=document.createElement("img");t.src=e.slice(0,-1)+">/",dt.push(t)},R.bind.recm=function(){!0===S.recmUseFlag&&A.find("#d_cmtpgn_cmt_list_wrapper").off(Ge).on(Ge,"button.d_cmtpgn_cmt_recm_btn,button.d_cmtpgn_cmt_non_recm_btn,button.d_cmtpgn_adcmt_recm_btn,button.d_cmtpgn_adcmt_non_recm_btn",function(e){w.log("worker.bind.recm() C_EVENT_TYPE_RECM executed.");var t=v(this);if(w.log("worker.bind.recm() C_EVENT_TYPE_RECM data-cmt-id=["+t.closest("li").attr("data-cmt-id")+"]"),w.log("worker.bind.recm() C_EVENT_TYPE_RECM data-cmt-break=["+t.closest("li").attr("data-cmt-break")+"]"),w.log("worker.bind.recm() C_EVENT_TYPE_RECM data-cmt-del=["+t.closest("li").attr("data-cmt-del")+"]"),w.log("worker.bind.recm() C_EVENT_TYPE_RECM data-cmt-owner=["+t.closest("li").attr("data-cmt-owner")+"]"),w.log("worker.bind.recm() recm.positive=["+t.is(".positive")+"], recm.negative=["+t.is(".negative")+"]"),!0===R.constraint.readonly.recm()&&!0===R.constraint.login()&&!0===R.constraint.owner.recm(t.closest("li").attr("data-cmt-owner"))){if(!0===t.is(".d_cmtpgn_adcmt_recm_btn")||!0===t.is(".d_cmtpgn_adcmt_non_recm_btn")){var a=A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li>ul.d_cmtpgn_adcmt_list>li").filter('[data-cmt-id="'+t.closest("li").attr("data-cmt-id")+'"]');if(!0!==R.constraint.recm(t.closest("li").attr("data-cmt-break"),t.closest("li").attr("data-cmt-del"),t.closest("li").attr("data-cmt-owner"),a.find(".d_cmtpgn_adcmt_recm_btn").is(".on"),a.find(".d_cmtpgn_adcmt_non_recm_btn").is(".on")))return}else{a=A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+t.closest("li").attr("data-cmt-id")+'"]');if(!0!==R.constraint.recm(t.closest("li").attr("data-cmt-break"),t.closest("li").attr("data-cmt-del"),t.closest("li").attr("data-cmt-owner"),a.find(".d_cmtpgn_cmt_recm_btn").is(".on"),a.find(".d_cmtpgn_cmt_non_recm_btn").is(".on")))return}var a={},n=(!0===t.closest("li").parent().is(".d_cmtpgn_adcmt_list")?R.callback.adcmt:R.callback.cmt).recm;a.cmtPocType=_,a.pocId=p,a.chnlSeq=Number(E),a.contsRefValue=b,a.cmtSeq=Number(t.closest("li").attr("data-cmt-id")),a.nonRecmFlag=!0===t.is(".negative"),m.recm.reg(a,n),w.log("worker.bind.recm() C_EVENT_TYPE_RECM executed done.")}})},R.bind.reprt={},R.bind.reprt.open=function(){!0===S.reprtUseFlag&&A.find("#d_cmtpgn_cmt_list_wrapper").off(Ye).on(Ye,"button.d_cmtpgn_cmt_reprt_btn,button.d_cmtpgn_adcmt_reprt_btn",function(e){var t=v(this);n.cmtSeq=t.closest("li").attr("data-cmt-id"),!0===R.constraint.readonly.reprt()&&!0===R.constraint.login()&&!0===R.constraint.reprt(t.closest("li").attr("data-cmt-break"),t.closest("li").attr("data-cmt-del"),t.closest("li").attr("data-cmt-owner"))&&(n.render(),n.layerOpen(),v(".more").blur())})},{});return n.cmtSeq=null,n.render=function(){n.render.popup(),n.bind.send(),n.bind.close(),n.bind.etc(),n.bind.resontype()},n.render.popup=function(){var e=v("body");if(0<e.find("#reprt_popup").length)return!1;var t=N.renderWithTemplate("d_cmtpgn_reprt_popup");e.append(t),a.customTag("#reprt_popup"),v(".item.etc .more").on("click",function(){v(this).parent().toggleClass("open")})},n.layerOpen=function(){var e=v("body");e.find("#reprt_popup").modal("show"),e.addClass("scroll_no")},n.layerClose=function(){var e=v("#reprt_popup");e.modal("hide"),e.remove(),v("body").removeClass("scroll_no")},n.validationCheck=function(e){return w.isEmpty(e.reprtResonType)?(alert(f.CMTPGN112),!1):"etc"!==e.reprtResonType||!w.isEmpty(w.getCmtTextEditFormat(e.reprtReson))||(alert(f.CMTPGN113),v("#reprt_popup").find("#d_cmtpgn_reprt_reson").focus(),!1)},n.formToData=function(){var e=v("body").find("input[name=d_cmtpgn_reprt_reson_type]:checked").val(),t="etc"===e?v("#reprt_popup").find("#d_cmtpgn_reprt_reson").val():"",a={};return a.cmtPocType=_,a.pocId=p,a.chnlSeq=Number(E),a.cmtSeq=n.cmtSeq,a.contsRefValue=b,a.reprtResonType=e,a.reprtReson=t,a},n.responseHandler=function(e){if(w.isDefined(e)&&w.isDefined(e.STATUS)){if(e.STATUS===P.C_STATUS_SUCCESS)return alert(msg=f.MW067),!0;alert(w.isEmpty(e.ERRORMESSAGE)?f.CMTPGN998:e.ERRORMESSAGE)}else alert(f.CMTPGN998);return!1},n.bind={},n.bind.resontype=function(){!0===S.reprtUseFlag&&(v("body").find("#reprt_popup").off(Fe).on(Fe,"input:radio,.radio",function(){v("#reprt_popup").find("label").each(function(e){var t=v(this).find(">strong");0<t.length&&v(this).html(t.text())});var e=v("input[name=d_cmtpgn_reprt_reson_type]:checked"),t=v("label[for="+e.attr("id")+"]");t.html('<strong class="fc_strong">'+t.text()+"</strong>"),"etc"===e.val()?v("#d_cmtpgn_reprt_reson").removeAttr("disabled").val("").focus():(v("#d_cmtpgn_reprt_reson").attr("disabled","disabled").css("background-color","#ffffff").val(""),v("#cmt_counter").text(0))}),v("#d_cmtpgn_reprt_reson").attr("disabled","disabled").css("background-color","#ffffff").val(""),v("input[name=d_cmtpgn_reprt_reson_type]")[0].checked=!0)},n.bind.etc=function(){!0===S.reprtUseFlag&&v("body").find("#d_cmtpgn_reprt_reson").cmtTextControl({counting:!0,limit:80,limitTarget:"#cmt_counter",limitClassName:"#d_cmtpgn_reprt_reson",allowPaste:!1,autoResize:!1})},n.bind.close=function(){v("body").find("#reprt_popup").off(We).on(We,"a.reprt_cancel",function(e){return n.layerClose(),!1})},n.bind.send=function(){!0===S.reprtUseFlag&&v("body").find("#reprt_popup").off(Be).on(Be,"a.reprt_save",function(e){var t;return ct?alert(f.CMTPGN114):"illegalcamera"==(t=n.formToData()).reprtResonType?n.bind.sendIllegalCamera():n.validationCheck(t)&&(ct=!0,m.reprt.reg(t,function(e){ct=!1,n.responseHandler(e)&&(n.layerClose(),R.page.refresh())})),!1})},n.bind.sendIllegalCamera=function(){m.reprt.informIllegalReprtUrl({cmtSeq:n.formToData().cmtSeq},function(e){if(!w.isDefined(e)||!w.isDefined(e.STATUS))return alert(f.CMTPGN998),!1;n.layerClose(),R.page.refresh(),mt.open(e.result.illegalReprtUrl)})},R.handler={},R.handler.cmt={},R.handler.cmt.post=function(e){w.log("@worker.handler.cmt.post() executed. editingCmtSeq=["+e+"]");var t=Number(e)===P.C_EMPTY_KEY?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e)+'"]').find(".d_cmtpgn_cmt_edit_box"),a=t.find(".d_cmtpgn_cmt_edit_area").find(".d_cmtpgn_atach_box"),n=(w.log("worker.handler.cmt.post() $atachEntryList is",a),0),r=[],i=0,o=[],l=[],s=(a.each(function(e){var t=v(this);w.log("worker.handler.cmt.post() $atachEntryList["+e+"] is",t),"none"!==t.css("display")&&(r[n]=((e,t)=>{var a={};switch(a.atachSeq=t.attr("data-atach-seq"),a.atachType=t.attr("data-atach-type"),a.atachValue=t.attr("data-atach-value"),a.atachDsplyOrder=e,t.attr("data-atach-type")){case P.C_ATACH_TYPE_TEXT:a.atachValue=w.getCmtTextEditFormat(t.val()),l.push(w.getCmtTextEditFormat(t.val()));break;case P.C_ATACH_TYPE_MUSIC_SONG:case P.C_ATACH_TYPE_MUSIC_ALBUM:case P.C_ATACH_TYPE_MUSIC_ARTIST:break;case P.C_ATACH_TYPE_IMAGE:a.atachFileName=t.attr("data-atach-name");break;case P.C_ATACH_TYPE_VIDEO:break;case P.C_ATACH_TYPE_LINK_VIDEO:a.atachVideoTitle=t.attr("data-atach-title"),a.atachVideoWidth=t.attr("data-atach-width"),a.atachVideoHeight=t.attr("data-atach-height"),a.atachThumbUrl=t.find(".d_cmtpgn_atach_link_video_thumb_url").attr("src");break;case P.C_ATACH_TYPE_LINK_GENRL:}return a})(n+1,t),n++)}),t.find(".d_cmtpgn_syncpost_btn"));if(w.log("worker.handler.cmt.post() $syncpstEntryList is",s),s.each(function(e){!0===v(this).hasClass("facebook")&&!0===v(this).hasClass("on")&&(o[i++]="facebook"),!0===v(this).hasClass("twitter")&&!0===v(this).hasClass("on")&&(o[i++]="twitter")}),Number(e)===P.C_EMPTY_KEY){if(!0!==R.constraint.cmt.reg(r))return setTimeout(function(){a.filter(":first").focus()},0),!1}else if(!0!==R.constraint.cmt.updt(r))return setTimeout(function(){a.filter(":first").focus()},0),!1;var s=!1,t=(!0===S.secrtUseFlag&&(s=t.find(".d_cmtpgn_secrt_flag").is(":checked"),w.log("worker.handler.cmt.post() secrtFlag=["+s+"]")),{}),c=Number(e)===P.C_EMPTY_KEY?R.callback.cmt.reg:R.callback.cmt.updt,d={};return d.syncpstEntryList=o,d.syncpstMessage=l.join(""),t.cmtPocType=_,t.pocId=p,t.chnlSeq=Number(E),t.contsRefValue=b,t.contsRefUrl=et,t.cmtSeq=Number(e),t.secrtFlag=s,t.atachList=r,t.syncpstList=o,Number(e)===P.C_EMPTY_KEY?m.cmt.reg(t,c,d):m.cmt.updt(t,c,d),Number(e)===P.C_EMPTY_KEY?(L=0,w.log("worker.handler.cmt.post() GLOBAL G_ATACH_CONSTRAINT_REG_COUNT resettled")):(I=0,w.log("worker.handler.cmt.post() GLOBAL G_ATACH_CONSTRAINT_UPDT_COUNT resettled")),w.log("@worker.handler.cmt.post() executed done."),!0},R.handler.atach={},R.handler.atach.text=function(e,t){w.log("@worker.handler.atach.text() executed. editingCmtSeq=["+e+"], editingAtachSeq=["+t+"]");var a=Number(e)===P.C_EMPTY_KEY?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e)+'"]').find(".d_cmtpgn_cmt_edit_box"),n=a.find(".d_cmtpgn_cmt_edit_area"),e=(n.append(R.render.atach.entry.edit(e,{atachSeq:t,atachType:P.C_ATACH_TYPE_TEXT})),n.find("textarea:last")),t=S.cmtRegMaxLength;918==Number(E)&&(t=500),e.cmtTextControl({limit:t,limitTarget:a.find(".d_cmtpgn_char_cnt"),limitClassName:"textarea.d_cmtpgn_atach_box",allowPaste:S.pastePermFlag}),e.autosize(),w.log("@worker.handler.atach.text() executed done.")},R.handler.atach.music={},R.handler.atach.music.srch=function(e,t,a,n,r,i){w.log("@worker.handler.atach.music.srch() executed. editingCmtSeq=["+e+"], editingAtachSeq=["+t+"], musicType=["+a+"], srchWord=["+n+"], sortType=["+r+"], pageNo=["+i+"]");var e={editingCmtSeq:e,editingAtachSeq:t,loader:R.render.atach.music.loading.start},t={},o=R.callback.atach.music.srch;t.cmtPocType=_,t.pocId=p,t.musicType=a,t.srchWord=n,t.sortType=Number(r),t.pageNo=Number(i),t.pageSize=P.C_ATACH_MELON_DSPLY_PAGE_SIZE,t.pageGroupSize=P.C_ATACH_MELON_DSPLY_GROUP_SIZE,m.atach.melon.srch(t,o,e),w.log("@worker.handler.atach.music.srch() executed done.")},R.handler.atach.music.song=function(e,t,a,n,r,i,o,l,s,c,d,m,_,p){w.log("@worker.handler.music.song() executed. editingCmtSeq=["+e+"], editingAtachSeq=["+t+"], artistId=["+a+"], artistName=["+n+"], albumImagePath=["+o+"], albumId=["+r+"], albumName=["+i+"], songId=["+l+"], songName=["+s+"], songAdultFlag=["+c+"], songAvailFlag=["+d+"], songHoldBackFlag=["+m+"], songFreezoneFlag=["+_+"], songHotSongFlag=["+p+"]"),R.callback.atach.music.song(e,t,a,n,r,i,o,l,s,c,d,m,_,p),w.log("@worker.handler.music.song() executed.")},R.handler.atach.music.album=function(e,t,a,n,r,i,o,l,s){w.log("@worker.handler.music.album() executed. editingCmtSeq=["+e+"], editingAtachSeq=["+t+"], artistId=["+a+"], artistName=["+n+"], albumId=["+r+"], albumName=["+i+"], albumImagePath=["+o+"], albumIssueDate=["+l+"], albumAvailFlag=["+s+"]"),R.callback.atach.music.album(e,t,a,n,r,i,o,l,s),w.log("@worker.handler.music.album() executed.")},R.handler.atach.music.artist=function(e,t,a,n,r,i,o,l,s,c){w.log("@worker.handler.music.artist() executed. editingCmtSeq=["+e+"], editingAtachSeq=["+t+"], artistId=["+a+"], artistName=["+n+"], artistImagePath=["+r+"], artistNationalityName=["+i+"], artistSexTypeName=["+o+"], artistActTypeName=["+l+"], artistGnrTypeName=["+s+"], artistFanCnt=["+c+"]"),R.callback.atach.music.artist(e,t,a,n,r,i,o,l,s,c),w.log("@worker.handler.music.artist() executed.")},R.handler.atach.video=function(e,t,a,n,r,i,o,l,s,c,d,m,_,p){w.log("@worker.handler.atach.video() executed. editingCmtSeq=["+e+"], editingAtachSeq=["+t+"], artistId=["+a+"], artistName=["+n+"], videoId=["+r+"], videoTitle=["+i+"], videoImagePath=["+o+"], videoAdultFlag=["+l+"], videoAgeLevel=["+s+"], videoPlayTime=["+c+"], videoViewCnt=["+d+"], videoIssueDate=["+m+"], videoAvailFlag=["+_+"], songId=["+p+"]"),R.callback.atach.video(e,t,a,n,r,i,o,l,s,c,d,m,_,p),w.log("@worker.handler.atach.video() executed.")},R.handler.atach.video.srch=function(e,t,a,n,r){w.log("@worker.handler.atach.video.srch() executed. editingCmtSeq=["+e+"], editingAtachSeq=["+t+"], srchWord=["+a+"], sortType=["+n+"], pageNo=["+r+"]");var e={editingCmtSeq:e,editingAtachSeq:t,loader:R.render.atach.video.loading.start},t={},i=R.callback.atach.video.srch;t.cmtPocType=_,t.pocId=p,t.musicType=P.C_ATACH_MELON_SRCH_TYPE_VIDEO,t.srchWord=a,t.sortType=Number(n),t.pageNo=Number(r),t.pageSize=P.C_ATACH_MELON_DSPLY_PAGE_SIZE,t.pageGroupSize=P.C_ATACH_MELON_DSPLY_GROUP_SIZE,m.atach.melon.srch(t,i,e),w.log("@worker.handler.atach.video.srch() executed done.")},R.handler.atach.image=function(e,t,a){w.log("@worker.handler.atach.image() executed. editingCmtSeq=["+e+"], editingAtachSeq=["+t+"], fileName=["+a+"]");var n=w.getImageUploadPath(u.Auth.getMemberKey()),r=w.getImageUploadName(a),e={editingCmtSeq:e,editingAtachSeq:t,targetFilePath:n,targetFileName:r,fileName:a},t={},n=R.callback.atach.image.auth;t.VOD=r,MELONWEB_CMTPGN_IMAGE_CONTEXT=MELONWEB_CMTPGN_SCOPE_CONTEXT_MAP[g],m.atach.image.cdn.auth(t,n,e),w.log("@worker.handler.atach.image() executed done.")},R.handler.atach.link=function(e,t,a,n){w.log("@worker.handler.atach.link() executed. editingCmtSeq=["+e+"], editingAtachSeq=["+t+"], linkType=["+a+"], linkUrl=["+n+"]");e={editingCmtSeq:e,editingAtachSeq:t,linkType:a,linkUrl:n},t={};a===P.C_ATACH_TYPE_LINK_VIDEO?(t.youtubeUrl=n,a=R.callback.atach.link,m.atach.link.video.oembed(t,a,e)):(t.backdata=e,R.callback.atach.link(t)),w.log("@worker.handler.atach.link() executed done.")},R.reset={},R.reset.atach={},R.reset.atach.music=function(e,t){w.log("@worker.reset.atach.music() executed. editingCmtSeq=["+e+"], hideFlag=["+t+"]");var e=(Number(e)===P.C_EMPTY_KEY?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e)+'"]').find(".d_cmtpgn_cmt_edit_box")).find(".d_cmtpgn_atach_music_layer"),a=(e.find("input.d_cmtpgn_atach_music_srch_input").val("").placeholder("update"),e.find(".d_cmtpgn_atach_srch_box"));0<a.find(".d_cmtpgn_atach_suggest_keyword").length&&a.removeClass("on").find(".d_cmtpgn_atach_suggest_keyword").remove(),0<a.parent().find(".d_cmtpgn_atach_music_srch_option").length&&e.find(".d_cmtpgn_atach_music_srch_option, .d_cmtpgn_atach_music_srch_list, .d_cmtpgn_atach_music_srch_navigator").remove(),e.find(".d_cmtpgn_noresult").show().addBack().find(".d_cmtpgn_fallback").hide(),!0===t&&e.find(".d_cmtpgn_layer_close_btn").trigger("click"),w.log("@worker.reset.atach.music() executed done.")},R.reset.atach.video=function(e,t){w.log("@worker.reset.atach.video() executed. editingCmtSeq=["+e+"], hideFlag=["+t+"]");var e=(Number(e)===P.C_EMPTY_KEY?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e)+'"]').find(".d_cmtpgn_cmt_edit_box")).find(".d_cmtpgn_atach_video_layer"),a=(e.find("input.d_cmtpgn_atach_video_srch_input").val("").placeholder("update"),e.find(".d_cmtpgn_atach_srch_box"));0<a.find(".d_cmtpgn_atach_suggest_keyword").length&&a.removeClass("on").find(".d_cmtpgn_atach_suggest_keyword").remove(),0<a.parent().find(".d_cmtpgn_atach_video_srch_option").length&&e.find(".d_cmtpgn_atach_video_srch_option, .d_cmtpgn_atach_video_srch_list, .d_cmtpgn_atach_video_srch_navigator").remove(),e.find(".d_cmtpgn_noresult").show().addBack().find(".d_cmtpgn_fallback").hide(),!0===t&&e.find(".d_cmtpgn_layer_close_btn").trigger("click"),w.log("@worker.reset.atach.video() executed done.")},R.reset.atach.image=function(e,t){w.log("@worker.reset.atach.image() executed. editingCmtSeq=["+e+"], hideFlag=["+t+"]");var e=(Number(e)===P.C_EMPTY_KEY?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e)+'"]').find(".d_cmtpgn_cmt_edit_box")).find(".d_cmtpgn_atach_image_layer"),a=e.find("input.d_cmtpgn_atach_image_input").closest("form");a.find("iframe").remove(),a.find("input[type=hidden]").remove(),a.get(0).reset(),!0===t&&e.find(".d_cmtpgn_layer_close_btn").trigger("click"),null!==r&&(r=null,w.log("worker.reset.atach.image() G_UPLOAD_HANDLER released")),w.log("@worker.reset.atach.image() executed done.")},R.reset.atach.link=function(e,t){w.log("@worker.reset.atach.link() executed. editingCmtSeq=["+e+"], hideFlag=["+t+"]");e=(Number(e)===P.C_EMPTY_KEY?A.find("#d_cmtpgn_cmt_write_box"):A.find("#d_cmtpgn_cmt_list_wrapper").find("ul>li").filter('[data-cmt-id="'+Number(e)+'"]').find(".d_cmtpgn_cmt_edit_box")).find(".d_cmtpgn_atach_link_layer");e.find("select").selectbox("selectedIndex",0),e.find("input.d_cmtpgn_atach_link_input").val("").placeholder("update"),!0===t&&e.find(".d_cmtpgn_layer_close_btn").trigger("click"),w.log("@worker.reset.atach.link() executed done.")},R.constraint={},R.constraint.login=function(){return w.log("@worker.constraint.login() executed."),!0!==u.Auth.isMelonLogin()?(melon.login.loginPopup(1),!1):(w.log("@worker.constraint.login() executed done."),!0)},R.constraint.member=function(){return w.log("@worker.constraint.member() executed."),!0===s.isBreakMember||!0===s.isBreakIp?(alert(f.MW002),!1):(w.log("@worker.constraint.member() executed done."),!0)},R.constraint.readonly={},R.constraint.readonly.post=function(){return w.log("@worker.constraint.readonly.post() executed."),!0===S.readOnlyFlag?(alert(f.CMTPGN116),!1):(w.log("@worker.constraint.readonly.post() executed done."),!0)},R.constraint.readonly.recm=function(){return w.log("@worker.constraint.readonly.recm() executed."),!0===S.readOnlyFlag?(alert(f.CMTPGN116),!1):(w.log("@worker.constraint.readonly.recm() executed done."),!0)},R.constraint.owner={},R.constraint.owner.recm=function(e){return"on"==e?(alert(f.CMTPGN007),!1):(w.log("@worker.constraint.owner.recm() executed done."),!0)},R.constraint.readonly.reprt=function(){return w.log("@worker.constraint.readonly.reprt() executed."),!0===S.readOnlyFlag?(alert(f.CMTPGN116),!1):(w.log("@worker.constraint.readonly.reprt() executed done."),!0)},R.constraint.timer={},R.constraint.timer.set=function(){w.log("@worker.constraint.timer.set() executed. timer=["+c.cmtRegPosblMin+"]"),w.setSpamTimer(c.cmtRegPosblMin)},R.constraint.timer.check=function(){return w.log("@worker.constraint.timer.check() executed. timer=["+c.cmtRegPosblMin+"]"),w.checkSpamTimer(c.cmtRegPosblMin)},R.constraint.syncpost={},R.constraint.syncpost.facebook=function(){return w.log("@worker.constraint.syncpost.facebook() executed."),!0!==w.isEmpty(s.snsInfo)&&w.log("@worker.constraint.syncpost.facebook() facebookConnectFlag=["+s.snsInfo.facebookConnectFlag+"], facebookConnectExpiredFlag=["+s.snsInfo.facebookConnectExpiredFlag+"]"),!0===w.isEmpty(s.snsInfo)?(alert(f.CMTPGN501),!1):"0"!==s.snsInfo.facebookConnectInfoStatus?(alert(f.CMTPGN505),!1):!0!==s.snsInfo.facebookConnectFlag?(alert(f.CMTPGN501),!1):!0!==w.isEmpty(s.snsInfo)&&!0===s.snsInfo.facebookConnectExpiredFlag?(alert(f.CMTPGN502),!1):(w.log("@worker.constraint.syncpost.facebook() executed done."),!0)},R.constraint.syncpost.twitter=function(){return w.log("@worker.constraint.syncpost.twitter() executed."),!0!==w.isEmpty(s.snsInfo)&&w.log("@worker.constraint.syncpost.twitter() twitterConnectFlag=["+s.snsInfo.twitterConnectFlag+"], twitterConnectExpiredFlag=["+s.snsInfo.twitterConnectExpiredFlag+"]"),!0===w.isEmpty(s.snsInfo)?(alert(f.CMTPGN501),!1):"0"!==s.snsInfo.twitterConnectInfoStatus?(alert(f.CMTPGN505),!1):!0!==s.snsInfo.twitterConnectFlag?(alert(f.CMTPGN503),!1):!0!==w.isEmpty(s.snsInfo)&&!0===s.snsInfo.twitterConnectExpiredFlag?(alert(f.CMTPGN504),!1):(w.log("@worker.constraint.syncpost.twitter() executed done."),!0)},R.constraint.atach={},R.constraint.atach.cmt=function(e){if(w.log("@worker.constraint.atach.cmt() executed."),!(!0===S.atachUseFlag&&0<S.atachMaxCnt))return w.log("worker.constraint.atach.cmt() atachUseFlag=["+S.atachUseFlag+"], atachMaxCnt=["+S.atachMaxCnt+"]"),alert(f.CMTPGN001),!1;if(Number(e)===P.C_EMPTY_KEY){if(L>=S.atachMaxCnt){if(w.log("worker.constraint.atach.cmt() G_ATACH_CONSTRAINT_REG_COUNT >= G_CHNL_INFO.atachMaxCnt"),1!==S.atachMaxCnt)return alert(w.format(f.CMTPGN107,S.atachMaxCnt)),!1;w.log("worker.constraint.atach.cmt() G_CHNL_INFO.atachMaxCnt == 1, SHOULD REMOVE LAST ONE")}}else if(I>=S.atachMaxCnt){if(w.log("worker.constraint.atach.cmt() G_ATACH_CONSTRAINT_UPDT_COUNT >= G_CHNL_INFO.atachMaxCnt"),1!==S.atachMaxCnt)return alert(w.format(f.CMTPGN107,S.atachMaxCnt)),!1;w.log("worker.constraint.atach.cmt() G_CHNL_INFO.atachMaxCnt == 1, SHOULD REMOVE LAST ONE")}return w.log("@worker.constraint.atach.cmt() executed done."),!0},R.constraint.atach.music={},R.constraint.atach.music.srch=function(e,t){return w.log("@worker.constraint.atach.music.srch() executed. editingCmtSeq=["+e+"], srchWord=["+t+"]"),!(!0!==R.constraint.atach.cmt(e)||(!0===w.isEmpty(t)?(alert(f.CMTPGN102),1):t.length<P.C_ATACH_MELON_MIN_SRCH_WORD?(alert(w.format(f.CMTPGN103,P.C_ATACH_MELON_MIN_SRCH_WORD)),1):t.length>P.C_ATACH_MELON_MAX_SRCH_WORD?(alert(w.format(f.CMTPGN104,P.C_ATACH_MELON_MAX_SRCH_WORD)),1):(w.log("@worker.constraint.atach.music.srch() executed done."),0)))},R.constraint.atach.video={},R.constraint.atach.video.srch=function(e,t){return w.log("@worker.constraint.atach.video.srch() executed. editingCmtSeq=["+e+"], srchWord=["+t+"]"),!(!0!==R.constraint.atach.cmt(e)||(!0===w.isEmpty(t)?(alert(f.CMTPGN102),1):t.length<P.C_ATACH_MELON_MIN_SRCH_WORD?(alert(w.format(f.CMTPGN103,P.C_ATACH_MELON_MIN_SRCH_WORD)),1):t.length>P.C_ATACH_MELON_MAX_SRCH_WORD?(alert(w.format(f.CMTPGN104,P.C_ATACH_MELON_MAX_SRCH_WORD)),1):(w.log("@worker.constraint.atach.video.srch() executed done."),0)))},R.constraint.atach.image=function(e,t){if(w.log("@worker.constraint.atach.image() executed. editingCmtSeq=["+e+"], fileName=["+t+"]"),!0===R.constraint.atach.cmt(e))if(!0===w.isEmpty(t)||t.lastIndexOf(".")<1)alert(f.CMTPGN108);else{var a=t.substr(t.lastIndexOf(".")+1);w.log("worker.constraint.atach.image() executed. fileExt=["+a+"]");for(var n=0,r=P.C_ATACH_ALLOW_EXT_LIST.length;n<r;n++)if(a.toLowerCase()===P.C_ATACH_ALLOW_EXT_LIST[n].toLowerCase())return!0;alert(w.format(f.MW051,P.C_ATACH_ALLOW_EXT_LIST.toString())),w.log("@worker.constraint.atach.image() executed done.")}return!1},R.constraint.atach.link=function(e,t,a){if(w.log("@worker.constraint.atach.link() executed. editingCmtSeq=["+e+"], linkType=["+t+"], linkUrl=["+a+"]"),!0!==R.constraint.atach.cmt(e))return!1;if(!0!==u.valid.url(a))return alert(f.CMTPGN109),!1;if(t===P.C_ATACH_TYPE_LINK_VIDEO){w.log("worker.constraint.atach.link() G_SPAM_INFO.vdoLinkAtachPermUrlList is",c.vdoLinkAtachPermUrlList);var n=c.vdoLinkAtachPermUrlList;if(!0===w.isDefined(n)&&0<n.length)for(var r=0,i=n.length;r<i;r++)if(w.log("worker.constraint.atach.link() vdoLinkAtachPermUrlList[i].vdoLinkAtachPermUrl=["+n[r].vdoLinkAtachPermUrl+"]"),-1<a.toLowerCase().indexOf(n[r].vdoLinkAtachPermUrl.toLowerCase()))return!0;return w.log("worker.constraint.atach.link() NOT IN WHITE=["+a+"]"),alert(f.MW064),!1}if(t===P.C_ATACH_TYPE_LINK_GENRL){var o=c.genrlLinkAtachBreakUrlList;if(!0===w.isDefined(o)&&0<o.length)for(var l=0,s=o.length;l<s;l++)if(-1<a.toLowerCase().indexOf(o[l].genrlLinkAtachBreakUrl.toLowerCase()))return w.log("worker.constraint.atach.link() genrlLinkAtachBreakUrlList[j].breakUrl=["+o[l].genrlLinkAtachBreakUrl+"]"),alert(f.CMTPGN111),!1}return w.log("@worker.constraint.atach.link() executed done."),!0},R.constraint.cmt={},R.constraint.cmt.reg=function(e){return w.log("@worker.constraint.cmt.reg() executed. atachEntryList is",e),!0===R.constraint.cmt.post(e)&&(w.log("@worker.constraint.cmt.reg() executed done."),!0)},R.constraint.cmt.modify=function(e,t,a){return w.log("@worker.constraint.cmt.modify() executed. breakMark=["+e+"], delMark=["+t+"], ownerMark=["+a+"]"),"on"===e?(alert(f.CMTPGN007),!1):"on"===t?(alert(f.CMTPGN008),!1):"on"!==a?(alert(f.CMTPGN006),!1):(w.log("@worker.constraint.cmt.modify() executed done."),!0)},R.constraint.cmt.cancel=function(){return w.log("@worker.constraint.cmt.cancel() executed."),!1!==confirm(f.MW065)&&(w.log("@worker.constraint.cmt.cancel() executed done."),!0)},R.constraint.cmt.updt=function(e){return w.log("@worker.constraint.cmt.updt() executed. atachEntryList is",e),!0===R.constraint.cmt.post(e)&&(w.log("@worker.constraint.cmt.updt() executed done."),!0)},R.constraint.cmt.post=function(e){w.log("@worker.constraint.cmt.post() executed. atachEntryList is",e);for(var t="",a=0,n=0,r=e.length;n<r;n++)switch(w.log("worker.constraint.cmt.post() atachEntryList["+n+"].atachType=["+e[n].atachType+"]"),e[n].atachType){case P.C_ATACH_TYPE_TEXT:t+=!0===w.isEmpty(e[n].atachValue)?"":e[n].atachValue;break;case P.C_ATACH_TYPE_MUSIC_SONG:case P.C_ATACH_TYPE_MUSIC_ALBUM:case P.C_ATACH_TYPE_MUSIC_ARTIST:case P.C_ATACH_TYPE_IMAGE:case P.C_ATACH_TYPE_VIDEO:case P.C_ATACH_TYPE_LINK_VIDEO:case P.C_ATACH_TYPE_LINK_GENRL:a++}if(w.log("worker.constraint.cmt.post() atachText.length=["+t.length+"], cmtRegMinLength=["+S.cmtRegMinLength+"], cmtRegMaxLength=["+S.cmtRegMaxLength+"]"),a>S.atachMaxCnt)return alert(w.format(f.CMTPGN107,S.atachMaxCnt)),!1;if(0<a){if(!0===w.isEmpty(t))return alert(f.CMTPGN105),!1;if(t.length<S.cmtRegMinLength)return alert(w.format(f.MW007,S.cmtRegMinLength)),!1;if(!0!==w.isEmpty(t)&&t.length>S.cmtRegMaxLength)return alert(f.MW005),!1}else{if(!0===w.isEmpty(t))return alert(f.CMTPGN105),!1;if(t.length<S.cmtRegMinLength)return alert(w.format(f.MW007,S.cmtRegMinLength)),!1;if(t.length>S.cmtRegMaxLength)return alert(f.MW005),!1}if(!0!==w.isEmpty(t)){var i=w.getBreakWordCheckFormat(t),o=c.breakWordList;if(!0===w.isDefined(o)&&0<o.length)for(var n=0,l=o.length;n<l;n++)if(-1<v.trim(i).toLowerCase().indexOf(o[n].breakWord.toLowerCase()))return alert(w.format(f.MW006,o[n].breakWord)),!1}return w.log("@worker.constraint.cmt.post() executed done."),!0},R.constraint.cmt.del=function(e,t,a){return w.log("@worker.constraint.cmt.del() executed. breakMark=["+e+"], delMark=["+t+"], ownerMark=["+a+"]"),"on"===e?(alert(f.CMTPGN009),!1):"on"===t?(alert(f.CMTPGN010),!1):"on"!==a?(alert(f.CMTPGN006),!1):!1!==confirm(!0===S.adcmtUseFlag?f.MW042:f.MW066)&&(w.log("@worker.constraint.cmt.del() executed done."),!0)},R.constraint.adcmt={},R.constraint.adcmt.write=function(e,t){return w.log("@worker.constraint.adcmt.write() executed. breakMark=["+e+"], delMark=["+t+"]"),"on"===e?(alert(f.CMTPGN011),!1):"on"===t?(alert(f.CMTPGN012),!1):(w.log("@worker.constraint.adcmt.write() executed done."),!0)},R.constraint.adcmt.reg=function(e,t,a){if(w.log("@worker.constraint.adcmt.reg() executed. breakMark=["+e+"], delMark=["+t+"], contents=["+a+"]"),!0===w.isEmpty(a))return alert(f.CMTPGN105),!1;if(w.log("worker.constraint.adcmt.reg() contents.length=["+a.length+"], adcmtRegMinLength=["+S.adcmtRegMinLength+"], adcmtRegMaxLength=["+S.adcmtRegMaxLength+"]"),a.length<S.adcmtRegMinLength)return alert(w.format(f.MW007,S.adcmtRegMinLength)),!1;if(a.length>S.adcmtRegMaxLength)return alert(f.MW005),!1;var n=w.getBreakWordCheckFormat(a),r=c.breakWordList;if(!0===w.isDefined(r)&&0<r.length)for(var i=0,o=r.length;i<o;i++)if(-1<v.trim(n).toLowerCase().indexOf(r[i].breakWord.toLowerCase()))return alert(w.format(f.MW006,r[i].breakWord)),!1;return w.log("@worker.constraint.adcmt.reg() executed done."),!0},R.constraint.adcmt.del=function(e,t,a){return w.log("@worker.constraint.adcmt.del() executed. breakMark=["+e+"], delMark=["+t+"], ownerMark=["+a+"]"),"on"===e?(alert(f.CMTPGN009),!1):"on"===t?(alert(f.CMTPGN010),!1):"on"!==a?(alert(f.CMTPGN006),!1):!1!==confirm(f.MW066)&&(w.log("@worker.constraint.adcmt.del() executed done."),!0)},R.constraint.recm=function(e,t,a,n,r){return w.log("@worker.constraint.recm() executed. breakMark=["+e+"], delMark=["+t+"], ownerMark=["+a+"], positiveOnFlag=["+n+"], negativeOnFlag=["+r+"]"),"on"===e?(alert(f.CMTPGN013),!1):"on"===t?(alert(f.CMTPGN014),!1):!0===n||!0===r?(!0===r?alert(f.MW115):alert(f.MW114),!1):(w.log("@worker.constraint.recm() executed done."),!0)},R.constraint.reprt=function(e,t,a){return w.log("@worker.constraint.reprt() executed. breakMark=["+e+"], delMark=["+t+"], ownerMark=["+a+"]"),"on"===e?(alert(f.CMTPGN015),!1):"on"===t?(alert(f.CMTPGN016),!1):"on"===a?(alert(f.CMTPGN006),!1):(w.log("@worker.constraint.reprt() executed done."),!0)},R},"0.1.0",["jquery"])})(window),iframeObj=$("#d_cmtpgn_tunnel_frame"),httpWww=(0===iframeObj.length&&(iframeObj=$('<iframe id="d_cmtpgn_tunnel_frame" name="d_cmtpgn_tunnel_frame" src="javascript:false;" style="width:0; height:0; border:0;"></iframe>'),iframeObj.attr("src",DeployPhaseUtils.convertUrl("https://cmt.melon.com/cmt/plugin/template/melonweb_cmtpgn_tunnel2.html")),iframeObj.appendTo($("body"))),DeployPhaseUtils.convertUrl("http://ticket.melon.com")),httpsWww=DeployPhaseUtils.convertUrl("https://ticket.melon.com"),POC_ID="WP15",melon=MELON.WEBSVC.POC;try{document.domain="melon.com"}catch(e){}try{melon.setPocId()}catch(e){}